import{b as xt,p as bt,E as kt,c as $t,d as rt,r as A,a as he,o as ke,e as $,f as i,g as h,h as t,w as a,i as n,t as e,u as s,j as g,F as oe,k as pe,l as Je,m as Me,n as Q,q as L,s as xe,v as me,x as je,y as mt,z as Le,A as Ce,J as wt,C as Tt,B as St,D as qt,G as It,H as Ct,I as Nt,K as Rt,L as Ot,M as Ft,N as Vt,O as Lt,P as At,Q as Jt,T as Mt,R as Et,S as Pt,U as zt,V as Bt,W as Ht,X as Dt,Y as Gt,Z as Yt,_ as jt,$ as Wt,a0 as Ut,a1 as Kt,a2 as Xt,a3 as Zt,a4 as Qt,a5 as ea,a6 as ta,a7 as aa,a8 as na,a9 as sa,aa as la,ab as oa,ac as ia,ad as ra,ae as ua,af as ca,ag as da,ah as pa,ai as _a,aj as ma,ak as ga,al as ya,am as fa,an as ha,ao as va,ap as xa,aq as ba,ar as ka,as as $a,at as wa,au as Ta,av as Sa}from"./vendor.0fa32af0.js";const qa=function(){const _=document.createElement("link").relList;if(_&&_.supports&&_.supports("modulepreload"))return;for(const v of document.querySelectorAll('link[rel="modulepreload"]'))m(v);new MutationObserver(v=>{for(const d of v)if(d.type==="childList")for(const C of d.addedNodes)C.tagName==="LINK"&&C.rel==="modulepreload"&&m(C)}).observe(document,{childList:!0,subtree:!0});function u(v){const d={};return v.integrity&&(d.integrity=v.integrity),v.referrerpolicy&&(d.referrerPolicy=v.referrerpolicy),v.crossorigin==="use-credentials"?d.credentials="include":v.crossorigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function m(v){if(v.ep)return;v.ep=!0;const d=u(v);fetch(v.href,d)}};qa();window.Buffer=xt.Buffer;window.process=bt;window.EventEmitter=kt;const Ia={en:{update:{time:"20220519",title:"Last update",desc:"2022-05-19:<br/>1.Add inquiry account card withdrawal details.<br/>2022-05-15:<br/>1.The measurement page supports reading castle ranking data.<br/>2022-05-07:<br/>1.The starting time of the card withdrawal page is 00: 00(UTC)\u3002<br/>2.Add the history of card drawing in the last 5 days.<br/>3.Increase the latest orange-free and purple-free index.<br/>2022-04-28:<br/>1.Optimize the prefabrication and configuration of heroes.<br/>2022-04-25:<br/>1.Calculation page adds optimization suggestion function.<br/>2.Fix the problem that attributes are reset to default after equipment selection level.<br/>2022-04-21:<br/>1.Calculation page adds document storage and reading function.<br/>2.Calculate the ranking of page matching leaderboard.<br/>2022-04-20:<br/>1.Add predict page.<br/>2.Add the card drawing page and click the account number to view the details on the chain.<br/>2022-04-14:<br/>1.Add equipment to the hankbook page.<br/>2.callhero list column is added to view more and only 5 cards are displayed."},common:{no_more:"There is no more",add_more:"add more ...",loading:"loading...",show_only_5:"Only 5 lines",dev_soon:"In development, please stay tuned",author:"Author",view:"View",copyright:"TINYTOOLS ",paytip_title:"Reward developers",paytip_desc:"Development is not easy, and your reward is the driving force for continuous updating!",address:"Address",paytip_btnok:"Copy the address to reward",paytip_cancel:"Cancel",paytip_suress:"Copy the address successfully!",unselect:"unselect",confirm:"confirm",cancel:"cancel",hour:"hour",minute:"minute",delete_succeed:"Delete Succeed",price:"price",Invalid_address:"Invalid address",no_data:"The data is blank or not entered.",connect_wallet:"Connect wallet"},tabbar:{home:"Home",baike:"Handbook",predict:"Predict",callhero:"CallHero",nft:"NFT",game:"Game",my:"My",playerlist:"Ranking list",calladdress:"Address search"},home:{title:"TinyTools",tincprice:"TINC price",alltvl:"ALL TVL",tbtvl:"TINC/BNB TVL",tbapy:"TINC/BNB APY",title_tutorial:"Tutorial",title_economic:"Economic",title_link:"Official link",link_web:"Official",link_farm:"Farm",link_kingdom:"Kingdom",link_dungeons:"Dungeons"},callhero:{notie_1:"burst",notie_2:"InitPower",heartIndex:"HeartIndex",total_time:"Time",total_open:"Burst",title_nft:"NFT",title_open:"Burst",title_theory:"Theory",open_trend:"Burst Trend",list_last:"New Burst",list_luck:"Luck List",list_bad:"Contribute List",list_address:"Address",list_grades:"Grades",list_total:"Total",list_time:"Time",list_date:"Date",no_orange:"SSSR",no_purple:"SSR",openbox_more:"addressInfo"},baike:{book_hero:"Hero",book_material:"Material",book_equip:"Equip"},hero:{grade_all:"All Grade",type_all:"All Type",type_1:"Warrior",type_2:"Ranger",type_3:"Wizard",init_power:"InitPower",attack:"Attack",defense:"Defense",hp:"Hp",luck:"Luck",expedition:"Expedition",hour:"Hour",crystal:"Crystal",material:"Material",flop_odds:"FlopOdds",attack_1:"Attack Desc",attack_0:"Attack Asc",defense_1:"Defense Desc",defense_0:"Defense Asc",hp_1:"Hp Desc",hp_0:"Hp Asc",luck_1:"Luck Desc",luck_0:"Luck Asc"},equip:{grade_all:"All Grade",type_all:"All Type",type_1:"weapon",type_2:"armor",type_3:"ornaments",subtype_1:"LightWeapon",subtype_2:"HeavyWeapon",subtype_3:"RangeWeapon",subtype_4:"Staff",subtype_5:"LightArmor",subtype_6:"HeavyArmor",subtype_7:"Amulet",subtype_8:"Accessory",required_level:"RequiredLevel",floor_price:"FloorPrice",no_stock:"no stock"},predict:{select_team:"Hero team",total_cell:"Ranking",select_one:"Choose one ",no_select_hero:"no hero",no_select_equip:"no equip",attribute:"attribute",value:"value",equip_add:"equip add",total:"total",current_level:"Current Level",attribute_bonus:"Attribute Bouns",attribute_adjustment:"Attribute Adjustment",choose_hero_first:"Please choose a hero first\uFF01",castle_floor:"floor",kill_enemy:"Kill",survival_time:"time",measure_one:"detail",team_file:"team document",new_document:"new document",save_document:"save team",delete_file:"delete document",delete_file_message:"Are you sure you want to delete the document",castle_ranking:"castle ranking",weekly_reward:"weekly reward",daily_income:"daily income",setting_no_save:"Empty configuration cannot be saved",setting_save_ok:"Save configuration information successfully",optimize_cell:"Optimization suggestion",promotion:"Optimization and promotion",procedure:"operating procedure",no_suggestions:"No suggestions",read_randlist:"Read leaderboard",ranklist_city:"City ranklist",real_time:"reality"},calladdress:{placeholder:"Enter address",no_openbox:"No card drawing data was found",horoscope:"Timing fortune",history:"history",trend:"Trend interpretation",total_card:"Total cards",luck_index:"Luck index",label_max_zodiac:"is your animal sign.",label_max_range:"the card withdrawal rate is the highest.",label_luck_color:"is your lucky color.",label_luck_card:"\uFF0CExceeding probability is the highest.",label_min_zodiac:"is a sign of affinity.",label_min_range:"the card withdrawal rate is the lowest."}},zh_TW:{update:{time:"20220519",title:"\u6700\u8FD1\u66F4\u65B0",desc:"2022-05-19:<br/>1.\u6DFB\u52A0\u67E5\u8A62\u8CEC\u865F\u62BD\u5361\u660E\u7D30\u3002<br/>2022-05-15:<br/>1.\u6E2C\u7B97\u9801\u9762\u652F\u6301\u8B80\u53D6\u57CE\u5821\u6392\u884C\u699C\u6578\u64DA\u3002<br/>2022-05-07:<br/>1.\u62BD\u5361\u9801\u9762\u8D77\u59CB\u6642\u9593UTC00:00(\u6771\u516B\u5340\u537308:00)\u3002<br/>2.\u589E\u52A0\u6700\u8FD15\u5929\u62BD\u5361\u6B77\u53F2\u8A18\u9304\u67E5\u770B\u3002<br/>3.\u589E\u52A0\u6700\u65B0\u7121\u6A59\u7121\u7D2B\u6307\u6578\u3002<br/>2022-04-28:<br/>1.\u512A\u5316\u9810\u88FD\u914D\u7F6E\u82F1\u96C4\u968A\u4F0D\u3002<br/>2022-04-25:<br/>1.\u6E2C\u7B97\u9801\u9762\u6DFB\u52A0\u512A\u5316\u5EFA\u8B70\u529F\u80FD\u3002<br/>2.\u4FEE\u5FA9\u88DD\u5099\u9078\u64C7\u7B49\u7D1A\u5F8C\u5C6C\u6027\u91CD\u7F6E\u70BA\u9ED8\u8A8D\u554F\u984C\u3002<br/>2022-04-21:<br/>1.\u6E2C\u7B97\u9801\u9762\u6DFB\u52A0\u6587\u6A94\u5B58\u5132\u8B80\u53D6\u529F\u80FD\u3002<br/>2.\u6E2C\u7B97\u9801\u9762\u5339\u914D\u6392\u884C\u699C\u540D\u6B21\u3002<br/>2022-04-20:<br/>1.\u6DFB\u52A0\u6E2C\u7B97\u9801\u9762\u3002<br/>2.\u62BD\u5361\u9801\u9762\u6DFB\u52A0\u9EDE\u64CA\u8CEC\u865F\u67E5\u770B\u93C8\u4E0A\u8A73\u60C5\u3002<br/>2022-04-14:<br/>1.\u767E\u79D1\u9801\u9762\u6DFB\u52A0\u88DD\u5099\u5716\u9452\u3002<br/>2.\u62BD\u5361\u5217\u8868\u6B04\u6DFB\u52A0\u67E5\u770B\u66F4\u591A\u548C\u53EA\u986F\u793A5\u689D\u3002"},common:{no_more:"\u6C92\u6709\u66F4\u591A\u4E86",add_more:"\u52A0\u8F09\u66F4\u591A...",loading:"\u52A0\u8F09\u4E2D...",show_only_5:"\u53EA\u986F\u793A5\u884C",dev_soon:"\u958B\u767C\u4E2D\uFF0C\u656C\u8ACB\u671F\u5F85",author:"\u4F5C\u8005",view:"\u67E5\u770B",copyright:"TINYTOOLS ",paytip_title:"\u6253\u8CDE\u958B\u767C\u8005",paytip_desc:"\u958B\u767C\u4E0D\u6613\uFF0C\u60A8\u7684\u6253\u8CDE\u662F\u6301\u7E8C\u66F4\u65B0\u7684\u52D5\u529B\uFF01",address:"\u5730\u5740",paytip_btnok:"\u8907\u88FD\u5730\u5740\u53BB\u6253\u8CDE",paytip_cancel:"\u53D6\u6D88",paytip_suress:"\u8907\u88FD\u5730\u5740\u6210\u529F\uFF01",unselect:"\u53D6\u6D88\u9078\u64C7",confirm:"\u78BA\u8A8D",cancel:"\u53D6\u6D88",hour:"\u5C0F\u6642",minute:"\u5206",delete_succeed:"\u522A\u9664\u6210\u529F",price:"\u50F9\u683C",Invalid_address:"\u7121\u6548\u5730\u5740",no_data:"\u6578\u64DA\u70BA\u7A7A\u6216\u672A\u9304\u5165",connect_wallet:"\u93C8\u63A5\u9322\u5305"},tabbar:{home:"\u6982\u89C8",baike:"\u767E\u79D1",predict:"\u6E2C\u7B97",callhero:"\u62BD\u5361",nft:"NFT",game:"\u6E38\u620F",my:"\u6211\u7684",playerlist:"\u6392\u884C\u699C",calladdress:"\u8CEC\u865F\u62BD\u5361\u7D71\u8A08"},home:{title:"\u5C0F\u5C0F\u52A9\u624B",tincprice:"TINC \u50F9\u683C",alltvl:"\u7E3D\u9396\u5009\u50F9\u503C",tbtvl:"TINC/BNB\u9396\u5009",tbapy:"TINC/BNB\u5E74\u5316",title_tutorial:"\u6559\u7A0B\u653B\u7565",title_economic:"\u7D93\u6FDF\u6A21\u578B",title_link:"\u5B98\u65B9\u93C8\u63A5",link_web:"\u5B98\u7DB2",link_farm:"\u5C0F\u5C0F\u8FB2\u5834",link_kingdom:"\u5C0F\u5C0F\u738B\u570B",link_dungeons:"\u5730\u4E0B\u57CE"},callhero:{notie_1:"\u62BD\u51FA",notie_2:"\u521D\u59CB\u6218\u529B",heartIndex:"\u5FC3\u52D5\u6307\u6578",total_time:"\u7D71\u8A08\u6642\u9593",total_open:"\u62BD\u5361\u5408\u8A08",title_nft:"\u5361\u724C",title_open:"\u7522\u51FA",title_theory:"\u7406\u8AD6",open_trend:"\u62BD\u5361\u8DA8\u52E2\u5716",list_last:"\u6700\u65B0\u62BD\u5361",list_luck:"\u5E78\u904B\u699C",list_bad:"\u5949\u737B\u699C",list_address:"\u8CEC\u865F",list_grades:"\u6230\u7E3E",list_total:"\u6B21\u6578",list_time:"\u6642\u9593",list_date:"\u65E5\u671F",no_orange:"\u7121\u6A59",no_purple:"\u7121\u7D2B",openbox_more:"\u62BD\u5361\u8A73\u60C5"},baike:{book_hero:"\u82F1\u96C4\u5716\u9452",book_material:"\u6750\u6599\u5716\u9452",book_equip:"\u88DD\u5099\u5716\u9452"},hero:{grade_all:"\u5168\u90E8\u7B49\u7D1A",type_all:"\u5168\u90E8\u985E\u578B",type_1:"\u6230\u58EB",type_2:"\u904A\u4FE0",type_3:"\u6CD5\u5E2B",init_power:"\u521D\u59CB\u6230\u529B",attack:"\u653B\u64CA",defense:"\u9632\u79A6",hp:"\u751F\u547D",luck:"\u5E78\u904B",expedition:"\u9060\u5F81",hour:"\u5C0F\u6642",crystal:"\u6C34\u6676",material:"\u6750\u6599",flop_odds:"\u6389\u843D\u5E7E\u7387",attack_1:"\u653B\u64CA\u964D\u5E8F",attack_0:"\u653B\u64CA\u5347\u5E8F",defense_1:"\u9632\u79A6\u964D\u5E8F",defense_0:"\u9632\u79A6\u5347\u5E8F",hp_1:"\u751F\u547D\u964D\u5E8F",hp_0:"\u751F\u547D\u5347\u5E8F",luck_1:"\u5E78\u8FD0\u964D\u5E8F",luck_0:"\u5E78\u8FD0\u5347\u5E8F"},equip:{grade_all:"\u5168\u90E8\u7B49\u7D1A",type_all:"\u5168\u90E8\u985E\u578B",type_1:"\u6B66\u5668",type_2:"\u9632\u5177",type_3:"\u98FE\u54C1",subtype_1:"\u8F15\u6B66\u5668",subtype_2:"\u91CD\u6B66\u5668",subtype_3:"\u9060\u7A0B\u6B66\u5668",subtype_4:"\u6CD5\u8853\u6B66\u5668",subtype_5:"\u9577\u888D",subtype_6:"\u76D4\u7532",subtype_7:"\u8B77\u7B26",subtype_8:"\u98FE\u54C1",required_level:"\u7B49\u7D1A\u9700\u6C42",floor_price:"\u6700\u5E95\u50F9",no_stock:"\u7121\u8CA8"},predict:{select_team:"\u82F1\u96C4\u6230\u968A",total_cell:"\u6392\u540D\u6E2C\u7B97",select_one:"\u9078\u64C7\u4E00\u500B",no_select_hero:"\u4E0D\u9078\u64C7\u82F1\u96C4",no_select_equip:"\u4E0D\u9078\u64C7\u88DD\u5099",attribute:"\u5C6C\u6027",value:"\u6578\u503C",equip_add:"\u88DD\u5099\u52A0\u6210",total:"\u5408\u8A08",current_level:"\u7576\u524D\u7B49\u7D1A",attribute_bonus:"\u5C6C\u6027\u52A0\u6210",attribute_adjustment:"\u4FEE\u6539\u5C6C\u6027",choose_hero_first:"\u8ACB\u5148\u9078\u64C7\u82F1\u96C4\uFF01",castle_floor:"\u57CE\u5821",kill_enemy:"\u6BBA\u6575",survival_time:"\u6642\u9593",measure_one:"\u660E\u7D30",team_file:"\u914D\u7F6E\u6587\u6A94",new_document:"\u65B0\u5EFA\u6587\u6A94",save_document:"\u5B58\u5132\u914D\u7F6E",delete_file:"\u522A\u9664\u6587\u6A94",delete_file_message:"\u4F60\u78BA\u5B9A\u8981\u522A\u9664\u6587\u6A94",castle_ranking:"\u9810\u8A08\u6392\u540D",weekly_reward:"\u5468\u734E\u52F5",daily_income:"\u6298\u5408\u65E5\u6536\u76CA",setting_no_save:"\u7A7A\u914D\u7F6E\u7121\u6CD5\u5B58\u5132",setting_save_ok:"\u5B58\u5132\u914D\u7F6E\u4FE1\u606F\u6210\u529F",optimize_cell:"\u512A\u5316\u5EFA\u8B70",promotion:"\u512A\u5316\u63D0\u5347",procedure:"\u64CD\u4F5C\u6B65\u9A5F",no_suggestions:"\u66AB\u7121\u512A\u5316\u5EFA\u8B70",read_randlist:"\u8B80\u53D6\u6392\u884C\u699C",ranklist_city:"\u57CE\u5821\u6392\u884C\u699C",real_time:"\u7576\u524D"},calladdress:{placeholder:"\u8F38\u5165\u5730\u5740",no_openbox:"\u6C92\u6709\u67E5\u8A62\u5230\u62BD\u5361\u6578\u64DA",horoscope:"\u6642\u8FB0\u904B\u52E2",history:"\u6B77\u53F2\u8A18\u9304",trend:"\u8DA8\u52E2\u89E3\u8B80",total_card:"\u7E3D\u62BD\u5361\u6578",luck_index:"\u597D\u904B\u6307\u6578",label_max_zodiac:"\u662F\u60A8\u7684\u5C6C\u76F8\u3002",label_max_range:"\u65F6\uFF0C\u62BD\u5361\u6536\u76CA\u7387\u6700\u9AD8\u3002",label_luck_color:"\u662F\u60A8\u7684\u5E78\u8FD0\u8272\u3002",label_luck_card:"\uFF0C\u8D85\u8D8A\u6982\u7387\u6700\u591A\u3002",label_min_zodiac:"\u662F\u76F8\u514B\u5C5E\u76F8\u3002",label_min_range:"\u65F6\uFF0C\u62BD\u5361\u6536\u76CA\u7387\u6700\u4F4E\u3002"}}},O=$t({locale:"en",messages:Ia});function gt(l){return l.substring(0,6)+"..."+l.substring(l.length-4,l.length)}function we(l){return function(_,u){var m=_[l],v=u[l];return v<m?1:v>m?-1:0}}async function Ca(l,_){const u=new Request(l,{method:"post",headers:{"Content-Type":"application/json;charset=utf-8;"},body:JSON.stringify(_)});return await be(u)}async function be(l){const u=await(await fetch(l,{mode:"cors"})).text();return u?JSON.parse(u):{}}const Na="https://api.tinyworlds.io/api/farm/pools",Ra="https://api.tinyworlds.io/api/auctions/dashboard",Oa="https://api.tinyworlds.io/api/runeauctions/dashboard",We=rt("tiny",{state:()=>({pools:null,autions:null,runeautions:null}),getters:{},actions:{async initPools(){this.pools=await be(Na)},async initAutions(){this.autions=await be(Ra)},async initRuneAutions(){this.runeautions=await be(Oa)}}}),Fa=[{title_cn:"Tiny World -- \u4E2D\u6587\u4FDD\u59C6\u7EA7\u6559\u7A0B",title_en:"Tinyworld-Chinese nanny-level tutorial",desc_cn:"Tiny World \u662F\u4E00\u6B3E\u5F52\u96C6\u4E4B\u524DGameFi\u9879\u76EE\u4F18\u52BF\u4E3A\u81EA\u5DF1\u6240\u7528\u7684\u6E38\u620F",desc_en:"Tiny World is a game that collects the advantages of previous GameFi projects for your own use.",thumb:"https://www.tinyworlds.io/static/media/banner4.90355beac7b60a5bf07b.png",link:"https://jiamigou.gitbook.io/jiamigou/yuan-yu-zhou-you-xi-jiao-cheng/tiny-world-zhong-wen-bao-mu-ji-jiao-cheng",tags_cn:["\u6587\u5B57\u6559\u7A0B","gitbook"],tags_en:["Text course","gitbook"],author_cn:"\u52A0\u5BC6\u72D7",author_en:"softdog"},{title_cn:"GameFi\u6E38\u620FTiny World\u6316\u77FF\u6559\u7A0B(\u4E00)\uFF1A\u6E38\u620F\u4E0Edefi\u76F8\u7ED3\u5408",title_en:"GameFi Game Tiny World Mining Tutorial (1): Combination of Game and defi",desc_cn:"BNBchain\u4E0A\u65B0\u7684GameFi\u9879\u76EETinyWorld",desc_en:"TinyWorld, a new GameFi project on BNBchain",thumb:"https://tinyworlds.vercel.app//assets/newlist02.jpg",link:"https://www.bilibili.com/video/BV1X44y1M7vU",tags_cn:["\u89C6\u9891\u6559\u7A0B","bilibili"],tags_en:["Video tutorial","bilibili"],author_cn:"\u4F73\u4F26\u5B9E\u9A8C\u5BA4",author_en:"GallonLabs"},{title_cn:"TinyKingdom\u73A9\u6CD5\u653B\u7565 TinyWorld\u5982\u4F55PlayToEarn\u4E0E\u6E38\u620F\u517C\u987E",title_en:"TinyKingdom Play Introduction TinyWorld How to PlayToEarn with the Game",desc_cn:"\u4F11\u95F2\u6302\u673A\u6E38\u620F\uFF0C\u6536\u96C6\u66F4\u597D\u7684\u6750\u6599\uFF0C\u5408\u6210\u66F4\u5389\u5BB3\u7684\u88C5\u5907\uFF0C\u51B2\u8FDB\u6392\u884C\u699C\u524D100\u540D\u5206\u4EAB30\u4E07TINC\u5956\u52B1\u3002",desc_en:"Hang up games for leisure, collect better materials, synthesize more powerful equipment, and rush into the top 100 in the list to share 300,000 TINC rewards.",thumb:"https://tinyworlds.vercel.app/assets/newlist03.jpg",link:"https://www.bilibili.com/video/BV1Lu411z7gs",tags_cn:["\u89C6\u9891\u6559\u7A0B","bilibili"],tags_en:["Video tutorial","bilibili"],author_cn:"\u4F73\u4F26\u5B9E\u9A8C\u5BA4",author_en:"GallonLabs"}];var Va="/assets/logo.f22f6c0a.png",La="/assets/logo_farm.a8811797.png",Aa="/assets/logo_kingdom.cacd5b0b.png",Ja="/assets/logo_dungeons.9a00a9fa.png",Ma="/assets/gamefi.65e50883.png";var Ie=(l,_)=>{const u=l.__vccOpts||l;for(const[m,v]of _)u[m]=v;return u};const Ea=l=>(Je("data-v-2cbf09cd"),l=l(),Me(),l),Pa={class:"text-left margin-left"},za={class:"text-gray text-df"},Ba={class:"margin-top-xs margin-left-sm"},Ha=Ea(()=>n("span",{class:"text-orange text-df"},"$",-1)),Da={class:"text-orange text-sl"},Ga={class:"margin"},Ya={class:"text-lg text-gray margin-left-sm"},ja={class:"text-gray"},Wa={class:"margin"},Ua={class:"text-lg text-gray margin-left-sm"},Ka={class:"margin"},Xa={class:"text-lg text-gray margin-left-sm"},Za={class:"margin-top-xs"},Qa={class:"margin-top-xs"},en={class:"margin-top-xs"},tn={class:"margin-top-xs"},an={setup(l){const _=A(Va),u=A(La),m=A(Aa),v=A(Ja),d=A(Ma),C=We(),T=A(Fa),r=he({tincprice:0,alltvl:0,tbtvl:0,tbapy:0});return ke(async()=>{C.pools||await C.initPools(),r.tincprice=parseFloat(C.pools.price.TINC).toFixed(2),r.alltvl=parseInt(C.pools.tvlTotal),r.tbtvl=parseInt(C.pools.stakeInfos["-1"].tvl);const p=parseInt(C.pools.stakeInfos["-1"].baseApy*100)+parseInt(C.pools.stakeInfos["-1"].cakeApr.lpRewardsApr*100);r.tbapy=parseFloat(p/81).toFixed(2)}),(p,y)=>{const I=$("van-col"),f=$("van-row"),b=$("van-cell-group"),w=$("van-tag"),H=$("van-button"),X=$("van-card"),Z=$("van-image"),ee=$("van-grid-item"),D=$("van-grid");return i(),h(oe,null,[t(b,{inset:"",style:{"margin-top":"10px"}},{default:a(()=>[t(f,{justify:"space-between",class:"text-center text-gray margin-tb"},{default:a(()=>[t(I,{span:"8"},{default:a(()=>[n("div",Pa,[n("span",za,e(p.$t("home.tincprice")),1)]),n("div",Ba,[Ha,n("span",Da,e(s(r).tincprice),1)])]),_:1}),t(I,{span:"14"},{default:a(()=>[t(f,{class:"margin-top-xs",justify:"space-between"},{default:a(()=>[t(I,{span:"10",class:"text-gray text-sm text-right"},{default:a(()=>[g(e(p.$t("home.alltvl")),1)]),_:1}),t(I,{span:"12",class:"text-black text-df text-left"},{default:a(()=>[g("$ "+e(s(r).alltvl),1)]),_:1})]),_:1}),t(f,{class:"margin-top-xs",justify:"space-between"},{default:a(()=>[t(I,{span:"10",class:"text-gray text-sm text-right"},{default:a(()=>[g(e(p.$t("home.tbtvl")),1)]),_:1}),t(I,{span:"12",class:"text-black text-df text-left"},{default:a(()=>[g("$ "+e(s(r).tbtvl),1)]),_:1})]),_:1}),t(f,{class:"margin-top-xs",justify:"space-between"},{default:a(()=>[t(I,{span:"10",class:"text-gray text-sm text-right"},{default:a(()=>[g(e(p.$t("home.tbapy")),1)]),_:1}),t(I,{span:"12",class:"text-black text-df text-left"},{default:a(()=>[g(e(s(r).tbapy)+"%",1)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),n("div",Ga,[n("span",Ya,e(p.$t("home.title_tutorial")),1)]),t(b,{inset:""},{default:a(()=>[(i(!0),h(oe,null,pe(T.value,(J,o)=>(i(),Q(X,{style:{"background-color":"#fff"},key:o,desc:s(O).global.locale=="zh_TW"?J.desc_cn:J.desc_en,title:s(O).global.locale=="zh_TW"?J.title_cn:J.title_en,thumb:J.thumb,"thumb-link":J.link},{tags:a(()=>[t(w,{plain:"",color:"#aaaaaa"},{default:a(()=>[g(e(s(O).global.locale=="zh_TW"?J.tags_cn[0]:J.tags_en[0]),1)]),_:2},1024),t(w,{plain:"",color:"#aaaaaa",class:"margin-left-xs"},{default:a(()=>[g(e(s(O).global.locale=="zh_TW"?J.tags_cn[1]:J.tags_en[1]),1)]),_:2},1024)]),price:a(()=>[n("span",ja,e(p.$t("common.author"))+"\uFF1A"+e(s(O).global.locale=="zh_TW"?J.author_cn:J.author_en),1)]),num:a(()=>[t(H,{icon:"share-o",size:"mini",url:J.link},{default:a(()=>[g(e(p.$t("common.view")),1)]),_:2},1032,["url"])]),_:2},1032,["desc","title","thumb","thumb-link"]))),128))]),_:1}),n("div",Wa,[n("span",Ua,e(p.$t("home.title_economic")),1)]),t(b,{inset:""},{default:a(()=>[t(Z,{fit:"fill",src:d.value},null,8,["src"])]),_:1}),n("div",Ka,[n("span",Xa,e(p.$t("home.title_link")),1)]),t(b,{inset:""},{default:a(()=>[t(D,{class:"text-df text-gray",gutter:5,border:!1},{default:a(()=>[t(ee,{url:"https://www.tinyworlds.io"},{default:a(()=>[t(Z,{fit:"fill",src:_.value},null,8,["src"]),n("span",Za,e(p.$t("home.link_web")),1)]),_:1}),t(ee,{url:"https://app.tinyworlds.io"},{default:a(()=>[t(Z,{fit:"fill",src:u.value},null,8,["src"]),n("span",Qa,e(p.$t("home.link_farm")),1)]),_:1}),t(ee,{url:"https://tinykingdom.tinyworlds.io"},{default:a(()=>[t(Z,{fit:"fill",src:m.value},null,8,["src"]),n("span",en,e(p.$t("home.link_kingdom")),1)]),_:1}),t(ee,{url:"https://docs.tinyworlds.io/tiny-games/tiny-dungeons"},{default:a(()=>[t(Z,{fit:"fill",src:v.value,class:"g"},null,8,["src"]),n("span",tn,e(p.$t("home.link_dungeons")),1)]),_:1})]),_:1})]),_:1})],64)}}};var nn=Ie(an,[["__scopeId","data-v-2cbf09cd"]]);const lt=[{grade:1,crystal:[5,10,15,20,25,30,35,45],exptime:12},{grade:2,crystal:[10,20,30,40,50,60,70,90],drop:[100,200,300,400,500,600,700,900],exptime:18},{grade:3,crystal:[25,50,75,100,125,150,175,225],drop:[30,60,90,120,150,180,210,300],exptime:24},{grade:4,crystal:[150,155,160,175,180,190,200,250,260,270,280,320,330,345,360,425,440,460,480,600],drop:[80,90,100,120,130,140,150,200,220,240,260,320,340,360,380,470,490,520,550,660],exptime:36},{grade:5,crystal:[400,410,420,440,460,480,500,550,580,600,630,730,760,790,820,920,950,990,1040,1350],drop:[500,550,600,650,700,750,800,100,110,120,130,180,190,200,210,270,280,300,320,400],exptime:48}],ye=[{grade:1,title:"N",color:"grey",rgb:"#8799a3",color_cn:"\u7070\u8272"},{grade:2,title:"R",color:"green",rgb:"#39b54a",color_cn:"\u7EFF\u8272"},{grade:3,title:"SR",color:"blue",rgb:"#0081ff",color_cn:"\u84DD\u8272"},{grade:4,title:"SSR",color:"purple",rgb:"#6739b6",color_cn:"\u7D2B\u8272"},{grade:5,title:"SSSR",color:"orange",rgb:"#f37b1d",color_cn:"\u6A59\u8272"}],it=[{code:100,title:"N",color:"grey",rgb:"#8799a3"},{code:200,title:"R",color:"green",rgb:"#39b54a"},{code:300,title:"SR",color:"blue",rgb:"#0081ff"},{code:400,title:"SSR",color:"purple",rgb:"#6739b6"},{code:500,title:"SSR",color:"purple",rgb:"#6739b6"},{code:600,title:"SSSR",color:"orange",rgb:"#f37b1d"},{code:700,title:"SSSR",color:"orange",rgb:"#f37b1d"}],sn="https://api.tinyworlds.io/resources/data/json/hero.json",dt=[{grade:1,initmine:1,initmine2:1,levelcap:8,energy:60},{grade:2,initmine:4,initmine2:4,levelcap:8,energy:90},{grade:3,initmine:15,initmine2:15,levelcap:8,energy:120},{grade:4,initmine:90,initmine2:140,levelcap:20,energy:180},{grade:5,initmine:400,initmine2:800,levelcap:20,energy:210}],Ee=rt("hero",{state:()=>({heros:null}),getters:{},actions:{async initHeros(){const l=await be(sn),_=[];l.forEach(function(u){u.crystal=lt.find(m=>m.grade==u.grade).crystal,u.exptime=lt.find(m=>m.grade==u.grade).exptime,u.grade>1&&(u.drop=lt.find(m=>m.grade==u.grade).drop),u.image="https://images.tinyworlds.io/hero/"+u.code+".png",u.initmine=dt.find(m=>m.grade==u.grade).initmine,u.initmine2=dt.find(m=>m.grade==u.grade).initmine2,_.push(u)}),this.heros=_}}}),ln={class:"margin-left-xs"},on={key:0,class:"margin-left-xs padding-lr-xs bg-grey"},rn={key:0,class:"margin-left-xs padding-lr-xs bg-grey"},un={key:0,class:"margin-left-xs padding-lr-xs bg-grey"},cn={key:0,class:"margin-left-xs padding-lr-xs bg-grey"},dn={setup(l){const _=Ee(),u=A(0),m=A(0),v=A("attack_1"),d=[{text:O.global.t("hero.type_all"),value:0},{text:O.global.t("hero.type_1"),value:1},{text:O.global.t("hero.type_2"),value:2},{text:O.global.t("hero.type_3"),value:3}],C=[{text:O.global.t("hero.grade_all"),value:0},{text:"N",value:1},{text:"R",value:2},{text:"SR",value:3},{text:"SSR",value:4},{text:"SSSR",value:5}],T=[{text:O.global.t("hero.attack_1"),value:"attack_1"},{text:O.global.t("hero.attack_0"),value:"attack_0"},{text:O.global.t("hero.defense_1"),value:"defense_1"},{text:O.global.t("hero.defense_0"),value:"defense_0"},{text:O.global.t("hero.hp_1"),value:"hp_1"},{text:O.global.t("hero.hp_0"),value:"hp_0"},{text:O.global.t("hero.luck_1"),value:"luck_1"},{text:O.global.t("hero.luck_0"),value:"luck_0"}];let r=[0,0,"attack_1"];const p=A([]);let y=[];const I=A(!1),f=A(!1);let b=10;const w=10;ke(async()=>{_.heros||await _.initHeros(),D(r)});const H=async()=>{_.heros||await _.initHeros(),y.length==0&&D(r),b+=w,I.value=!1,b<y.length?p.value=y.slice(0,b):(p.value=y,f.value=!0)},X=o=>{b=10,f.value=!1,r[0]=o,D(r)},Z=o=>{b=10,f.value=!1,r[1]=o,D(r)},ee=o=>{b=10,f.value=!1,r[2]=o,D(r)},D=o=>{y=[],y.push(...JSON.parse(JSON.stringify(_.heros))),o[0]>0&&(y=y.filter(M=>M.grade==o[0])),o[1]>0&&(y=y.filter(M=>M.type==o[1]));let q=o[2].split("_");y=y.sort(we(q[0])),q[1]>0&&(y=y.reverse()),p.value=y.slice(0,10)},J={cardPadding:"10px",cardBackgroundColor:"#FFFFFF"};return(o,q)=>{const M=$("van-dropdown-item"),_e=$("van-dropdown-menu"),ne=$("van-tag"),re=$("van-col"),se=$("van-row"),le=$("van-card"),c=$("van-config-provider"),z=$("van-list");return i(),h(oe,null,[t(_e,null,{default:a(()=>[t(M,{teleport:"body",modelValue:m.value,"onUpdate:modelValue":q[0]||(q[0]=N=>m.value=N),options:C,onChange:X},null,8,["modelValue"]),t(M,{teleport:"body",modelValue:u.value,"onUpdate:modelValue":q[1]||(q[1]=N=>u.value=N),options:d,onChange:Z},null,8,["modelValue"]),t(M,{teleport:"body",modelValue:v.value,"onUpdate:modelValue":q[2]||(q[2]=N=>v.value=N),options:T,onChange:ee},null,8,["modelValue"])]),_:1}),t(z,{loading:I.value,"onUpdate:loading":q[3]||(q[3]=N=>I.value=N),finished:f.value,"finished-text":o.$t("common.no_more"),onLoad:H},{default:a(()=>[t(c,{"theme-vars":J},{default:a(()=>[(i(!0),h(oe,null,pe(p.value,N=>(i(),Q(le,{key:N,class:"margin radius shadow",thumb:N.image},{tag:a(()=>[t(ne,{mark:"",color:s(ye).find(te=>te.grade==N.grade).rgb},{default:a(()=>[g(e(s(ye).find(te=>te.grade==N.grade).title),1)]),_:2},1032,["color"])]),title:a(()=>[t(se,null,{default:a(()=>[t(re,{span:"12",class:"text-left"},{default:a(()=>[t(ne,null,{default:a(()=>[g(e(o.$t("hero.type_"+N.type)),1)]),_:2},1024),n("span",ln,e(s(O).global.locale=="zh_TW"?N.name_cn:N.name_en),1)]),_:2},1024),t(re,{span:"12",class:"text-left"},{default:a(()=>[n("span",null,e(o.$t("hero.init_power"))+":"+e(N.initmine)+e(N.initmine2>N.initmine?"-"+N.initmine2:""),1)]),_:2},1024)]),_:2},1024)]),desc:a(()=>[t(se,{class:"margin-top-sm"},{default:a(()=>[t(re,{span:"12",class:"text-left"},{default:a(()=>[g(e(o.$t("hero.attack"))+"\uFF1A"+e(N.attack),1),N.gattack>0?(i(),h("span",on,"+"+e(N.gattack),1)):L("",!0)]),_:2},1024),t(re,{span:"12",class:"text-left"},{default:a(()=>[g(e(o.$t("hero.defense"))+"\uFF1A"+e(N.defense),1),N.gdefense>0?(i(),h("span",rn,"+"+e(N.gdefense),1)):L("",!0)]),_:2},1024)]),_:2},1024),t(se,{class:"margin-top-xs"},{default:a(()=>[t(re,{span:"12",class:"text-left"},{default:a(()=>[g(e(o.$t("hero.hp"))+"\uFF1A"+e(N.hp),1),N.ghp>0?(i(),h("span",un,"+"+e(N.ghp),1)):L("",!0)]),_:2},1024),t(re,{span:"12",class:"text-left"},{default:a(()=>[g(e(o.$t("hero.luck"))+"\uFF1A"+e(N.luck),1),N.gluck>0?(i(),h("span",cn,"+"+e(N.gluck),1)):L("",!0)]),_:2},1024)]),_:2},1024),t(se,{class:"margin-top-sm"},{default:a(()=>[t(re,{span:"12",class:"text-left"},{default:a(()=>[g(e(o.$t("hero.expedition"))+"\uFF1A"+e(N.exptime)+e(o.$t("hero.hour")),1)]),_:2},1024),t(re,{span:"12",class:"text-left"},{default:a(()=>[g(e(o.$t("hero.crystal"))+"\uFF1A"+e(N.crystal[0]),1)]),_:2},1024)]),_:2},1024),N.drop?(i(),Q(se,{key:0,class:"margin-top-xs"},{default:a(()=>[N.grade==5?(i(),Q(re,{key:0,span:"24",class:"text-left"},{default:a(()=>[g(e(o.$t("hero.material"))+e(o.$t("hero.flop_odds"))+"\uFF1A",1),n("span",{class:xe("text-"+s(ye).find(te=>te.grade==4).color)},e(s(ye).find(te=>te.grade==4).title),3),g(" "+e(N.drop[0]/10)+"% - ",1),n("span",{class:xe("text-"+s(ye).find(te=>te.grade==N.grade).color)},e(s(ye).find(te=>te.grade==N.grade).title),3),g(e(N.drop[N.drop.length-1]/10)+"% ",1)]),_:2},1024)):(i(),Q(re,{key:1,span:"24",class:"text-left"},{default:a(()=>[g(e(o.$t("hero.material"))+e(o.$t("hero.flop_odds"))+"\uFF1A",1),n("span",{class:xe("text-"+s(ye).find(te=>te.grade==N.grade).color)},e(s(ye).find(te=>te.grade==N.grade).title),3),g(" "+e(N.drop[0]/10)+"% - "+e(N.drop[N.drop.length-1]/10)+"% ",1)]),_:2},1024))]),_:2},1024)):L("",!0)]),_:2},1032,["thumb"]))),128))]),_:1})]),_:1},8,["loading","finished","finished-text"])],64)}}},pn="https://tkapi.tinyworlds.io/api/metadata/equipment",_n="https://scf-deploy-ap-hongkong-1258577806.cos.ap-hongkong.myqcloud.com/tinyworlds/",Ue=rt("kingdom",{state:()=>({equipment:null,ranking_city:null}),getters:{},actions:{async initEquipment(){let l=100,_=1,u=100,m=[];for(;l>0;){const v=await Ca(pn,{pageIndex:_,pageSize:u});_++,m.push(...v.data),l=v.totalRows-m.length}return this.equipment=m,this.equipment},async initRankingCity(){const l=_n+"kingdom/season/city/simple/last.json?="+me().format("YYYYMMDDHH");let _=await be(l);return this.ranking_city=_,console.log("ranking city",this.ranking_city),this.ranking_city}}}),mn={class:"margin-left-xs"},gn=n("span",{class:"margin-left-xs padding-lr-xs bg-grey"},"100%",-1),yn={class:"margin-left-xs padding-lr-xs bg-grey"},fn={class:"margin-left-xs padding-lr-xs bg-grey"},yt={props:{equip:Object},setup(l){const _=["all","attack","defense","hp","luck"],u={cardPadding:"10px",cardBackgroundColor:"#FFFFFF"};return(m,v)=>{const d=$("van-tag"),C=$("van-row"),T=$("van-col"),r=$("van-card"),p=$("van-config-provider");return i(),Q(p,{"theme-vars":u},{default:a(()=>[t(r,{class:"radius shadow"},{tag:a(()=>[t(d,{mark:"",color:s(ye).find(y=>y.grade==l.equip.grade).rgb},{default:a(()=>[g(e(s(ye).find(y=>y.grade==l.equip.grade).title),1)]),_:1},8,["color"])]),thumb:a(()=>[n("p",{class:xe(["sprite-lg margin-right sprite","equip_"+l.equip.id])},null,2)]),title:a(()=>[t(C,null,{default:a(()=>[t(d,null,{default:a(()=>[g(e(m.$t("equip.subtype_"+l.equip.subType)),1)]),_:1}),n("span",mn,e(s(O).global.locale=="zh_TW"?l.equip.nameCn:l.equip.nameEn),1)]),_:1})]),desc:a(()=>[t(C,{class:"margin-top-sm text-gray"},{default:a(()=>[t(T,{span:"10",class:"text-left"},{default:a(()=>[g(e(m.$t("equip.required_level"))+"\uFF1A"+e(l.equip.minLevel),1)]),_:1}),l.equip.minPriceAtMarket?(i(),Q(T,{key:0,span:"14",class:"text-left"},{default:a(()=>[g(e(m.$t("equip.floor_price"))+"\uFF1A"+e(parseFloat(l.equip.minPriceAtMarket).toFixed(2))+"BUSD",1)]),_:1})):(i(),Q(T,{key:1,span:"14",class:"text-left"},{default:a(()=>[g(e(m.$t("equip.floor_price"))+"\uFF1A"+e(m.$t("equip.no_stock")),1)]),_:1}))]),_:1}),t(C,{class:"margin-top-sm"},{default:a(()=>[t(T,{span:"24",class:"text-left"},{default:a(()=>[g(e(m.$t("hero."+_[l.equip.stat1Type]))+"\uFF1A"+e(l.equip.stat1Value-l.equip.stat1RandRange)+"-"+e(l.equip.stat1Value+l.equip.stat1RandRange),1),gn]),_:1})]),_:1}),t(C,{class:"margin-top-xs"},{default:a(()=>[l.equip.stat2Type>0?(i(),Q(T,{key:0,span:l.equip.stat3Type>0?12:24,class:"text-left"},{default:a(()=>[g(e(m.$t("hero."+_[l.equip.stat2Type]))+"\uFF1A"+e(l.equip.stat2Value-l.equip.stat2RandRange)+"-"+e(l.equip.stat2Value+l.equip.stat2RandRange),1),n("span",yn,e(l.equip.stat2RevealRate)+"%",1)]),_:1},8,["span"])):L("",!0),l.equip.stat3Type>0?(i(),Q(T,{key:1,span:"12",class:"text-left"},{default:a(()=>[g(e(m.$t("hero."+_[l.equip.stat3Type]))+"\uFF1A"+e(l.equip.stat3Value-l.equip.stat3RandRange)+"-"+e(l.equip.stat3Value+l.equip.stat3RandRange),1),n("span",fn,e(l.equip.stat3RevealRate)+"%",1)]),_:1})):L("",!0)]),_:1})]),_:1})]),_:1})}}},hn={setup(l){const _=Ue(),u=A(0),m=A(0),v=A("1_1"),d=[{text:O.global.t("equip.type_all"),value:0},{text:O.global.t("equip.type_1"),value:1},{text:O.global.t("equip.type_2"),value:2},{text:O.global.t("equip.type_3"),value:3}],C=[{text:O.global.t("equip.grade_all"),value:0},{text:"N",value:1},{text:"R",value:2},{text:"SR",value:3},{text:"SSR",value:4},{text:"SSSR",value:5}],T=[{text:O.global.t("hero.attack_1"),value:"1_1"},{text:O.global.t("hero.attack_0"),value:"1_0"},{text:O.global.t("hero.defense_1"),value:"2_1"},{text:O.global.t("hero.defense_0"),value:"2_0"},{text:O.global.t("hero.hp_1"),value:"3_1"},{text:O.global.t("hero.hp_0"),value:"3_0"}];let r=[0,0,"1_1"];const p=A([]);let y=[];const I=A(!1),f=A(!1);let b=10;const w=10;ke(async()=>{_.equipment||await _.initEquipment(),D(r)});const H=async()=>{console.log("onload"),_.equipment||await _.initEquipment(),y.length==0&&D(r),b+=w,I.value=!1,b<y.length?p.value=y.slice(0,b):(p.value=y,f.value=!0)},X=J=>{b=10,f.value=!1,r[0]=J,D(r)},Z=J=>{b=10,f.value=!1,r[1]=J,D(r)},ee=J=>{b=10,f.value=!1,r[2]=J,D(r)},D=J=>{y=[],y.push(...JSON.parse(JSON.stringify(_.equipment))),J[0]>0&&(y=y.filter(q=>q.grade==J[0])),J[1]>0&&(y=y.filter(q=>q.type==J[1]));let o=J[2].split("_");y=y.filter(q=>q.stat1Type==parseInt(o[0])),y=y.sort(we("stat1Value")),o[1]>0&&(y=y.reverse()),p.value=y.slice(0,b)};return(J,o)=>{const q=$("van-dropdown-item"),M=$("van-dropdown-menu"),_e=$("van-list");return i(),h(oe,null,[t(M,null,{default:a(()=>[t(q,{teleport:"body",modelValue:m.value,"onUpdate:modelValue":o[0]||(o[0]=ne=>m.value=ne),options:C,onChange:X},null,8,["modelValue"]),t(q,{teleport:"body",modelValue:u.value,"onUpdate:modelValue":o[1]||(o[1]=ne=>u.value=ne),options:d,onChange:Z},null,8,["modelValue"]),t(q,{teleport:"body",modelValue:v.value,"onUpdate:modelValue":o[2]||(o[2]=ne=>v.value=ne),options:T,onChange:ee},null,8,["modelValue"])]),_:1}),t(_e,{loading:I.value,"onUpdate:loading":o[3]||(o[3]=ne=>I.value=ne),finished:f.value,"finished-text":J.$t("common.no_more"),onLoad:H},{default:a(()=>[(i(!0),h(oe,null,pe(p.value,ne=>(i(),h("div",{key:ne,class:"margin"},[t(yt,{equip:ne},null,8,["equip"])]))),128))]),_:1},8,["loading","finished","finished-text"])],64)}}},vn={};function xn(l,_){const u=$("van-empty");return i(),Q(u,{class:"margin-top",description:l.$t("common.dev_soon")},null,8,["description"])}var bn=Ie(vn,[["render",xn]]);const kn={setup(l){const _=A(0);return(u,m)=>{const v=$("van-tab"),d=$("van-tabs");return i(),Q(d,{active:_.value,"onUpdate:active":m[0]||(m[0]=C=>_.value=C),swipeable:"",sticky:""},{default:a(()=>[t(v,{title:u.$t("baike.book_hero")},{default:a(()=>[t(dn)]),_:1},8,["title"]),t(v,{title:u.$t("baike.book_equip")},{default:a(()=>[t(hn)]),_:1},8,["title"]),t(v,{title:u.$t("baike.book_material")},{default:a(()=>[t(bn)]),_:1},8,["title"])]),_:1},8,["active"])}}},$n=["attack","defense","hp","luck"];function wn(l,_){return parseInt(l*_/60/200)}function Tn(l,_){let u=25,m=Number(l);return u-=parseFloat(25)*m/(m+Number("1000")),parseInt(60*_/u)}function Fe(l){let _=[0,0,0],u=[0,0,0],m=[0,0,0],v=0,d=0;for(let r=1;r<=3;r++)_[r-1]=Tn(l[r].defense.all,l[r].hp.all),u[r-1]=wn(l[r].attack.all,_[r-1]),m[r-1]=parseInt(u[r-1]/10)+1,d+=u[r-1],_[r-1]>v&&(v=_[r-1]);let C=parseInt(d/10);return[{max_sec:v,max_floor:C,kill_count:d},{max_sec:_[0],max_floor:m[0],kill_count:u[0]},{max_sec:_[1],max_floor:m[1],kill_count:u[1]},{max_sec:_[2],max_floor:m[2],kill_count:u[2]}]}function Sn(l,_){let u=0,m=[],v=JSON.parse(JSON.stringify(l)),d=[],C=0,T=Fe(v)[0].max_floor;for(let y=1;y<=3;y++)for(let I=0;I<=2;I++){let f=y+1;f>3&&(f=1),!(I==0&&(_[y-1][I]>1&&_[y-1][I]<5||_[f-1][I]>1&&_[f-1][I]<5))&&(m=qn(JSON.parse(JSON.stringify(v)),y,I),C=Fe(m)[0].max_floor,C>T&&(u=1,T=C,v=JSON.parse(JSON.stringify(m)),d.push({equip0:[y-1,I],equip1:[f-1,I]})))}let r=Fe(v)[0].max_sec,p=Fe(v)[0].kill_count;return{isopt:u,max_floor:T,max_sec:r,kill_count:p,syncList:d,optList:v}}function qn(l,_,u){let m={attact:0,defense:0,hp:0,luck:0},v=_+1;return v>3&&(v=1),$n.forEach(d=>{m[d]=l[_][d].equip[u],l[_][d].equip[u]=l[v][d].equip[u],l[_][d].all=l[_][d].hero+l[_][d].equip[0]+l[_][d].equip[1]+l[_][d].equip[2],l[v][d].equip[u]=m[d],l[v][d].all=l[v][d].hero+l[v][d].equip[0]+l[v][d].equip[1]+l[v][d].equip[2]}),l}const In={class:"text-gray text-sm"},Cn={class:"margin-right-xs text-black text-sm"},Nn={class:"text-gray text-sm"},Rn={class:"margin-right-xs text-black text-sm"},On={class:"text-gray text-sm"},Fn={class:"margin-right-xs text-black text-sm"},Vn={class:"text-gray text-sm"},Ln={class:"margin-right-xs text-black text-sm"},An={class:"margin-tb-sm"},Jn={class:"margin-left-xs text-df text-black"},Mn={class:"margin-left-xs text-df text-black"},En={class:"margin-left-xs text-df text-black"},Pn={class:"margin-left-xs text-df text-black"},pt={props:{panelList:Object,total:Object},setup(l){const _=["attack","defense","hp","luck"],u=A(["1"]),m={cellGroupBackgroundColor:"#fff"},v={collapseItemContentPadding:"0px"};return(d,C)=>{const T=$("van-col"),r=$("van-row"),p=$("van-cell-group"),y=$("van-config-provider"),I=$("van-collapse-item"),f=$("van-collapse");return i(),h(oe,null,[t(y,{"theme-vars":v},{default:a(()=>[t(f,{modelValue:u.value,"onUpdate:modelValue":C[0]||(C[0]=b=>u.value=b),border:!1},{default:a(()=>[t(I,{name:"0"},{title:a(()=>[n("span",In,e(d.$t("hero.attack"))+":",1),n("span",Cn,e(l.panelList.attack.all),1),n("span",Nn,e(d.$t("hero.defense"))+":",1),n("span",Rn,e(l.panelList.defense.all),1),n("span",On,e(d.$t("hero.hp"))+":",1),n("span",Fn,e(l.panelList.hp.all),1),n("span",Vn,e(d.$t("hero.luck"))+":",1),n("span",Ln,e(l.panelList.luck.all),1)]),default:a(()=>[n("div",An,[t(y,{"theme-vars":m},{default:a(()=>[t(p,{inset:""},{default:a(()=>[t(r,{justify:"center",class:"text-center text-gray padding-tb-sm solid-bottom"},{default:a(()=>[t(T,{span:"4"},{default:a(()=>[g(e(d.$t("predict.attribute")),1)]),_:1}),t(T,{span:"5"},{default:a(()=>[g(e(d.$t("predict.value")),1)]),_:1}),t(T,{span:"8"},{default:a(()=>[g(e(d.$t("predict.equip_add")),1)]),_:1}),t(T,{span:"7"},{default:a(()=>[g(e(d.$t("predict.total")),1)]),_:1})]),_:1}),(i(),h(oe,null,pe(_,(b,w)=>t(r,{key:b,justify:"center",class:xe(["text-center padding-tb-sm solid-bottom",w%2?"text-gray":"text-grey bg-gray"])},{default:a(()=>[t(T,{span:"4"},{default:a(()=>[g(e(d.$t("hero."+b)),1)]),_:2},1024),t(T,{span:"5"},{default:a(()=>[g(e(l.panelList[b].hero),1)]),_:2},1024),t(T,{span:"8"},{default:a(()=>[g(e(l.panelList[b].equip[0])+","+e(l.panelList[b].equip[1])+","+e(l.panelList[b].equip[2]),1)]),_:2},1024),t(T,{span:"7"},{default:a(()=>[g(e(l.panelList[b].all),1)]),_:2},1024)]),_:2},1032,["class"])),64))]),_:1})]),_:1})])]),_:1})]),_:1},8,["modelValue"])]),_:1}),t(r,{class:"margin text-gray text-sm"},{default:a(()=>[t(T,{span:"8"},{default:a(()=>[g(e(d.$t("predict.castle_floor"))+":",1),n("span",Jn,e(l.total.max_floor),1)]),_:1}),t(T,{span:"8"},{default:a(()=>[g(e(d.$t("predict.kill_enemy"))+":",1),n("span",Mn,e(l.total.kill_count),1)]),_:1}),l.total.max_sec>3600?(i(),Q(T,{key:0,span:"8"},{default:a(()=>[g(e(d.$t("predict.survival_time"))+":",1),n("span",En,e(parseInt(l.total.max_sec/3600))+e(d.$t("common.hour"))+e(parseInt(l.total.max_sec/60%60))+e(d.$t("common.minute")),1)]),_:1})):(i(),Q(T,{key:1,span:"8"},{default:a(()=>[g(e(d.$t("predict.survival_time"))+":",1),n("span",Pn,e(parseInt(l.total.max_sec/60%60))+e(d.$t("common.minute")),1)]),_:1}))]),_:1})],64)}}};const Ke=l=>(Je("data-v-2b792205"),l=l(),Me(),l),zn=Ke(()=>n("div",{class:"margin"},null,-1)),Bn={key:0},Hn=["onClick"],Dn={key:1},Gn=["onClick"],Yn=Ke(()=>n("div",{class:"margin"},null,-1)),jn={class:"text-lg text-blue margin-left-xs"},Wn={class:"text-lg text-orange margin-lr-xs"},Un=g("TINC"),Kn={class:"text-lg text-blue margin-lr-xs"},Xn=g("BUSD"),Zn={class:"text-lg text-orange margin-lr-xs"},Qn=g("BUSD"),es=Ke(()=>n("div",{class:"margin"},null,-1)),ts={class:"cu-tag line-grey radius margin-left margin-top-sm"},as={class:"margin-left-xs text-lg text-orange"},ns={class:"margin-left-xs text-df text-black"},ss={class:"margin-left-xs text-lg text-orange"},ls={class:"margin-left-xs text-df text-black"},os={class:"cu-tag line-grey radius margin-left"},is={class:"cu-tag round line-gray sm"},rs=Ke(()=>n("div",{class:"margin"},null,-1)),us={class:"text-sm text-gray",style:{"line-height":"18px"}},cs=["onClick"],ds={key:0},ps={class:"text-sm"},_s={key:1},ms={class:"text-sm"},gs={key:0},ys={class:"margin-tb-xs equiptext text-sm"},fs={key:1},hs={class:"margin-tb-xs equiptext text-sm"},vs={class:"cu-tag line-grey radius sm"},xs={key:0},bs={key:0,class:"margin-tb solid-top"},ks={class:"solid-top padding text-sm"},$s={setup(l){const{proxy:_}=Ce(),u=A(!1),m=A([0,0]),v=je(),d=mt(),C=Ee(),T=Ue(),r=We(),p=A(1),y=A(!1),I=A([]),f=[100,120,140,160,200,220,240,260,300,340],b=["attack","defense","hp","luck"];let w=[0,0];const H=A(!1),X=A(!1),Z=A(!1),ee=A(3),D=A(3),J=[{type:1,typeName:"weapon",change:0,equip:{}},{type:2,typeName:"armor",change:0,equip:{}},{type:3,typeName:"ornaments",change:0,equip:{}}],o=he([{type:1,typeName:"warrior",change:0,hero:{},equips:JSON.parse(JSON.stringify(J))},{type:2,typeName:"ranger",change:0,hero:{},equips:JSON.parse(JSON.stringify(J))},{type:3,typeName:"wizard",change:0,hero:{},equips:JSON.parse(JSON.stringify(J))}]),q={attack:{hero:0,equip:[0,0,0],all:0},defense:{hero:0,equip:[0,0,0],all:0},hp:{hero:0,equip:[0,0,0],all:0},luck:{hero:0,equip:[0,0,0],all:0}},M=he([JSON.parse(JSON.stringify(q)),JSON.parse(JSON.stringify(q)),JSON.parse(JSON.stringify(q)),JSON.parse(JSON.stringify(q))]),_e={max_sec:0,max_floor:0,kill_count:0},ne=A([JSON.parse(JSON.stringify(_e)),JSON.parse(JSON.stringify(_e)),JSON.parse(JSON.stringify(_e)),JSON.parse(JSON.stringify(_e))]),re={isopt:0,max_sec:0,max_floor:0,kill_count:0,syncList:[],optList:[]},se=A({isopt:0,max_sec:0,max_floor:0,kill_count:0,syncList:[],optList:[]}),le=A({rankIndex:0,prizeAmount:0}),c=A({}),z=A([]),N=()=>{v.push({name:"Playerlist"})},te=k=>{if(H.value=!1,o.forEach(x=>{x.change=0,x.equips.forEach(P=>{P.change=0}),x.type==k&&(x.change=1)}),JSON.stringify(o.find(x=>x.change==1).hero)!="{}"){let x=o.find(S=>S.change==1).hero.grade,P=o.find(S=>S.change==1).hero.code,F=o.find(S=>S.change==1).hero.level;Ze(x,P,F)}else Ze();H.value=!0};let Y=[0,0,0,0];const j=(k,x)=>{if(JSON.stringify(o[k-1].hero)=="{}"){_.$toast.fail(O.global.t("predict.choose_hero_first"));return}if(X.value=!1,o.forEach(P=>{P.change=0,P.equips.forEach(F=>{F.change=0,F.type==x&&P.type==k&&(F.change=1)})}),w=[k-1,x-1],JSON.stringify(o[k-1].equips[x-1].equip)!="{}"){let P=o[k-1].equips[x-1].equip.grade,F=o[k-1].equips[x-1].equip.id,S=o[k-1].equips[x-1].equip.level;Y[0]=F,Y[1]=o[k-1].equips[x-1].equip.stat1ValueFinal,Y[2]=o[k-1].equips[x-1].equip.stat2ValueFinal,Y[3]=o[k-1].equips[x-1].equip.stat3ValueFinal,Qe(P,F,S)}else Y=[0,0,0,0],Qe();X.value=!0},B=()=>{o.forEach(k=>k.change=0)},W=()=>{H.value=!1,X.value=!1},ie=A(0),E=he([{text:"N",grade:1,defaultIndex:2,children:[]},{text:"R",grade:2,defaultIndex:2,children:[]},{text:"SR",grade:3,defaultIndex:2,children:[]},{text:"SSR",grade:4,defaultIndex:2,children:[]},{text:"SSSR",grade:5,defaultIndex:2,children:[]}]),fe=[{text:"N",grade:1,defaultIndex:1,children:[]},{text:"R",grade:2,defaultIndex:1,children:[]},{text:"SR",grade:3,defaultIndex:1,children:[]},{text:"SSR",grade:4,defaultIndex:1,children:[]},{text:"SSSR",grade:5,defaultIndex:1,children:[]}],ge=A(JSON.parse(JSON.stringify(fe))),Pe=k=>{o.find(x=>x.change==1).hero=JSON.parse(JSON.stringify(C.heros.find(x=>x.code==k[1].code))),o.find(x=>x.change==1).hero.level=k[2].level,Se(),H.value=!1},$e=()=>{o.find(k=>k.change==1).hero={},Se(),H.value=!1},Te=k=>{o[w[0]].equips[w[1]].equip=JSON.parse(JSON.stringify(T.equipment.find(P=>P.id==k[1].id))),o[w[0]].equips[w[1]].equip.level=k[2].level;let x=.6;o[w[0]].equips[w[1]].equip.id==Y[0]&&Y[1]>0?(o[w[0]].equips[w[1]].equip.stat1ValueFinal=Y[1],o[w[0]].equips[w[1]].equip.stat2ValueFinal=Y[2],o[w[0]].equips[w[1]].equip.stat3ValueFinal=Y[3]):(o[w[0]].equips[w[1]].equip.stat1ValueFinal=o[w[0]].equips[w[1]].equip.stat1Value+parseInt(o[w[0]].equips[w[1]].equip.stat1RandRange*x),o[w[0]].equips[w[1]].equip.stat2ValueFinal=o[w[0]].equips[w[1]].equip.stat2Value+parseInt(o[w[0]].equips[w[1]].equip.stat2RandRange*x),o[w[0]].equips[w[1]].equip.stat3ValueFinal=o[w[0]].equips[w[1]].equip.stat3Value+parseInt(o[w[0]].equips[w[1]].equip.stat3RandRange*x)),Se(),X.value=!1},ze=()=>{o[w[0]].equips[w[1]].equip={},Se(),X.value=!1},Re=(k,x)=>{Z.value=!1,o.forEach(P=>{P.change=0,P.equips.forEach(F=>{F.change=0,F.type==x&&P.type==k&&(F.change=1)})}),w=[k-1,x-1],m.value=[0,0],c.value=o[k-1].equips[x-1].equip,c.value.stat2Type>0&&c.value.stat2ValueFinal>0&&(m.value[0]=1),c.value.stat3Type>0&&c.value.stat3ValueFinal>0&&(m.value[1]=1),Z.value=!0},R=()=>{o[w[0]].equips[w[1]].equip=c.value,Se(),Z.value=!1},ve=k=>{let x=O.global.locale=="zh_TW"?k.title_cn:k.title_en;_.$dialog.confirm({title:O.global.t("predict.delete_file"),message:O.global.t("predict.delete_file_message")+": "+x+" ?"}).then(()=>{if(localStorage.getItem("myteamdata")){let P=JSON.parse(localStorage.getItem("myteamdata")),F=P.findIndex(S=>S.timestamp==k.timestamp);F>=0&&(P.splice(F,1),localStorage.setItem("myteamdata",JSON.stringify(P)),et(),_.$toast.success(O.global.t("common.delete_succeed")))}})},ft=k=>{if(!o.find(x=>JSON.stringify(x.hero)!="{}")){_.$toast.fail(O.global.t("predict.setting_no_save"));return}ht(),_.$toast.success(O.global.t("predict.setting_save_ok"))},Be=(k=[])=>{for(let x=0;x<=2;x++)o[x].hero={},o[x].equips=JSON.parse(JSON.stringify(J));if(k.length!=0){for(let x=0;x<=2;x++)if(C.heros.find(P=>P.code==k[x].hero.code)){o[x].hero=JSON.parse(JSON.stringify(C.heros.find(P=>P.code==k[x].hero.code))),o[x].hero.level=k[x].hero.level;for(let P=0;P<=2;P++)T.equipment.find(F=>F.id==k[x].equips[P].id)&&(o[x].equips[P].equip=JSON.parse(JSON.stringify(T.equipment.find(F=>F.id==k[x].equips[P].id))),o[x].equips[P].equip.level=k[x].equips[P].level,o[x].equips[P].equip.stat1ValueFinal=k[x].equips[P].stat1ValueFinal,o[x].equips[P].equip.stat2ValueFinal=k[x].equips[P].stat2ValueFinal,o[x].equips[P].equip.stat3ValueFinal=k[x].equips[P].stat3ValueFinal)}}Se()},ht=()=>{let k=[];for(let U=0;U<=2;U++){let de=JSON.stringify(o[U].hero)!="{}"?o[U].hero.code:0,ae=JSON.stringify(o[U].hero)!="{}"?o[U].hero.level:0,ue={hero:{code:de,level:ae},equips:[]};for(let G=0;G<=2;G++){let ce=JSON.stringify(o[U].equips[G].equip)!="{}"?o[U].equips[G].equip.id:0,Oe=JSON.stringify(o[U].equips[G].equip)!="{}"?o[U].equips[G].equip.level:0,tt=JSON.stringify(o[U].equips[G].equip)!="{}"?o[U].equips[G].equip.stat1ValueFinal:0,at=JSON.stringify(o[U].equips[G].equip)!="{}"?o[U].equips[G].equip.stat2ValueFinal:0,nt=JSON.stringify(o[U].equips[G].equip)!="{}"?o[U].equips[G].equip.stat3ValueFinal:0;ue.equips.push({id:ce,level:Oe,stat1ValueFinal:tt,stat2ValueFinal:at,stat3ValueFinal:nt})}k.push(ue)}let x=[],P=1;localStorage.getItem("myteamdata")&&(x=JSON.parse(localStorage.getItem("myteamdata")),P=x.length+1);let F={title_cn:"\u6211\u7684\u6230\u968A_"+P,title_en:"myteam_"+P,author_cn:"\u6211",author_en:"my",type:1,timestamp:me().valueOf(),data:k};console.log("saveTeamData",F),x.push(F);let S=JSON.stringify(x);localStorage.setItem("myteamdata",S),et()};ke(async()=>{if(C.heros||await C.initHeros(),T.equipment||await T.initEquipment(),T.ranking_city||await T.initRankingCity(),r.pools||await r.initPools(),p.value=parseFloat(r.pools.price.TINC).toFixed(2),z.value=T.ranking_city.all,Ze(),Qe(),Se(),et(),d.params&&d.params.playerId){console.log(d.params.playerId);let k=T.ranking_city.all.find(x=>x.playerId==d.params.playerId);Be(k.data)}u.value=!0});const Ze=(k=3,x=309,P=1)=>{if(!o.find(S=>S.change==1))return;ee.value=k-1,E.forEach(S=>S.children=[]);const F=o.find(S=>S.change==1).type;C.heros.forEach(S=>{S.type==F&&(E.find(U=>U.grade==S.grade).children.push({text:O.global.locale=="zh_TW"?S.name_cn:S.name_en,code:S.code}),S.code==x&&(E.find(U=>U.grade==S.grade).defaultIndex=E.find(U=>U.grade==S.grade).children.findIndex(U=>U.code==x)))}),E.forEach(S=>{let U=8;S.grade>1&&(U=10),S.grade>3&&(U=20),S.children.forEach(de=>{de.children=[];for(let ae=1;ae<=U;ae++)de.children.push({text:O.global.locale=="zh_TW"?ae+"\u7D1A":"Level"+ae,level:ae});de.defaultIndex=P-1})}),ie.value+=1},Qe=(k=3,x=141,P=1)=>{o.forEach(ae=>{ae.equips.forEach(ue=>{ue.change==1&&(w=[ae.type-1,ue.type-1])})}),D.value=k-1,ge.value=JSON.parse(JSON.stringify(fe));const F=o[w[0]].type-1,S=[2,3,4];let U=20;JSON.stringify(o[w[0]].hero)!="{}"&&(U=o[w[0]].hero.level);const de=o[w[0]].equips[w[1]].type;T.equipment.forEach(ae=>{ae.type==de&&ae.minLevel<=U&&(ae.subType>4||ae.subType==1||ae.subType==S[F])&&(ge.value.find(ue=>ue.grade==ae.grade).children.push({text:O.global.locale=="zh_TW"?ae.nameCn:ae.nameEn,id:ae.id}),ae.id==x&&(ge.value.find(ue=>ue.grade==ae.grade).defaultIndex=ge.value.find(ue=>ue.grade==ae.grade).children.findIndex(ue=>ue.id==x)))});for(let ae=4;ae>=0;ae--)ge.value[ae].children.length==0&&ge.value.splice(ae,1);D.value>ge.value.length-1&&(D.value=ge.value.length-1),ge.value.forEach(ae=>{let ue=10;ae.children.forEach(G=>{G.children=[];for(let ce=1;ce<=ue;ce++)G.children.push({text:O.global.locale=="zh_TW"?ce+"\u7D1A":"Level"+ce,level:ce});G.defaultIndex=P-1})}),ie.value+=1},Se=()=>{let k=[[0,0,0],[0,0,0],[0,0,0]];se.value=JSON.parse(JSON.stringify(re)),M[0]=JSON.parse(JSON.stringify(q)),o.forEach(F=>{M[F.type]=JSON.parse(JSON.stringify(q)),JSON.stringify(F.hero)!="{}"&&(b.forEach(S=>{M[F.type][S].hero=F.hero[S]+F.hero["g"+S]*(F.hero.level-1),M[0][S].hero+=M[F.type][S].hero}),F.equips.forEach(S=>{if(JSON.stringify(S.equip)!="{}"){k[F.type-1][S.type-1]=S.equip.subType;let U=b[S.equip.stat1Type-1];if(M[F.type][U].equip[S.type-1]=parseInt(S.equip.stat1ValueFinal*f[S.equip.level-1]/100),M[0][U].equip[S.type-1]+=M[F.type][U].equip[S.type-1],S.equip.stat2Type>0){let de=b[S.equip.stat2Type-1];M[F.type][de].equip[S.type-1]=parseInt(S.equip.stat2ValueFinal*f[S.equip.level-1]/100),M[0][de].equip[S.type-1]+=M[F.type][de].equip[S.type-1]}if(S.equip.stat3Type>0){let de=b[S.equip.stat3Type-1];M[F.type][de].equip[S.type-1]=parseInt(S.equip.stat3ValueFinal*f[S.equip.level-1]/100),M[0][de].equip[S.type-1]+=M[F.type][de].equip[S.type-1]}}}),b.forEach(S=>{M[F.type][S].all=M[F.type][S].hero+M[F.type][S].equip[0]+M[F.type][S].equip[1]+M[F.type][S].equip[2],M[0][S].all+=M[F.type][S].all}))}),ne.value=Fe(JSON.parse(JSON.stringify(M)));let x=ne.value[0].max_floor,P=T.ranking_city.all;for(let F=0;F<P.length;F++)if(x>parseInt(P[F].scoreValue)){le.value.prizeAmount=P[F].prizeAmount,le.value.rankIndex=P[F].rankIndex;break}se.value=Sn(JSON.parse(JSON.stringify(M)),k),console.log(se.value)},et=()=>{I.value=[];let k=[T.ranking_city.top.sssr,T.ranking_city.top.ssr,T.ranking_city.top.sr,T.ranking_city.top.r,T.ranking_city.top.n];I.value.push(...k),localStorage.getItem("myteamdata")&&I.value.push(...JSON.parse(localStorage.getItem("myteamdata")))};return(k,x)=>{const P=$("van-button"),F=$("van-cell"),S=$("van-icon"),U=$("van-badge"),de=$("van-grid-item"),ae=$("van-grid"),ue=$("van-cell-group"),G=$("van-col"),ce=$("van-row"),Oe=$("van-checkbox"),tt=$("van-image"),at=$("van-loading"),nt=$("van-overlay"),ut=$("van-picker"),ct=$("van-popup"),st=$("van-stepper"),vt=$("van-dialog");return i(),h(oe,null,[zn,t(ue,{inset:""},{default:a(()=>[t(F,{title:k.$t("predict.team_file"),icon:"notes-o"},{value:a(()=>[n("div",{class:"text-gray margin-right-sm",onClick:N},[t(P,{size:"mini",color:"#aaaaaa",plain:"",class:"margin-right-sm"},{default:a(()=>[g(e(k.$t("predict.read_randlist")),1)]),_:1})])]),_:1},8,["title"]),t(ae,{"column-num":3,border:!1},{default:a(()=>[(i(!0),h(oe,null,pe(I.value,V=>(i(),Q(de,{key:V,icon:"photo-o",text:V.rankIndex?V.rankIndex+"_"+V.title_cn:V.title_cn},{icon:a(()=>[V.type>0?(i(),h("div",Bn,[t(U,null,{content:a(()=>[t(S,{name:"cross",class:"badge-icon",onClick:K=>ve(V)},null,8,["onClick"])]),default:a(()=>[n("div",{class:"cu-avatar-group margin-bottom-sm",onClick:K=>Be(V.data)},[(i(!0),h(oe,null,pe(V.data.filter(K=>K.hero.code>0),K=>(i(),h("div",{class:"cu-avatar round",key:K,style:Le([{backgroundImage:"url(https://images.tinyworlds.io/hero/"+K.hero.code+".png)",backgroundColor:s(it).find(qe=>qe.code==100*parseInt(K.hero.code/100)).rgb}])},null,4))),128))],8,Hn)]),_:2},1024)])):(i(),h("div",Dn,[n("div",{class:"cu-avatar-group margin-bottom-sm",onClick:K=>Be(V.data)},[(i(!0),h(oe,null,pe(V.data.filter(K=>K.hero.code>0),K=>(i(),h("div",{class:"cu-avatar round",key:K,style:Le([{backgroundImage:"url(https://images.tinyworlds.io/hero/"+K.hero.code+".png)",backgroundColor:s(it).find(qe=>qe.code==100*parseInt(K.hero.code/100)).rgb}])},null,4))),128))],8,Gn)]))]),_:2},1032,["text"]))),128)),t(de,{icon:"plus",text:k.$t("predict.new_document"),onClick:x[0]||(x[0]=V=>Be())},null,8,["text"])]),_:1})]),_:1}),Yn,t(ue,{inset:""},{default:a(()=>[t(F,{title:k.$t("predict.total_cell"),icon:"orders-o"},null,8,["title"]),le.value.rankIndex>0?(i(),Q(ce,{key:0,class:"bg-gray text-black text-sm padding margin-top-sm margin-lr-xs"},{default:a(()=>[t(G,{span:"12"},{default:a(()=>[g(e(k.$t("predict.castle_ranking"))+":",1),n("span",jn,e(le.value.rankIndex),1)]),_:1}),t(G,{span:"12"},{default:a(()=>[g(e(k.$t("predict.weekly_reward"))+":",1),n("span",Wn,e(le.value.prizeAmount),1),Un]),_:1}),t(G,{span:"12",class:"margin-top-sm"},{default:a(()=>[g("TINC"+e(k.$t("common.price"))+":",1),n("span",Kn,e(p.value),1),Xn]),_:1}),t(G,{span:"12",class:"margin-top-sm"},{default:a(()=>[g(e(k.$t("predict.daily_income"))+":",1),n("span",Zn,e(parseInt(le.value.prizeAmount*p.value/7)),1),Qn]),_:1})]),_:1})):L("",!0),n("div",{onClick:B},[t(pt,{panelList:s(M)[0],total:ne.value[0]},null,8,["panelList","total"])])]),_:1}),es,se.value.isopt>0?(i(),Q(ue,{key:0,inset:""},{default:a(()=>[t(F,{title:k.$t("predict.optimize_cell"),icon:"info-o"},null,8,["title"]),n("div",ts,e(k.$t("predict.promotion")),1),t(ce,{class:"text-black text-sm padding margin-bottom-sm margin-lr-xs"},{default:a(()=>[t(G,{span:"12"},{default:a(()=>[g(e(k.$t("predict.castle_floor"))+":",1),n("span",as,"+"+e(se.value.max_floor-ne.value[0].max_floor),1),n("span",ns,"("+e(se.value.max_floor)+")",1)]),_:1}),t(G,{span:"12"},{default:a(()=>[g(e(k.$t("predict.kill_enemy"))+":",1),n("span",ss,"+"+e(se.value.kill_count-ne.value[0].kill_count),1),n("span",ls,"("+e(se.value.kill_count)+")",1)]),_:1})]),_:1}),n("div",os,e(k.$t("predict.procedure")),1),(i(!0),h(oe,null,pe(se.value.syncList,(V,K)=>(i(),Q(ce,{class:"text-black text-sm padding-sm margin-lr-xs",key:K},{default:a(()=>[t(G,{span:"2"},{default:a(()=>[n("div",is,e(K+1),1)]),_:2},1024),t(G,{span:"10"},{default:a(()=>[g(e(s(O).global.locale=="zh_TW"?s(o)[V.equip0[0]].hero.name_cn:s(o)[V.equip0[0]].hero.name_en)+" ",1),t(S,{name:"arrow"}),g(" "+e(s(O).global.locale=="zh_TW"?s(o)[V.equip0[0]].equips[V.equip0[1]].equip.nameCn:s(o)[V.equip0[0]].equips[V.equip0[1]].equip.nameEn),1)]),_:2},1024),t(G,{span:"2",class:"text-black"},{default:a(()=>[t(S,{name:"exchange"})]),_:1}),t(G,{span:"10"},{default:a(()=>[g(e(s(O).global.locale=="zh_TW"?s(o)[V.equip1[0]].hero.name_cn:s(o)[V.equip1[0]].hero.name_en)+" ",1),t(S,{name:"arrow"}),g(" "+e(s(O).global.locale=="zh_TW"?s(o)[V.equip1[0]].equips[V.equip1[1]].equip.nameCn:s(o)[V.equip1[0]].equips[V.equip1[1]].equip.nameEn),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})):(i(),Q(ue,{key:1,inset:""},{default:a(()=>[t(F,{title:k.$t("predict.optimize_cell"),icon:"info-o",value:k.$t("predict.no_suggestions")},null,8,["title","value"])]),_:1})),rs,t(ue,{inset:""},{default:a(()=>[t(F,{title:k.$t("predict.select_team"),icon:"friends-o"},{value:a(()=>[n("div",{class:"text-gray margin-right-sm",onClick:ft},[t(P,{size:"mini",color:"#aaaaaa",plain:"",class:"margin-right-sm"},{default:a(()=>[g(e(k.$t("predict.save_document")),1)]),_:1})])]),"right-icon":a(()=>[t(Oe,{modelValue:y.value,"onUpdate:modelValue":x[1]||(x[1]=V=>y.value=V)},{default:a(()=>[n("span",us,e(k.$t("predict.measure_one")),1)]),_:1},8,["modelValue"])]),_:1},8,["title"]),(i(!0),h(oe,null,pe(s(o),V=>(i(),h("div",{key:V,class:"padding solid-bottom"},[t(ce,null,{default:a(()=>[t(G,{span:"8"},{default:a(()=>[n("div",{class:xe([V.change?"bg-gray radius shadow":"","text-gray text-center padding-xs"]),onClick:K=>te(V.type)},[JSON.stringify(V.hero)!="{}"?(i(),h("div",ds,[t(U,{offset:["-80px",5],color:s(ye).find(K=>K.grade==V.hero.grade).rgb,content:s(ye).find(K=>K.grade==V.hero.grade).title},{default:a(()=>[t(U,{offset:["-10px",5],color:s(ye).find(K=>K.grade==V.hero.grade).rgb,content:"Lv."+V.hero.level},{default:a(()=>[t(tt,{src:V.hero.image,height:"80"},null,8,["src"])]),_:2},1032,["color","content"])]),_:2},1032,["color","content"]),n("div",null,[n("span",ps,e(s(O).global.locale=="zh_TW"?V.hero.name_cn:V.hero.name_en),1)])])):(i(),h("div",_s,[t(S,{class:"iconfont","class-prefix":"ali-icon",name:V.typeName,size:"80"},null,8,["name"]),n("div",null,[n("span",ms,e(k.$t("predict.select_one"))+e(k.$t("hero.type_"+V.type)),1)])]))],10,cs)]),_:2},1024),t(G,{span:"16"},{default:a(()=>[t(ce,{justify:"space-around",class:"margin-left"},{default:a(()=>[(i(!0),h(oe,null,pe(V.equips,K=>(i(),Q(G,{span:"8",key:"equip"+K.type},{default:a(()=>[t(ce,{class:"text-gray text-center",onClick:qe=>j(V.type,K.type)},{default:a(()=>[JSON.stringify(K.equip)!="{}"?(i(),h("div",gs,[t(U,{offset:["-20px",5],color:s(ye).find(qe=>qe.grade==K.equip.grade).rgb,content:"Lv."+K.equip.level},{default:a(()=>[n("div",{class:xe(["solid equipbox text-center",K.change?"bg-gray radius shadow":""])},[n("p",{class:xe(["sprite-sm sprite","equip_"+K.equip.id])},null,2)],2)]),_:2},1032,["color","content"]),n("div",ys,e(s(O).global.locale=="zh_TW"?K.equip.nameCn:K.equip.nameEn),1)])):(i(),h("div",fs,[n("div",{class:xe(["solid equipbox text-center",K.change?"bg-gray radius shadow":""])},[t(S,{name:"plus",size:"30"})],2),n("div",hs,e(k.$t("equip.type_"+K.type)),1)]))]),_:2},1032,["onClick"]),JSON.stringify(K.equip)!="{}"?(i(),Q(ce,{key:0,class:"text-center text-sm text-gray margin-top-xs",onClick:qe=>Re(V.type,K.type)},{default:a(()=>[n("span",vs,e(k.$t("predict.attribute_adjustment")),1)]),_:2},1032,["onClick"])):L("",!0)]),_:2},1024))),128))]),_:2},1024)]),_:2},1024)]),_:2},1024),y.value?(i(),h("div",xs,[t(pt,{panelList:s(M)[V.type],total:ne.value[V.type]},null,8,["panelList","total"])])):L("",!0)]))),128))]),_:1}),t(nt,{show:!u.value},{default:a(()=>[t(at,{class:"margin-top-xl padding-top-xl text-center"},{default:a(()=>[g(e(k.$t("common.loading")),1)]),_:1})]),_:1},8,["show"]),t(ct,{show:H.value,position:"bottom",onClose:W,onClickOverlay:W},{default:a(()=>[(i(),Q(ut,{key:ie.value,columns:s(E),"default-index":ee.value,"confirm-button-text":k.$t("common.confirm"),"cancel-button-text":k.$t("predict.no_select_hero"),onConfirm:Pe,onCancel:$e},null,8,["columns","default-index","confirm-button-text","cancel-button-text"]))]),_:1},8,["show"]),t(ct,{show:X.value,position:"bottom",onClose:W,onClickOverlay:W},{default:a(()=>[(i(),Q(ut,{key:ie.value,columns:ge.value,"default-index":D.value,"confirm-button-text":k.$t("common.confirm"),"cancel-button-text":k.$t("predict.no_select_equip"),onConfirm:Te,onCancel:ze},null,8,["columns","default-index","confirm-button-text","cancel-button-text"]))]),_:1},8,["show"]),t(vt,{show:Z.value,"onUpdate:show":x[9]||(x[9]=V=>Z.value=V),title:k.$t("predict.attribute_adjustment"),"show-cancel-button":"",confirmButtonText:k.$t("common.confirm"),cancelButtonText:k.$t("common.cancel"),onConfirm:R},{default:a(()=>[JSON.stringify(c.value)!="{}"?(i(),h("div",bs,[t(yt,{equip:c.value},null,8,["equip"]),n("div",ks,[t(ce,{class:"text-gray margin-bottom"},{default:a(()=>[t(G,{span:"12"},{default:a(()=>[g(e(k.$t("predict.current_level"))+"\uFF1A"+e(c.value.level),1)]),_:1}),t(G,{span:"12"},{default:a(()=>[g(e(k.$t("predict.attribute_bonus"))+"\uFF1A"+e(f[c.value.level-1])+"%",1)]),_:1})]),_:1}),t(ce,{class:"solid-top padding-tb text-gray align-center"},{default:a(()=>[t(G,{span:"4"},{default:a(()=>[g(e(k.$t("hero."+b[c.value.stat1Type-1]))+"\uFF1A",1)]),_:1}),t(G,{span:"8"},{default:a(()=>[t(st,{modelValue:c.value.stat1ValueFinal,"onUpdate:modelValue":x[2]||(x[2]=V=>c.value.stat1ValueFinal=V),step:"1",min:c.value.stat1Value-c.value.stat1RandRange,max:c.value.stat1Value+c.value.stat1RandRange},null,8,["modelValue","min","max"])]),_:1}),t(G,{span:"12",class:"text-right"},{default:a(()=>[g(e(c.value.stat1ValueFinal)+"X"+e(f[c.value.level-1])+"%="+e(parseInt(c.value.stat1ValueFinal*f[c.value.level-1]/100)),1)]),_:1})]),_:1}),c.value.stat2Type>0?(i(),Q(ce,{key:0,class:"solid-top padding-tb text-gray align-center"},{default:a(()=>[t(G,{span:"2"},{default:a(()=>[t(Oe,{modelValue:m.value[0],"onUpdate:modelValue":x[3]||(x[3]=V=>m.value[0]=V),onChange:x[4]||(x[4]=V=>c.value.stat2ValueFinal=0)},null,8,["modelValue"])]),_:1}),t(G,{span:"4"},{default:a(()=>[g(e(k.$t("hero."+b[c.value.stat2Type-1]))+"\uFF1A",1)]),_:1}),t(G,{span:"8"},{default:a(()=>[m.value[0]?(i(),Q(st,{key:0,modelValue:c.value.stat2ValueFinal,"onUpdate:modelValue":x[5]||(x[5]=V=>c.value.stat2ValueFinal=V),step:"1",min:c.value.stat2Value-c.value.stat2RandRange,max:c.value.stat2Value+c.value.stat2RandRange},null,8,["modelValue","min","max"])):L("",!0)]),_:1}),t(G,{span:"10",class:"text-right"},{default:a(()=>[g(e(c.value.stat2ValueFinal)+"X"+e(f[c.value.level-1])+"%="+e(parseInt(c.value.stat2ValueFinal*f[c.value.level-1]/100)),1)]),_:1})]),_:1})):L("",!0),c.value.stat3Type>0?(i(),Q(ce,{key:1,class:"solid-top padding-tb text-gray align-center"},{default:a(()=>[t(G,{span:"2"},{default:a(()=>[t(Oe,{modelValue:m.value[1],"onUpdate:modelValue":x[6]||(x[6]=V=>m.value[1]=V),onChange:x[7]||(x[7]=V=>c.value.stat3ValueFinal=0)},null,8,["modelValue"])]),_:1}),t(G,{span:"4"},{default:a(()=>[g(e(k.$t("hero."+b[c.value.stat3Type-1]))+"\uFF1A",1)]),_:1}),t(G,{span:"8"},{default:a(()=>[m.value[1]?(i(),Q(st,{key:0,modelValue:c.value.stat3ValueFinal,"onUpdate:modelValue":x[8]||(x[8]=V=>c.value.stat3ValueFinal=V),step:"1",min:c.value.stat3Value-c.value.stat3RandRange,max:c.value.stat3Value+c.value.stat3RandRange},null,8,["modelValue","min","max"])):L("",!0)]),_:1}),t(G,{span:"10",class:"text-right"},{default:a(()=>[g(e(c.value.stat3ValueFinal)+"X"+e(f[c.value.level-1])+"%="+e(parseInt(c.value.stat3ValueFinal*f[c.value.level-1]/100)),1)]),_:1})]),_:1})):L("",!0)])])):L("",!0)]),_:1},8,["show","title","confirmButtonText","cancelButtonText"])],64)}}};var ws=Ie($s,[["__scopeId","data-v-2b792205"]]);const Ae=new wt("https://bsc-dataseed.binance.org"),Ts="0xD80EdcF7C73B43852dA39497a6B5E9cbA1Edf39e",Ss=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"uint8",name:"oldLevel",type:"uint8"},{indexed:!1,internalType:"uint8",name:"newLevel",type:"uint8"},{indexed:!1,internalType:"uint32",name:"oldPower",type:"uint32"},{indexed:!1,internalType:"uint32",name:"newPower",type:"uint32"}],name:"LevelChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"uint16",name:"itemCode",type:"uint16"},{indexed:!1,internalType:"uint8",name:"itemGrade",type:"uint8"},{indexed:!1,internalType:"uint8",name:"itemType",type:"uint8"},{indexed:!1,internalType:"uint8",name:"itemLevel",type:"uint8"},{indexed:!1,internalType:"uint256",name:"gene",type:"uint256"},{indexed:!1,internalType:"uint32",name:"power",type:"uint32"},{indexed:!1,internalType:"uint32",name:"initPower",type:"uint32"}],name:"Mint",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Paused",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"previousAdminRole",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"newAdminRole",type:"bytes32"}],name:"RoleAdminChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleGranted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleRevoked",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256[]",name:"ids",type:"uint256[]"},{indexed:!1,internalType:"uint256[]",name:"values",type:"uint256[]"}],name:"TransferBatch",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"id",type:"uint256"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"TransferSingle",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"string",name:"value",type:"string"},{indexed:!0,internalType:"uint256",name:"id",type:"uint256"}],name:"URI",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Unpaused",type:"event"},{inputs:[],name:"DEFAULT_ADMIN_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function",constant:!0},{inputs:[],name:"GRADE4_CODE_MINT_LIMIT",outputs:[{internalType:"uint32",name:"",type:"uint32"}],stateMutability:"view",type:"function",constant:!0},{inputs:[],name:"GRADE5_CODE_MINT_LIMIT",outputs:[{internalType:"uint32",name:"",type:"uint32"}],stateMutability:"view",type:"function",constant:!0},{inputs:[],name:"MINTER_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function",constant:!0},{inputs:[],name:"PAUSER_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function",constant:!0},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"id",type:"uint256"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function",constant:!0},{inputs:[{internalType:"address[]",name:"accounts",type:"address[]"},{internalType:"uint256[]",name:"ids",type:"uint256[]"}],name:"balanceOfBatch",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function",constant:!0},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleAdmin",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function",constant:!0},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"uint256",name:"index",type:"uint256"}],name:"getRoleMember",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function",constant:!0},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleMemberCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function",constant:!0},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"grantRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"hasRole",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function",constant:!0},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function",constant:!0},{inputs:[{internalType:"uint16",name:"",type:"uint16"}],name:"itemCodeNumMap",outputs:[{internalType:"uint64",name:"",type:"uint64"}],stateMutability:"view",type:"function",constant:!0},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"itemInfoMap",outputs:[{internalType:"uint16",name:"itemCode",type:"uint16"},{internalType:"uint8",name:"itemGrade",type:"uint8"},{internalType:"uint8",name:"itemType",type:"uint8"},{internalType:"uint8",name:"itemLevel",type:"uint8"},{internalType:"uint256",name:"gene",type:"uint256"},{internalType:"uint32",name:"power",type:"uint32"},{internalType:"uint32",name:"initPower",type:"uint32"}],stateMutability:"view",type:"function",constant:!0},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"itemOwner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function",constant:!0},{inputs:[],name:"nextTokenId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function",constant:!0},{inputs:[],name:"paused",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function",constant:!0},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"renounceRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"revokeRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256[]",name:"ids",type:"uint256[]"},{internalType:"uint256[]",name:"amounts",type:"uint256[]"},{internalType:"bytes",name:"data",type:"bytes"}],name:"safeBatchTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"id",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function",constant:!0},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"uri",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function",constant:!0},{inputs:[{internalType:"string",name:"uri",type:"string"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint16",name:"itemCode",type:"uint16"},{internalType:"uint8",name:"itemGrade",type:"uint8"},{internalType:"uint8",name:"itemType",type:"uint8"},{internalType:"uint8",name:"itemLevel",type:"uint8"},{internalType:"uint256",name:"gene",type:"uint256"},{internalType:"uint32",name:"power",type:"uint32"},{internalType:"uint32",name:"initPower",type:"uint32"}],name:"mint",outputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{components:[{internalType:"uint16",name:"itemCode",type:"uint16"},{internalType:"uint8",name:"itemGrade",type:"uint8"},{internalType:"uint8",name:"itemType",type:"uint8"},{internalType:"uint8",name:"itemLevel",type:"uint8"},{internalType:"uint256",name:"gene",type:"uint256"},{internalType:"uint32",name:"power",type:"uint32"},{internalType:"uint32",name:"initPower",type:"uint32"}],internalType:"struct ITinyNFT.ItemInfo[]",name:"items",type:"tuple[]"}],name:"mintBatch",outputs:[{internalType:"uint256[]",name:"ids",type:"uint256[]"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"burn",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256[]",name:"ids",type:"uint256[]"},{internalType:"uint256[]",name:"amounts",type:"uint256[]"}],name:"burnBatch",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_account",type:"address"},{internalType:"uint256",name:"_id",type:"uint256"}],name:"isOwnerOf",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function",constant:!0},{inputs:[{internalType:"address",name:"_owner",type:"address"},{internalType:"uint256",name:"_id",type:"uint256"},{internalType:"uint32",name:"_newLevel",type:"uint32"},{internalType:"uint32",name:"_newPower",type:"uint32"}],name:"updateItemLevel",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"pause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"unpause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"_newuri",type:"string"}],name:"setURI",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_id",type:"uint256"}],name:"getItem",outputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint16",name:"itemCode",type:"uint16"},{internalType:"uint8",name:"itemGrade",type:"uint8"},{internalType:"uint8",name:"itemType",type:"uint8"},{internalType:"uint8",name:"itemLevel",type:"uint8"},{internalType:"uint256",name:"gene",type:"uint256"},{internalType:"uint32",name:"power",type:"uint32"},{internalType:"uint32",name:"initPower",type:"uint32"}],stateMutability:"view",type:"function",constant:!0}];let He=new Tt(Ts,Ss,Ae);const qs=[{label:"N",type:1,odds:.64},{label:"R",type:2,odds:.25},{label:"SR",type:3,odds:.08},{label:"SSR",type:4,odds:.025},{label:"SSSR",type:5,odds:.005}];async function _t(l){let _=[],u=[];l.forEach(function(p){u.findIndex(y=>y.blockNumber==p.blockNumber)==-1?u.push({blockNumber:p.blockNumber,blockTotal:1}):u.find(y=>y.blockNumber==p.blockNumber).blockTotal+=1});let m=u[0].blockNumber,v=(await Ae.getBlock(m)).timestamp,d=u[u.length-1].blockNumber,C=(await Ae.getBlock(d)).timestamp,T=0;d>m&&(T=(C-v)/(d-m)),u.forEach(function(p){p.timestamp=v+(p.blockNumber-m)*T});const r=Ee();return r.heros||await r.initHeros(),l.forEach(function(p){_.push({tokenId:p.args.tokenId.toString(),owner:p.args.to,itemCode:p.args.itemCode,itemGrade:p.args.itemGrade,itemLevel:p.args.itemLevel,itemType:p.args.itemType,power:p.args.power,initPower:p.args.initPower,gene:p.args.gene.toString(),timestamp:u.find(y=>y.blockNumber==p.blockNumber).timestamp,blockNumber:p.blockNumber,transactionHash:p.transactionHash,name_cn:r.heros.find(y=>y.code==p.args.itemCode).name_cn,name_en:r.heros.find(y=>y.code==p.args.itemCode).name_en})}),_}async function Is(l){let _=[],u=[];l.forEach(function(p){u.findIndex(y=>y.block==p.block)==-1?u.push({block:p.block,blockTotal:1}):u.find(y=>y.block==p.block).blockTotal+=1});let m=u[0].block,v=(await Ae.getBlock(m)).timestamp,d=u[u.length-1].block,C=(await Ae.getBlock(d)).timestamp,T=0;d>m&&(T=(C-v)/(d-m)),u.forEach(function(p){p.timestamp=v+(p.block-m)*T});const r=Ee();return r.heros||await r.initHeros(),l.forEach(function(p){let y=u.find(I=>I.block==p.block).timestamp;_.push({tokenId:p.hero,grade:r.heros.find(I=>I.code==p.hero).grade,type:r.heros.find(I=>I.code==p.hero).type,timestamp:y,hour:me.unix(y).hour(),blockNumber:p.block,name_cn:r.heros.find(I=>I.code==p.hero).name_cn,name_en:r.heros.find(I=>I.code==p.hero).name_en})}),_}let Ge;function Cs(l){let _=parseInt(l/100),u="";switch(_){case 1:u="N";break;case 2:u="R";break;case 3:u="SR";break;case 4:u="SSR";break;case 6:u="SSSR";break}return u}function Ns(l){const{proxy:_}=Ce();Ge=_.$echarts.init(document.getElementById(l)),Ge.showLoading()}async function ot(l){let _=[],u=[],m=[],v=[],d=[];l.forEach(p=>{let y=parseInt(p.itemCode/100)*100+p.itemCode%100*8,I=[p.timestamp,y,p.initPower,p.tokenId,p.owner,p.itemCode,p.name_en,p.name_cn];switch(p.itemGrade){case 1:_.push(I);break;case 2:u.push(I);break;case 3:m.push(I);break;case 4:v.push(I);break;case 5:d.push(I);break}});const C=[{name:"timestamp",index:0,text:"Time"},{name:"itemCode",index:1,text:"Type"},{name:"initPower",index:2,text:"Power"},{name:"tokenId",index:3,text:"ID"},{name:"owner",index:4,text:"Owner"}],T={opacity:.8,shadowBlur:10,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"rgba(0,0,0,0.3)"};let r={color:["#6e6e6e","#48c64c","#2d8eec","#9554fd","#ff7105"],tooltip:{},legend:{top:10,data:["N","R","SR","SSR","SSSR"],textStyle:{fontSize:16}},tooltip:{backgroundColor:"rgba(255,255,255,0.7)",formatter:function(p){var y=p.value;return'<image style="width:80px;height:80px;" src=https://images.tinyworlds.io/hero/'+y[5]+".png><br>"+y[6]+"("+y[7]+")<br>"+C[0].text+"\uFF1A"+me.unix(y[0]).format("HH:mm")+"<br>"+C[2].text+"\uFF1A"+y[2]+"<br>"+C[4].text+"\uFF1A"+gt(y[4])+"<br>"}},xAxis:{type:"time",splitNumber:4,axisLabel:{formatter:function(p,y){return me.unix(p).format("HH:mm")}},boundaryGap:["0","0"],splitLine:{show:!0}},yAxis:{type:"value",axisLabel:{formatter:function(p,y){return Cs(p)}},splitLine:{show:!0}},series:[{name:"N",type:"scatter",itemStyle:T,data:_},{name:"R",type:"scatter",itemStyle:T,data:u},{name:"SR",type:"scatter",itemStyle:T,data:m},{name:"SSR",type:"scatter",itemStyle:T,data:v},{name:"SSSR",type:"scatter",itemStyle:T,data:d}],dataZoom:{orient:"horizontal",start:75}};Ge.hideLoading(),Ge.setOption(r)}const De={props:{address:String},setup(l){const _=l,u=je(),m=A(!1),v=A(_.address),d=[{id:1,text:O.global.t("callhero.openbox_more"),code:v.value,icon:"label-o"},{id:2,text:"Bscscan.com",code:v.value,icon:"share-o"}],C=T=>{if(T.id==1&&u.push("/calladdress/"+T.code),T.id==2){let r="https://bscscan.com/address/"+T.code;window.open(r,"_blank")}};return(T,r)=>{const p=$("van-popover");return i(),Q(p,{show:m.value,"onUpdate:show":r[0]||(r[0]=y=>m.value=y),actions:d,onSelect:C,placement:"top-start"},{reference:a(()=>[n("span",null,e(s(gt)(v.value)),1)]),_:1},8,["show"])}}};const Rs=l=>(Je("data-v-a0bc41fa"),l=l(),Me(),l),Os={class:"margin-right-xs"},Fs={key:0},Vs={key:1},Ls={style:{width:"90%"},class:"text-gray text-df text-left"},As={style:{width:"90%"},class:"margin-top-xs"},Js={key:0,class:"text-orange text-sl"},Ms={key:1,class:"text-purple text-sl"},Es={key:2,class:"text-blue text-sl"},Ps={key:3,class:"text-green text-sl"},zs={key:4,class:"text-grey text-sl"},Bs={style:{width:"90%"},class:"text-left margin-top-xs"},Hs={class:"text-gray text-sm"},Ds={key:0,class:"text-black text-sm margin-left-xs"},Gs={style:{width:"90%"},class:"text-left margin-top-xs"},Ys={class:"text-gray text-sm"},js={class:"text-black text-sm margin-left-xs"},Ws={style:{width:"90%"},class:"text-left margin-top-xs"},Us={class:"text-gray text-sm"},Ks={class:"text-black text-sm margin-left-xs"},Xs={class:"text-gray text-sm margin-left-xs"},Zs={class:"text-black text-sm margin-left-xs"},Qs={style:{width:"90%"},class:"text-grey text-df text-right"},el={class:"margin-left-xs text-gray"},tl={class:"text-df text-gray"},al={class:"text-df text-gray"},nl={class:"text-df text-gray"},sl=g("SSSR"),ll={class:"text-df text-block"},ol={class:"text-df text-grey"},il=g("SSR"),rl={class:"text-df text-block"},ul={class:"text-df text-grey"},cl=g("SR"),dl={class:"text-df text-block"},pl={class:"text-df text-grey"},_l={key:0,class:"text-orange margin-left-xs"},ml={key:1,class:"text-purple margin-left-xs"},gl={key:2,class:"text-blue margin-left-xs"},yl={key:3,class:"text-green margin-left-xs"},fl={key:4,class:"text-grey margin-left-xs"},hl={class:"margin text-center"},vl=Rs(()=>n("div",{id:"nftPointChart"},null,-1)),xl={key:0,class:"text-orange margin-left-xs"},bl={key:1,class:"text-purple margin-left-xs"},kl={key:2,class:"text-blue margin-left-xs"},$l={key:3,class:"text-green margin-left-xs"},wl={key:4,class:"text-grey margin-left-xs"},Tl={class:"margin text-center"},Sl={key:0,class:"text-orange margin-left-xs"},ql={key:1,class:"text-purple margin-left-xs"},Il={key:2,class:"text-blue margin-left-xs"},Cl={key:3,class:"text-green margin-left-xs"},Nl={key:4,class:"text-grey margin-left-xs"},Rl={class:"margin text-center"},Ol={setup(l){const _=je(),u="https://scf-deploy-ap-hongkong-1258577806.cos.ap-hongkong.myqcloud.com/tinyworlds/callhero/",m=We(),v=A(!1),{proxy:d}=Ce(),C=A(""),T=c=>{_.push("/calladdress/"+c)},r=[{text:d.$dayjs.utc().format("YYYY/MM/DD"),index:0},{text:d.$dayjs.utc().subtract(1,"day").format("YYYY/MM/DD"),index:1},{text:d.$dayjs.utc().subtract(2,"day").format("YYYY/MM/DD"),index:2},{text:d.$dayjs.utc().subtract(3,"day").format("YYYY/MM/DD"),index:3},{text:d.$dayjs.utc().subtract(4,"day").format("YYYY/MM/DD"),index:4}],p=A(!1),y=A(0),I=async c=>{y.value=c.index;let z=d.$dayjs.utc();c.index>0&&(z=d.$dayjs.utc().subtract(c.index,"day")),await se(z)};let f,b=[16,37,155,650,4888];const w=A(""),H=A(""),X=A(0),Z=A(0);let ee=A(0),D=A([]),J=he({sssr:[],ssr:[],sr:[]}),o=he({last:[],luck:[],bad:[]}),q=he({last:5,luck:5,bad:5}),M=He.filters.Mint(),_e=1;const ne=(c,z)=>{q[c]+=z},re=c=>{q[c]=5};ke(async()=>{Ns("nftPointChart"),m.pools||await m.initPools(),_e=parseFloat(m.pools.price.TINC).toFixed(2),await se(d.$dayjs.utc())}),St(async()=>{He.removeAllListeners()});const se=async c=>{v.value=!1;let z=[];D.value=[],f&&clearInterval(f);let N=u+c.format("YYYYMM")+"/"+c.format("YYYYMMDD")+".json?="+c.format("YYYYMMDDHH");const te=await be(N);if(te.data.length>0&&(z.push(...te.data),H.value=me.unix(te.starttimestamp).format("HH:mm")),v.value=!0,c.get("date")==d.$dayjs.utc().get("date")){let Y=parseInt(te.endblock)+1;console.log(Y);let j=await He.queryFilter(M,Y,"latest");console.log(j);let B=[];j.length>0&&(B=await _t(j),z.push(...B),H.value==""&&(H.value=me.unix(z[0].timestamp).format("HH:mm"))),D.value.push(...z),le(z),await ot(z),f=setInterval(()=>{w.value=me().format("HH:mm:ss")}),He.on("Mint",async(W,ie,E,fe,ge,Pe,$e,Te,ze,Re)=>{let R=await _t([Re]);R=R.filter(ve=>ve.blockNumber>z[z.length-1].blockNumber),z.push(...R),D.value.push(...R),le(z),await ot(z)})}else w.value=me.unix(te.endtimestamp).format("HH:mm"),D.value.push(...z),le(z),await ot(z)},le=c=>{J.sssr=D.value.filter(B=>B.itemGrade==5),J.ssr=D.value.filter(B=>B.itemGrade==4),J.sr=D.value.filter(B=>B.itemGrade==3);let z=-1,N=-1;c.forEach((B,W)=>{B.itemGrade==5&&(z=W),B.itemGrade==4&&(N=W)}),X.value=c.length-z-1,Z.value=c.length-N-1;let te=.5+(.005-parseFloat(J.sssr.length/c.length).toFixed(4))*40+(.025-parseFloat(J.ssr.length/c.length).toFixed(4))*8+(.08-parseFloat(J.sr.length/c.length).toFixed(4))*2;ee.value=parseFloat(te*100).toFixed(2);let Y=c.reduce((B,W)=>{let ie=-1;if(B.length&&(ie=B.findIndex(function(E){return E.owner==W.owner&&E.blockNumber==W.blockNumber})),ie>=0)B[ie].totalnum[0]++,B[ie].totalnum[W.itemGrade]++,B[ie].score+=b[W.itemGrade-1]-100*_e,B[ie].nfts.push(W);else{let E={owner:W.owner,score:0,totalnum:[1,0,0,0,0,0],timestamp:W.timestamp,blockNumber:W.blockNumber,nfts:[W]};E.totalnum[W.itemGrade]++,E.score+=b[W.itemGrade-1]-100*_e,B.push(E)}return B},[]);Y=Y.sort(we("blockNumber")),o.last=Y.reverse();let j=c.reduce((B,W)=>{let ie=-1;if(B.length&&(ie=B.findIndex(E=>E.owner==W.owner)),ie>=0)B[ie].totalnum[0]++,B[ie].totalnum[W.itemGrade]++,B[ie].score+=b[W.itemGrade-1]-100*_e,B[ie].nfts.push(W);else{let E={owner:W.owner,score:0,totalnum:[1,0,0,0,0,0],nfts:[W]};E.totalnum[W.itemGrade]++,E.score+=b[W.itemGrade-1]-100*_e,B.push(E)}return B},[]);j=j.sort(we("score")),o.bad=j.filter(B=>B.score<0),o.luck=j.reverse().filter(B=>B.score>0)};return(c,z)=>{const N=$("van-search"),te=$("van-swipe-item"),Y=$("van-swipe"),j=$("van-notice-bar"),B=$("van-grid-item"),W=$("van-icon"),ie=$("van-popover"),E=$("van-col"),fe=$("van-row"),ge=$("van-tag"),Pe=$("van-grid"),$e=$("van-cell-group"),Te=$("van-cell"),ze=$("van-loading"),Re=$("van-overlay");return i(),h(oe,null,[t(N,{modelValue:C.value,"onUpdate:modelValue":z[0]||(z[0]=R=>C.value=R),placeholder:c.$t("calladdress.placeholder"),"input-align":"center",onSearch:T},null,8,["modelValue","placeholder"]),s(J).sssr.length?(i(),Q(j,{key:0,"left-icon":"volume-o",scrollable:!1},{default:a(()=>[t(Y,{vertical:"",class:"notice-swipe",autoplay:3e3,"show-indicators":!1},{default:a(()=>[(i(!0),h(oe,null,pe(s(J).sssr,(R,ve)=>(i(),Q(te,{key:ve},{default:a(()=>[n("span",Os,e(s(me).unix(R.timestamp).format("HH:mm")),1),t(De,{address:R.owner},null,8,["address"]),g(e(c.$t("callhero.notie_1"))+" ",1),s(O).global.locale=="zh_TW"?(i(),h("span",Fs,e(R.name_cn),1)):(i(),h("span",Vs,e(R.name_en),1)),g(" ,"+e(c.$t("callhero.notie_2"))+":"+e(R.initPower),1)]),_:2},1024))),128))]),_:1})]),_:1})):L("",!0),t($e,{inset:"",style:{"margin-top":"10px"}},{default:a(()=>[t(Pe,{"column-num":"2"},{default:a(()=>[t(B,{"use-slot":""},{default:a(()=>[n("div",Ls,e(c.$t("callhero.heartIndex")),1),n("div",As,[s(ee)>85?(i(),h("span",Js,e(s(ee))+"%",1)):s(ee)>70?(i(),h("span",Ms,e(s(ee))+"%",1)):s(ee)>50?(i(),h("span",Es,e(s(ee))+"%",1)):s(ee)>30?(i(),h("span",Ps,e(s(ee))+"%",1)):(i(),h("span",zs,e(s(ee))+"%",1))]),n("div",Bs,[n("span",Hs,e(c.$t("callhero.total_time"))+":",1),s(D).length?(i(),h("span",Ds,e(H.value)+"-"+e(w.value),1)):L("",!0)]),n("div",Gs,[n("span",Ys,e(c.$t("callhero.total_open"))+":",1),n("span",js,e(s(D).length),1)]),n("div",Ws,[n("span",Us,e(c.$t("callhero.no_orange"))+":",1),n("span",Ks,e(X.value)+"/200",1),n("span",Xs,e(c.$t("callhero.no_purple"))+":",1),n("span",Zs,e(Z.value)+"/40",1)])]),_:1}),t(B,{"use-slot":""},{default:a(()=>[n("div",Qs,[t(ie,{placement:"bottom-end",theme:"dark",show:p.value,"onUpdate:show":z[1]||(z[1]=R=>p.value=R),actions:r,onSelect:I},{reference:a(()=>[t(W,{name:"calendar-o"}),n("span",el,e(r.find(R=>R.index==y.value).text),1)]),_:1},8,["show"])]),t(fe,{style:{width:"90%"},justify:"space-between",class:"margin-top-sm"},{default:a(()=>[t(E,{span:"8",class:"text-left"},{default:a(()=>[n("span",tl,e(c.$t("callhero.title_nft")),1)]),_:1}),t(E,{span:"8",class:"text-center"},{default:a(()=>[n("span",al,e(c.$t("callhero.title_open")),1)]),_:1}),t(E,{span:"8",class:"text-center"},{default:a(()=>[n("span",nl,e(c.$t("callhero.title_theory")),1)]),_:1})]),_:1}),t(fe,{style:{width:"90%"},justify:"space-between",class:"margin-top-sm"},{default:a(()=>[t(E,{span:"8"},{default:a(()=>[t(ge,{color:"#ff7105"},{default:a(()=>[sl]),_:1})]),_:1}),t(E,{span:"8",class:"text-center"},{default:a(()=>[n("span",ll,e(s(J).sssr.length),1)]),_:1}),t(E,{span:"8",class:"text-center"},{default:a(()=>[n("span",ol,e(parseInt(s(D).length*.005)),1)]),_:1})]),_:1}),t(fe,{style:{width:"90%"},justify:"space-between",class:"margin-top-sm"},{default:a(()=>[t(E,{span:"8"},{default:a(()=>[t(ge,{color:"#9554fd"},{default:a(()=>[il]),_:1})]),_:1}),t(E,{span:"8",class:"text-center"},{default:a(()=>[n("span",rl,e(s(J).ssr.length),1)]),_:1}),t(E,{span:"8",class:"text-center"},{default:a(()=>[n("span",ul,e(parseInt(s(D).length*.025)),1)]),_:1})]),_:1}),t(fe,{style:{width:"90%"},justify:"space-between",class:"margin-top-sm"},{default:a(()=>[t(E,{span:"8"},{default:a(()=>[t(ge,{color:"#2d8eec"},{default:a(()=>[cl]),_:1})]),_:1}),t(E,{span:"8",class:"text-center"},{default:a(()=>[n("span",dl,e(s(J).sr.length),1)]),_:1}),t(E,{span:"8",class:"text-center"},{default:a(()=>[n("span",pl,e(parseInt(s(D).length*.08)),1)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),t($e,{inset:"",style:{"margin-top":"10px"}},{default:a(()=>[t(Te,{title:c.$t("callhero.list_last"),icon:"label-o"},{value:a(()=>[s(q).last>5?(i(),h("span",{key:0,onClick:z[2]||(z[2]=R=>re("last"))},e(c.$t("common.show_only_5")),1)):L("",!0)]),_:1},8,["title"]),t(fe,{justify:"center",class:"margin-top-sm text-center"},{default:a(()=>[t(E,{span:"4",class:"text-df text-gray"},{default:a(()=>[g(e(c.$t("callhero.list_time")),1)]),_:1}),t(E,{span:"6",class:"text-df text-gray"},{default:a(()=>[g(e(c.$t("callhero.list_address")),1)]),_:1}),t(E,{span:"12",class:"text-df text-gray"},{default:a(()=>[g(e(c.$t("callhero.list_grades")),1)]),_:1}),t(E,{span:"2",class:"text-df text-gray"},{default:a(()=>[g(e(c.$t("callhero.list_total")),1)]),_:1})]),_:1}),(i(!0),h(oe,null,pe(s(o).last.slice(0,s(q).last),(R,ve)=>(i(),Q(fe,{justify:"center",class:"margin-top-sm text-center solid-top",key:ve+R.owner},{default:a(()=>[t(E,{span:"4",class:"margin-top"},{default:a(()=>[g(e(s(me).unix(R.timestamp).format("HH:mm")),1)]),_:2},1024),t(E,{span:"6",class:"margin-top"},{default:a(()=>[t(De,{address:R.owner},null,8,["address"])]),_:2},1024),t(E,{span:"12",class:"margin-top"},{default:a(()=>[R.totalnum[5]?(i(),h("span",_l,e(R.totalnum[5])+"sssr",1)):L("",!0),R.totalnum[4]?(i(),h("span",ml,e(R.totalnum[4])+"ssr",1)):L("",!0),R.totalnum[3]?(i(),h("span",gl,e(R.totalnum[3])+"sr",1)):L("",!0),R.totalnum[2]?(i(),h("span",yl,e(R.totalnum[2])+"r",1)):L("",!0),R.totalnum[1]?(i(),h("span",fl,e(R.totalnum[1])+"n",1)):L("",!0)]),_:2},1024),t(E,{span:"2",class:"margin-top"},{default:a(()=>[g(e(R.totalnum[0]),1)]),_:2},1024)]),_:2},1024))),128)),n("div",hl,[s(q).last<s(o).last.length?(i(),h("span",{key:0,class:"text-gray",onClick:z[3]||(z[3]=R=>ne("last",5))},e(c.$t("common.add_more")),1)):L("",!0)])]),_:1}),t($e,{inset:"",style:{"margin-top":"10px"}},{default:a(()=>[t(Te,{title:c.$t("callhero.open_trend"),icon:"bar-chart-o"},null,8,["title"]),vl]),_:1}),t($e,{inset:"",style:{"margin-top":"10px"}},{default:a(()=>[t(Te,{title:c.$t("callhero.list_luck"),icon:"good-job-o"},{value:a(()=>[s(q).luck>5?(i(),h("span",{key:0,onClick:z[4]||(z[4]=R=>re("luck"))},e(c.$t("common.show_only_5")),1)):L("",!0)]),_:1},8,["title"]),t(fe,{justify:"center",class:"margin-top-sm text-center"},{default:a(()=>[t(E,{span:"8",class:"text-df text-gray"},{default:a(()=>[g(e(c.$t("callhero.list_address")),1)]),_:1}),t(E,{span:"12",class:"text-df text-gray"},{default:a(()=>[g(e(c.$t("callhero.list_grades")),1)]),_:1}),t(E,{span:"4",class:"text-df text-gray"},{default:a(()=>[g(e(c.$t("callhero.list_total")),1)]),_:1})]),_:1}),(i(!0),h(oe,null,pe(s(o).luck.slice(0,s(q).luck),(R,ve)=>(i(),Q(fe,{justify:"center",class:"margin-top-sm text-center solid-top",key:ve},{default:a(()=>[t(E,{span:"8",class:"margin-top"},{default:a(()=>[t(De,{address:R.owner},null,8,["address"])]),_:2},1024),t(E,{span:"12",class:"margin-top"},{default:a(()=>[R.totalnum[5]?(i(),h("span",xl,e(R.totalnum[5])+"sssr",1)):L("",!0),R.totalnum[4]?(i(),h("span",bl,e(R.totalnum[4])+"ssr",1)):L("",!0),R.totalnum[3]?(i(),h("span",kl,e(R.totalnum[3])+"sr",1)):L("",!0),R.totalnum[2]?(i(),h("span",$l,e(R.totalnum[2])+"r",1)):L("",!0),R.totalnum[1]?(i(),h("span",wl,e(R.totalnum[1])+"n",1)):L("",!0)]),_:2},1024),t(E,{span:"4",class:"margin-top"},{default:a(()=>[g(e(R.totalnum[0]),1)]),_:2},1024)]),_:2},1024))),128)),n("div",Tl,[s(q).luck<s(o).luck.length?(i(),h("span",{key:0,class:"text-gray",onClick:z[5]||(z[5]=R=>ne("luck",5))},e(c.$t("common.add_more")),1)):L("",!0)])]),_:1}),t($e,{inset:"",style:{"margin-top":"10px"}},{default:a(()=>[t(Te,{title:c.$t("callhero.list_bad"),icon:"medal-o"},{value:a(()=>[s(q).bad>5?(i(),h("span",{key:0,onClick:z[6]||(z[6]=R=>re("bad"))},e(c.$t("common.show_only_5")),1)):L("",!0)]),_:1},8,["title"]),t(fe,{justify:"center",class:"margin-top-sm text-center"},{default:a(()=>[t(E,{span:"8",class:"text-df text-gray"},{default:a(()=>[g(e(c.$t("callhero.list_address")),1)]),_:1}),t(E,{span:"12",class:"text-df text-gray"},{default:a(()=>[g(e(c.$t("callhero.list_grades")),1)]),_:1}),t(E,{span:"4",class:"text-df text-gray"},{default:a(()=>[g(e(c.$t("callhero.list_total")),1)]),_:1})]),_:1}),(i(!0),h(oe,null,pe(s(o).bad.slice(0,s(q).bad),(R,ve)=>(i(),Q(fe,{justify:"center",class:"margin-top-sm text-center solid-top",key:ve},{default:a(()=>[t(E,{span:"8",class:"margin-top"},{default:a(()=>[t(De,{address:R.owner},null,8,["address"])]),_:2},1024),t(E,{span:"12",class:"margin-top"},{default:a(()=>[R.totalnum[5]?(i(),h("span",Sl,e(R.totalnum[5])+"sssr",1)):L("",!0),R.totalnum[4]?(i(),h("span",ql,e(R.totalnum[4])+"ssr",1)):L("",!0),R.totalnum[3]?(i(),h("span",Il,e(R.totalnum[3])+"sr",1)):L("",!0),R.totalnum[2]?(i(),h("span",Cl,e(R.totalnum[2])+"r",1)):L("",!0),R.totalnum[1]?(i(),h("span",Nl,e(R.totalnum[1])+"n",1)):L("",!0)]),_:2},1024),t(E,{span:"4",class:"margin-top"},{default:a(()=>[g(e(R.totalnum[0]),1)]),_:2},1024)]),_:2},1024))),128)),n("div",Rl,[s(q).bad<s(o).bad.length?(i(),h("span",{key:0,class:"text-gray",onClick:z[7]||(z[7]=R=>ne("bad",5))},e(c.$t("common.add_more")),1)):L("",!0)])]),_:1}),t(Re,{show:!v.value},{default:a(()=>[t(ze,{class:"margin-top-xl padding-top-xl text-center"},{default:a(()=>[g(e(c.$t("common.loading")),1)]),_:1})]),_:1},8,["show"])],64)}}};var Fl=Ie(Ol,[["__scopeId","data-v-a0bc41fa"]]);const Vl=l=>(Je("data-v-75d88c70"),l=l(),Me(),l),Ll={class:"margin-top"},Al=["onClick"],Jl={class:"cu-tag radius text-xl text-grey fl margin-top-sm"},Ml={class:"cu-avatar-group margin-bottom-sm fl"},El={class:"fl text-df text-gray margin-left-sm"},Pl={class:"playername"},zl={class:"text-sm"},Bl={class:"text-black"},Hl={class:"margin-left-sm"},Dl={class:"text-black"},Gl={class:"text-orange text-lg"},Yl=Vl(()=>n("span",{class:"text-sm text-gray margin-right"},"Tinc",-1)),jl={setup(l){const _=Ue(),u=je(),m=A([]),v=A([]),d=10;ke(async()=>{_.ranking_city||await _.initRankingCity(),v.value=_.ranking_city.all,C()});function C(){m.values=[];for(let r=1;r<v.value.length;r+=d)m.value.push(r)}const T=r=>{console.log(r),u.push({name:"Predict",params:{playerId:r}})};return(r,p)=>{const y=$("van-index-anchor"),I=$("van-cell"),f=$("van-index-bar");return i(),h("div",Ll,[v.value.length>=400?(i(),Q(f,{key:0,"index-list":m.value,"sticky-offset-top":40},{default:a(()=>[(i(!0),h(oe,null,pe(m.value,b=>(i(),h(oe,{key:b},[t(y,{index:b},{default:a(()=>[g(e(b)+"-"+e(parseInt(b)+d-1),1)]),_:2},1032,["index"]),(i(!0),h(oe,null,pe(v.value.slice(parseInt(b)-1,parseInt(b)+d-1),w=>(i(),Q(I,{key:w,class:"solid-bottom"},{title:a(()=>[n("div",{onClick:H=>T(w.playerId)},[n("span",Jl,e(w.rankIndex),1),n("div",Ml,[(i(!0),h(oe,null,pe(w.data.filter(H=>H.hero.code>0),H=>(i(),h("div",{class:"cu-avatar round",key:H,style:Le([{backgroundImage:"url(https://images.tinyworlds.io/hero/"+H.hero.code+".png)",backgroundColor:s(it).find(X=>X.code==100*parseInt(H.hero.code/100)).rgb}])},null,4))),128))]),n("div",El,[n("div",Pl,e(w.title_cn),1),n("div",zl,[g(e(r.$t("predict.castle_floor"))+":",1),n("span",Bl,e(parseInt(w.scoreValue)),1),n("span",Hl,e(r.$t("predict.real_time"))+":",1),n("span",Dl,e(parseInt(w.cityCapability)),1)])])],8,Al)]),"right-icon":a(()=>[n("div",null,[n("span",Gl,e(w.prizeAmount),1),Yl])]),_:2},1024))),128))],64))),128))]),_:1},8,["index-list"])):L("",!0)])}}};var Wl=Ie(jl,[["__scopeId","data-v-75d88c70"]]);let Ye;function Ul(l){const{proxy:_}=Ce();Ye=_.$echarts.init(document.getElementById(l)),Ye.showLoading()}async function Kl(l){const _=[{title:"N",value:1},{title:"R",value:2},{title:"SR",value:3},{title:"SSR",value:4},{title:"SSSR",value:5}],u=["#6e6e6e","#48c64c","#2d8eec","#9554fd","#ff7105"],m=[[23,0],[1,2],[3,4],[5,6],[7,8],[9,10],[11,12],[13,14],[15,16],[17,18],[19,20],[21,22]],v="#2E2733",d={star5:{color:u[4]},star4:{color:u[3]},star3:{color:u[2]},star2:{color:u[1]},star1:{color:u[0]}};let C=[{name:"\u65E5\u5347",children:[{name:"\u5B50\u9F20"},{name:"\u4E11\u725B"},{name:"\u5BC5\u864E"},{name:"\u536F\u5154"},{name:"\u8FB0\u9F8D"},{name:"\u5DF3\u86C7"}]},{name:"\u65E5\u4EC4",children:[{name:"\u5348\u99AC"},{name:"\u672A\u7F8A"},{name:"\u7533\u7334"},{name:"\u9149\u96DE"},{name:"\u620C\u72D7"},{name:"\u4EA5\u8C6C"}]}],T=[{name:"AM",children:[{name:"23-1"},{name:"1-3"},{name:"3-5"},{name:"5-7"},{name:"7-9"},{name:"9-11"}]},{name:"PM",children:[{name:"11-13"},{name:"13-15"},{name:"15-17"},{name:"17-19"},{name:"19-21"},{name:"21-23"}]}],r=O.global.locale=="zh_TW"?C:T,p=[],y=[{grade:1,range:0,max_length:0},{grade:1,range:0,max_length:0}];for(let f=0;f<=11;f++){let b=[];const w=l.filter(X=>X.hour==m[f][0]||X.hour==m[f][1]);let H={grade:1,range:0,max_length:w.length,hour:f};_.forEach(X=>{const Z=w.filter(ee=>ee.grade==X.value);if(Z.length>0){b.push({name:X.title,children:[{name:Z.length}]});const ee=Z.length/w.length,D=qs.find(o=>o.type==X.value).odds,J=parseFloat((ee-D)/D).toFixed(4);J>H.range&&(H.grade=X.value,H.range=J)}}),p.push(H),f<6?(r[0].children[f].children=b,r[0].children[f].itemStyle={color:u[H.grade-1]},H.max_length>y[0].max_length&&(y[0]=H)):(r[1].children[f-6].children=b,r[1].children[f-6].itemStyle={color:u[H.grade-1]},H.max_length>y[1].max_length&&(y[1]=H))}r[0].itemStyle={color:u[y[0].grade-1]},r[1].itemStyle={color:u[y[1].grade-1]};for(let f=0;f<r.length;++f){let b=r[f].children;for(let w=0;w<b.length;++w){let H=b[w].children,X=[],Z;for(let ee=0;ee<H.length;++ee){let D=function(J){switch(J){case"SSSR":return Z=0,d.star5;case"SSR":return Z=1,d.star4;case"SR":return Z=2,d.star3;case"R":return Z=3,d.star2;case"N":return Z=4,d.star1}}(H[ee].name);H[ee].label={color:D.color,downplay:{opacity:.5}},H[ee].children&&(D={opacity:1,color:D.color},H[ee].children.forEach(function(J){J.value=1,J.itemStyle=D,J.label={color:D.color};let o=1;(Z===0||Z===3)&&(o=5),X[Z]?X[Z].value+=o:X[Z]={color:u[Z],value:o}}))}}}let I={backgroundColor:v,color:u,series:[{type:"sunburst",center:["50%","48%"],data:r,sort:function(f,b){return f.depth===1?b.getValue()-f.getValue():f.dataIndex-b.dataIndex},label:{rotate:"radial",color:v},itemStyle:{borderColor:v,borderWidth:2},levels:[{},{r0:0,r:40,label:{rotate:0}},{r0:40,r:105},{r0:115,r:140,itemStyle:{shadowBlur:2,shadowColor:u[2],color:"transparent"},label:{rotate:"tangential",fontSize:10,color:u[0]}},{r0:140,r:145,itemStyle:{shadowBlur:80,shadowColor:u[0]},label:{position:"outside",textShadowBlur:5,textShadowColor:"#333"},downplay:{label:{opacity:.5}}}]}]};return Ye.hideLoading(),Ye.setOption(I),p}const Ne=l=>(Je("data-v-93c0d19a"),l=l(),Me(),l),Xl={key:0,class:"text-center margin-top"},Zl={class:"text-center text-df text-grey"},Ql={class:"text-center text-lg text-gray margin-top-xs"},eo={class:"text-center text-df margin-tb-xs"},to={class:"cu-tag radius light bg-white padding-lr"},ao={class:"text-center text-sm text-gray"},no={class:"text-center text-sl text-black"},so={class:"text-center text-sm text-gray"},lo={class:"text-center text-sl"},oo={key:0,class:"text-orange"},io={key:1,class:"text-purple"},ro={key:2,class:"text-blue"},uo={key:3,class:"text-green"},co={key:4,class:"text-grey"},po={class:"text-center text-lg text-orange margin-bottom-xs"},_o={class:"text-center text-df text-gray"},mo={key:0,class:"text-orange"},go={key:1,class:"text-orange"},yo=Ne(()=>n("div",{class:"text-center text-sm text-gray margin-top-xs"},"SSSR",-1)),fo={class:"text-center text-lg text-purple margin-bottom-xs"},ho={class:"text-center text-df text-gray"},vo={key:0,class:"text-purple"},xo={key:1,class:"text-purple"},bo=Ne(()=>n("div",{class:"text-center text-sm text-gray margin-top-xs"},"SSR",-1)),ko={class:"text-center text-lg text-blue margin-bottom-xs"},$o={class:"text-center text-df text-gray"},wo={key:0,class:"text-blue"},To={key:1,class:"text-blue"},So=Ne(()=>n("div",{class:"text-center text-sm text-gray margin-top-xs"},"SR",-1)),qo={class:"text-center text-lg text-green margin-bottom-xs"},Io={class:"text-center text-df text-gray"},Co={key:0,class:"text-green"},No={key:1,class:"text-green"},Ro=Ne(()=>n("div",{class:"text-center text-sm text-gray margin-top-xs"},"R",-1)),Oo={class:"text-center text-lg text-grey margin-bottom-xs"},Fo={class:"text-center text-df text-gray"},Vo={key:0,class:"text-grey"},Lo={key:1,class:"text-grey"},Ao=Ne(()=>n("div",{class:"text-center text-sm text-gray margin-top-xs"},"N",-1)),Jo={class:"margin text-df text-gray"},Mo={class:"text-center margin-top-xs"},Eo={class:"text-lg text-orange margin-right-sm"},Po={class:"text-orange"},zo={class:"text-center margin-top-xs"},Bo={key:0,class:"text-center margin-top-xs"},Ho={class:"text-lg text-black margin-right-sm"},Do={class:"text-black"},Go=Ne(()=>n("div",{id:"nftPieChart",class:"text-center"},null,-1)),Yo={key:0,class:"text-orange margin-left-xs"},jo={key:1,class:"text-purple margin-left-xs"},Wo={key:2,class:"text-blue margin-left-xs"},Uo={key:3,class:"text-green margin-left-xs"},Ko={key:4,class:"text-grey margin-left-xs"},Xo={class:"margin text-center"},Zo={setup(l){const _="https://service-71y1ipws-1258577806.hk.apigw.tencentcs.com/box/",{proxy:u}=Ce();let m=he({history:5});const v=mt(),d=A(!1),C=A(""),T=A(""),r=A([]),p=A(0),y=[{name_cn:"\u5B50\u9F20",name_en:"Rat",value:"23-1"},{name_cn:"\u4E11\u725B",name_en:"Ox",value:"1-3"},{name_cn:"\u5BC5\u864E",name_en:"Tiger",value:"3-5"},{name_cn:"\u536F\u5154",name_en:"Hare",value:"5-7"},{name_cn:"\u8FB0\u9F8D",name_en:"Dragon",value:"7-9"},{name_cn:"\u5DF3\u86C7",name_en:"Snake",value:"9-11"},{name_cn:"\u5348\u99AC",name_en:"Horse",value:"11-13"},{name_cn:"\u672A\u7F8A",name_en:"Sheep",value:"13-15"},{name_cn:"\u7533\u7334",name_en:"Monkey",value:"15-17"},{name_cn:"\u9149\u96DE",name_en:"Cock",value:"17-19"},{name_cn:"\u620C\u72D7",name_en:"Dog",value:"19-21"},{name_cn:"\u4EA5\u8C6C",name_en:"Boar",value:"21-23"}],I=he({max_time:{name:"",value:""},max_color:{name:"",rgb:"",card:""},min_time:{name:"",value:""}}),f=he({sssr:[],ssr:[],sr:[],r:[],n:[]}),b=he({sssr:0,ssr:0,sr:0,r:0,n:0});let w=he({history:[]});const H=We();let X=1,Z=[16,37,155,650,4888];const ee=function(q){let M=document.getElementById(q);M.style.width=window.innerWidth-32+"px"};ke(async()=>{ee("nftPieChart"),Ul("nftPieChart"),H.pools||await H.initPools(),X=parseFloat(H.pools.price.TINC).toFixed(2),v.params&&v.params.address&&await D(v.params.address)});const D=async q=>{d.value=!0;let M=Number(q);if(!isNaN(M)&&M>0&&M<101){const j=await be(_+"max/"+M);q="0x"+j[0].addr}if(!qt.utils.isAddress(q)){console.log("error address: "+q),u.$toast.fail(O.global.t("common.Invalid_address")),d.value=!1;return}const ne=(await be(_+"address/"+q)).data;if(T.value=q,ne.length==0){u.$toast.fail(O.global.t("common.no_data")),d.value=!1;return}const re=await Is(ne);r.value=re,f.sssr=r.value.filter(j=>j.grade==5),f.ssr=r.value.filter(j=>j.grade==4),f.sr=r.value.filter(j=>j.grade==3),f.r=r.value.filter(j=>j.grade==2),f.n=r.value.filter(j=>j.grade==1);let se=.6+(parseFloat(f.sssr.length/r.value.length).toFixed(4)-.005)*15+(parseFloat(f.ssr.length/r.value.length).toFixed(4)-.025)*4+(parseFloat(f.sr.length/r.value.length).toFixed(4)-.08);console.log(se),b.sssr=parseInt(r.value.length*.005),b.ssr=parseInt(r.value.length*.025),b.sr=parseInt(r.value.length*.08),b.r=parseInt(r.value.length*.25),b.n=parseInt(r.value.length*.64),console.log("sssr: "+f.sssr.length+" ssr: "+f.ssr.length+"sr: "+f.sr.length+" r: "+f.r.length+" n: "+f.n.length),p.value=parseFloat(se*100).toFixed(2);let le=await Kl(re);le=le.filter(j=>j.max_length>0),le=le.sort(we("range")),le=le.sort(we("grade")),le.reverse();let c=[{grade:1,value:0},{grade:2,value:0},{grade:3,value:0},{grade:4,value:0},{grade:5,value:0}];c.forEach((j,B)=>{c[B].value=le.filter(W=>W.grade==j.grade).length}),c=c.sort(we("value")),console.log(le),console.log(c.reverse());let z=le[0].hour,N=le[le.length-1].hour,te=ye.find(j=>j.grade==c[0].grade);I.max_time={name:O.global.locale=="zh_TW"?y[z].name_cn:y[z].name_en,value:y[z].value},le.length>1&&(I.min_time={name:O.global.locale=="zh_TW"?y[N].name_cn:y[N].name_en,value:y[N].value}),I.max_color={name:O.global.locale=="zh_TW"?te.color_cn:te.color,rgb:te.rgb,card:te.title};let Y=re.reduce((j,B)=>{let W=-1;if(j.length&&(W=j.findIndex(function(ie){return ie.blockNumber==B.blockNumber})),W>=0)j[W].totalnum[0]++,j[W].totalnum[B.grade]++,j[W].score+=Z[B.grade-1]-100*X,j[W].nfts.push(B);else{let ie={owner:B.owner,score:0,totalnum:[1,0,0,0,0,0],timestamp:B.timestamp,blockNumber:B.blockNumber,nfts:[B]};ie.totalnum[B.grade]++,ie.score+=Z[B.grade-1]-100*X,j.push(ie)}return j},[]);Y=Y.sort(we("blockNumber")),w.history=Y.reverse(),d.value=!1,C.value=""},J=(q,M)=>{m[q]+=M},o=q=>{m[q]=5};return(q,M)=>{const _e=$("van-search"),ne=$("van-loading"),re=$("van-empty"),se=$("van-grid-item"),le=$("van-grid"),c=$("van-cell-group"),z=$("van-cell"),N=$("van-col"),te=$("van-row");return i(),h(oe,null,[t(_e,{modelValue:C.value,"onUpdate:modelValue":M[0]||(M[0]=Y=>C.value=Y),placeholder:q.$t("calladdress.placeholder"),"input-align":"center",onSearch:D},null,8,["modelValue","placeholder"]),d.value?(i(),h("div",Xl,[t(ne,{size:"24px"},{default:a(()=>[g(e(q.$t("common.loading")),1)]),_:1})])):L("",!0),!d.value&&!r.value.length?(i(),Q(re,{key:1,class:"margin-top",image:"search"},{default:a(()=>[n("div",Zl,e(T.value),1),n("div",Ql,e(q.$t("calladdress.no_openbox")),1)]),_:1})):L("",!0),It(n("div",null,[t(c,{inset:"",style:{"margin-top":"10px"}},{default:a(()=>[n("div",eo,[n("span",to,e(T.value),1)]),t(le,{"column-num":"2"},{default:a(()=>[t(se,{"use-slot":""},{default:a(()=>[n("div",ao,e(q.$t("calladdress.total_card")),1),n("div",no,e(r.value.length),1)]),_:1}),t(se,{"use-slot":""},{default:a(()=>[n("div",so,e(q.$t("calladdress.luck_index")),1),n("div",lo,[p.value>85?(i(),h("span",oo,e(p.value)+"%",1)):p.value>70?(i(),h("span",io,e(p.value)+"%",1)):p.value>50?(i(),h("span",ro,e(p.value)+"%",1)):p.value>30?(i(),h("span",uo,e(p.value)+"%",1)):(i(),h("span",co,e(p.value)+"%",1))])]),_:1})]),_:1}),t(le,{"column-num":"5"},{default:a(()=>[t(se,{"use-slot":""},{default:a(()=>[n("div",po,e(s(f).sssr.length),1),n("div",_o,[g(e(s(b).sssr)+" ",1),s(f).sssr.length>s(b).sssr?(i(),h("span",mo,"+"+e(parseInt(s(f).sssr.length-s(b).sssr)),1)):L("",!0),s(f).sssr.length<s(b).sssr?(i(),h("span",go,e(parseInt(s(f).sssr.length-s(b).sssr)),1)):L("",!0)]),yo]),_:1}),t(se,{"use-slot":""},{default:a(()=>[n("div",fo,e(s(f).ssr.length),1),n("div",ho,[g(e(s(b).ssr)+" ",1),s(f).ssr.length>s(b).ssr?(i(),h("span",vo,"+"+e(parseInt(s(f).ssr.length-s(b).ssr)),1)):L("",!0),s(f).ssr.length<s(b).ssr?(i(),h("span",xo,e(parseInt(s(f).ssr.length-s(b).ssr)),1)):L("",!0)]),bo]),_:1}),t(se,{"use-slot":""},{default:a(()=>[n("div",ko,e(s(f).sr.length),1),n("div",$o,[g(e(s(b).sr)+" ",1),s(f).sr.length>s(b).sr?(i(),h("span",wo,"+"+e(parseInt(s(f).sr.length-s(b).sr)),1)):L("",!0),s(f).sr.length<s(b).sr?(i(),h("span",To,e(parseInt(s(f).sr.length-s(b).sr)),1)):L("",!0)]),So]),_:1}),t(se,{"use-slot":""},{default:a(()=>[n("div",qo,e(s(f).r.length),1),n("div",Io,[g(e(s(b).r)+" ",1),s(f).r.length>s(b).r?(i(),h("span",Co,"+"+e(parseInt(s(f).r.length-s(b).r)),1)):L("",!0),s(f).r.length<s(b).r?(i(),h("span",No,e(parseInt(s(f).r.length-s(b).r)),1)):L("",!0)]),Ro]),_:1}),t(se,{"use-slot":""},{default:a(()=>[n("div",Oo,e(s(f).n.length),1),n("div",Fo,[g(e(s(b).n)+" ",1),s(f).n.length>s(b).n?(i(),h("span",Vo,"+"+e(parseInt(s(f).n.length-s(b).n)),1)):L("",!0),s(f).n.length<s(b).n?(i(),h("span",Lo,e(parseInt(s(f).n.length-s(b).n)),1)):L("",!0)]),Ao]),_:1})]),_:1})]),_:1}),t(c,{inset:"",style:{"margin-top":"10px"}},{default:a(()=>[t(z,{title:q.$t("calladdress.trend"),icon:"chat-o"},null,8,["title"]),n("div",Jo,[n("div",Mo,[n("span",Eo,e(s(I).max_time.name),1),n("span",null,e(q.$t("calladdress.label_max_zodiac")),1),n("span",Po,e(s(I).max_time.value),1),n("span",null,e(q.$t("calladdress.label_max_range")),1)]),n("div",zo,[n("span",{class:"text-lg margin-right-sm",style:Le("color:"+s(I).max_color.rgb)},e(s(I).max_color.name),5),n("span",null,e(q.$t("calladdress.label_luck_color")),1),n("span",{style:Le("color:"+s(I).max_color.rgb)},e(s(I).max_color.card),5),n("span",null,e(q.$t("calladdress.label_luck_card")),1)]),s(I).min_time.name!=""?(i(),h("div",Bo,[n("span",Ho,e(s(I).min_time.name),1),n("span",null,e(q.$t("calladdress.label_min_zodiac")),1),n("span",Do,e(s(I).min_time.value),1),n("span",null,e(q.$t("calladdress.label_min_range")),1)])):L("",!0)])]),_:1}),t(c,{inset:"",style:{"margin-top":"10px"}},{default:a(()=>[t(z,{title:q.$t("calladdress.horoscope"),icon:"discount"},null,8,["title"]),Go]),_:1}),t(c,{inset:"",style:{"margin-top":"10px"}},{default:a(()=>[t(z,{title:q.$t("calladdress.history"),icon:"orders-o"},{value:a(()=>[s(m).history>5?(i(),h("span",{key:0,onClick:M[1]||(M[1]=Y=>o("history"))},e(q.$t("common.show_only_5")),1)):L("",!0)]),_:1},8,["title"]),t(te,{justify:"center",class:"margin-top-sm text-center"},{default:a(()=>[t(N,{span:"6",class:"text-df text-gray"},{default:a(()=>[g(e(q.$t("callhero.list_date")),1)]),_:1}),t(N,{span:"4",class:"text-df text-gray"},{default:a(()=>[g(e(q.$t("callhero.list_time")),1)]),_:1}),t(N,{span:"12",class:"text-df text-gray"},{default:a(()=>[g(e(q.$t("callhero.list_grades")),1)]),_:1}),t(N,{span:"2",class:"text-df text-gray"},{default:a(()=>[g(e(q.$t("callhero.list_total")),1)]),_:1})]),_:1}),(i(!0),h(oe,null,pe(s(w).history.slice(0,s(m).history),(Y,j)=>(i(),Q(te,{justify:"center",class:"margin-top-sm text-center solid-top",key:j},{default:a(()=>[t(N,{span:"6",class:"margin-top"},{default:a(()=>[g(e(s(me).unix(Y.timestamp).format("YYYY-MM-DD")),1)]),_:2},1024),t(N,{span:"4",class:"margin-top"},{default:a(()=>[g(e(s(me).unix(Y.timestamp).format("HH:mm")),1)]),_:2},1024),t(N,{span:"12",class:"margin-top"},{default:a(()=>[Y.totalnum[5]?(i(),h("span",Yo,e(Y.totalnum[5])+"sssr",1)):L("",!0),Y.totalnum[4]?(i(),h("span",jo,e(Y.totalnum[4])+"ssr",1)):L("",!0),Y.totalnum[3]?(i(),h("span",Wo,e(Y.totalnum[3])+"sr",1)):L("",!0),Y.totalnum[2]?(i(),h("span",Uo,e(Y.totalnum[2])+"r",1)):L("",!0),Y.totalnum[1]?(i(),h("span",Ko,e(Y.totalnum[1])+"n",1)):L("",!0)]),_:2},1024),t(N,{span:"2",class:"margin-top"},{default:a(()=>[g(e(Y.totalnum[0]),1)]),_:2},1024)]),_:2},1024))),128)),n("div",Xo,[s(m).history<s(w).history.length?(i(),h("span",{key:0,class:"text-gray",onClick:M[2]||(M[2]=Y=>J("history",5))},e(q.$t("common.add_more")),1)):L("",!0)])]),_:1})],512),[[Ct,!d.value&&r.value.length]])],64)}}};var Qo=Ie(Zo,[["__scopeId","data-v-93c0d19a"]]);const ei=[{path:"/",name:"Home",component:nn,alias:"/home"},{path:"/baike",name:"Baike",component:kn},{path:"/predict",name:"Predict",component:ws},{path:"/callhero",name:"Callhero",component:Fl},{path:"/playerlist",name:"Playerlist",component:Wl},{path:"/calladdress/:address",name:"Calladdress",component:Qo}],Ve=Nt({history:Rt(),routes:ei});const ti={class:"margin-left"},ai={class:"margin text-lg text-black text-left"},ni={class:"margin text-df text-gray text-left desc"},si=["innerHTML"],li={class:"margin text-df text-gray text-center"},oi={class:"margin text-lg"},ii={class:"text-gray"},ri={setup(l){const _=A(!1),u="0xb4B33a7018aEB0cd4aA8C6fb4609c030c91F5E89",{proxy:m}=Ce(),{toClipboard:v}=Ot(),d=me().format("MM-DD");ke(async()=>{d!=localStorage.getItem("tinytoolsday")&&(_.value=!0)});const C=()=>{_.value=!0},T=async()=>{localStorage.setItem("tinytoolsday",d);try{await v(u),m.$toast.success(O.global.t("common.paytip_suress"))}catch(r){m.$toast.fail(r)}};return(r,p)=>{const y=$("van-button"),I=$("van-divider"),f=$("van-dialog");return i(),h(oe,null,[n("span",null,e(r.$t("update.time")),1),n("div",ti,[t(y,{size:"mini",hairline:"",plain:"",round:"",type:"primary",onClick:C,class:"margin"},{default:a(()=>[g(e(r.$t("common.paytip_title")),1)]),_:1})]),t(f,{show:_.value,"onUpdate:show":p[0]||(p[0]=b=>_.value=b),title:r.$t("common.paytip_title"),showCancelButton:"",confirmButtonText:r.$t("common.paytip_btnok"),cancelButtonText:r.$t("common.paytip_cancel"),onConfirm:T},{default:a(()=>[n("div",ai,[n("span",null,e(r.$t("update.title"))+":",1)]),n("div",ni,[n("div",{innerHTML:r.$t("update.desc")},null,8,si)]),t(I),n("div",li,[n("span",null,e(r.$t("common.paytip_desc")),1)]),n("div",oi,[n("span",ii,"BSC"+e(r.$t("common.address"))+"\uFF1A",1),n("span",{class:"text-wrapper text-black"},e(u))])]),_:1},8,["show","title","confirmButtonText","cancelButtonText"])],64)}}};var ui=Ie(ri,[["__scopeId","data-v-7a82cd88"]]);const ci={class:"margin-left-xs text-gray"},di=n("div",{class:"van-safe-area-bottom",style:{height:"60px"}},null,-1),pi={setup(l){O.global.locale=localStorage.getItem("langCode")||"en";const _=A(!1),u=[{text:"English",locale:"en"},{text:"\u7E41\u4F53\u4E2D\u6587",locale:"zh_TW"}],m=C=>{O.global.locale=C.locale,localStorage.setItem("langCode",C.locale),console.log(Ve.currentRoute.value)},v=Ue(),d=Ee();return ke(async()=>{await d.initHeros(),await v.initEquipment()}),(C,T)=>{const r=$("van-icon"),p=$("van-popover"),y=$("van-nav-bar"),I=$("van-sticky"),f=$("router-view"),b=$("van-divider"),w=$("van-tabbar-item"),H=$("van-tabbar");return i(),h(oe,null,[t(I,null,{default:a(()=>[t(y,{title:!s(Ve).currentRoute.value.name||s(Ve).currentRoute.value.name=="Home"?C.$t("home.title"):C.$t("tabbar."+String(s(Ve).currentRoute.value.name).toLowerCase())},{right:a(()=>[t(p,{placement:"bottom-end",theme:"dark",show:_.value,"onUpdate:show":T[0]||(T[0]=X=>_.value=X),actions:u,onSelect:m},{reference:a(()=>[t(r,{class:"iconfont","class-prefix":"ali-icon",name:"lvzhou_yuyanqiehuan"}),n("span",ci,e(u.find(X=>X.locale==s(O).global.locale).text),1)]),_:1},8,["show"])]),_:1},8,["title"])]),_:1}),t(f),t(b,null,{default:a(()=>[g(e(C.$t("common.copyright")),1),t(ui)]),_:1}),di,t(H,{route:""},{default:a(()=>[t(w,{replace:"",to:"/",icon:"home-o"},{default:a(()=>[g(e(C.$t("tabbar.home")),1)]),_:1}),t(w,{replace:"",to:"/baike"},{icon:a(()=>[t(r,{class:"iconfont","class-prefix":"ali-icon",name:"baike"})]),default:a(()=>[g(e(C.$t("tabbar.baike"))+" ",1)]),_:1}),t(w,{replace:"",to:"/predict"},{icon:a(()=>[t(r,{class:"iconfont","class-prefix":"ali-icon",name:"jisuanqi"})]),default:a(()=>[g(e(C.$t("tabbar.predict"))+" ",1)]),_:1}),t(w,{replace:"",to:"/callhero"},{icon:a(()=>[t(r,{class:"iconfont","class-prefix":"ali-icon",name:"choujiang"})]),default:a(()=>[g(e(C.$t("tabbar.callhero"))+" ",1)]),_:1})]),_:1})],64)}}},_i=Ft();me.extend(Vt);const Xe=Lt(pi);Xe.config.globalProperties.$dayjs=me;Xe.config.globalProperties.$echarts=At;Xe.use(Jt).use(Mt).use(Et).use(Pt).use(zt).use(Bt).use(Ht).use(Dt).use(Gt).use(Yt).use(jt).use(Wt).use(Ut).use(Kt).use(Xt).use(Zt).use(Qt).use(ea).use(ta).use(aa).use(na).use(sa).use(la).use(oa).use(ia).use(ra).use(ua).use(ca).use(da).use(pa).use(_a).use(ma).use(ga).use(ya).use(fa).use(ha).use(va).use(xa).use(ba).use(ka).use($a).use(wa).use(Ta).use(Sa);Xe.use(O).use(_i).use(Ve).mount("#app");
