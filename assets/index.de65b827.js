var qt=Object.defineProperty,It=Object.defineProperties;var Ct=Object.getOwnPropertyDescriptors;var yt=Object.getOwnPropertySymbols;var Nt=Object.prototype.hasOwnProperty,Rt=Object.prototype.propertyIsEnumerable;var ft=(s,o,i)=>o in s?qt(s,o,{enumerable:!0,configurable:!0,writable:!0,value:i}):s[o]=i,He=(s,o)=>{for(var i in o||(o={}))Nt.call(o,i)&&ft(s,i,o[i]);if(yt)for(var i of yt(o))Rt.call(o,i)&&ft(s,i,o[i]);return s},ot=(s,o)=>It(s,Ct(o));import{b as At,p as Ot,E as Et,c as Ft,d as pt,r as L,a as he,o as ke,e as w,f as c,g as f,h as t,w as a,i as n,t as e,u as l,j as y,F as se,k as _e,l as Pe,m as Me,n as te,q as J,s as xe,v as ye,x as je,y as bt,z as Fe,A as Ie,J as Vt,C as Pt,B as Mt,W as Lt,T as Jt,D as Bt,_ as zt,G as Ht,H as Dt,I as Yt,K as ut,L as Gt,M as Wt,N as jt,O as Ut,P as Kt,Q as Xt,R as Zt,S as Qt,U as ea,V as ta,X as aa,Y as na,Z as sa,$ as la,a0 as oa,a1 as ia,a2 as ra,a3 as ca,a4 as ua,a5 as da,a6 as pa,a7 as ma,a8 as _a,a9 as ga,aa as ya,ab as fa,ac as ha,ad as va,ae as xa,af as ba,ag as ka,ah as wa,ai as $a,aj as Ta,ak as Sa,al as qa,am as Ia,an as Ca,ao as Na,ap as Ra,aq as Aa,ar as Oa,as as Ea,at as Fa,au as Va,av as Pa,aw as Ma,ax as La,ay as Ja,az as Ba,aA as za,aB as Ha,aC as Da}from"./vendor.e79c9f27.js";const Ya=function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const h of document.querySelectorAll('link[rel="modulepreload"]'))m(h);new MutationObserver(h=>{for(const _ of h)if(_.type==="childList")for(const R of _.addedNodes)R.tagName==="LINK"&&R.rel==="modulepreload"&&m(R)}).observe(document,{childList:!0,subtree:!0});function i(h){const _={};return h.integrity&&(_.integrity=h.integrity),h.referrerpolicy&&(_.referrerPolicy=h.referrerpolicy),h.crossorigin==="use-credentials"?_.credentials="include":h.crossorigin==="anonymous"?_.credentials="omit":_.credentials="same-origin",_}function m(h){if(h.ep)return;h.ep=!0;const _=i(h);fetch(h.href,_)}};Ya();window.Buffer=At.Buffer;window.process=Ot;window.EventEmitter=Et;const Ga={en:{update:{time:"20220519",title:"Last update",desc:"2022-05-19:<br/>1.Add inquiry account card withdrawal details.<br/>2.Add account login.<br/>2022-05-15:<br/>1.The measurement page supports reading castle ranking data.<br/>2022-05-07:<br/>1.The starting time of the card withdrawal page is 00: 00(UTC)\u3002<br/>2.Add the history of card drawing in the last 5 days.<br/>3.Increase the latest orange-free and purple-free index.<br/>2022-04-28:<br/>1.Optimize the prefabrication and configuration of heroes.<br/>2022-04-25:<br/>1.Calculation page adds optimization suggestion function.<br/>2.Fix the problem that attributes are reset to default after equipment selection level.<br/>2022-04-21:<br/>1.Calculation page adds document storage and reading function.<br/>2.Calculate the ranking of page matching leaderboard.<br/>2022-04-20:<br/>1.Add predict page.<br/>2.Add the card drawing page and click the account number to view the details on the chain.<br/>2022-04-14:<br/>1.Add equipment to the hankbook page.<br/>2.callhero list column is added to view more and only 5 cards are displayed."},common:{no_more:"There is no more",add_more:"add more ...",loading:"loading...",show_only_5:"Only 5 lines",dev_soon:"In development, please stay tuned",author:"Author",view:"View",copyright:"TINYTOOLS ",paytip_title:"Reward developers",paytip_desc:"Development is not easy, and your reward is the driving force for continuous updating!",address:"Address",paytip_btnok:"Copy the address to reward",paytip_cancel:"Cancel",paytip_suress:"Copy the address successfully!",unselect:"unselect",confirm:"confirm",cancel:"cancel",hour:"hour",minute:"minute",delete_succeed:"Delete Succeed",price:"price",Invalid_address:"Invalid address",no_data:"The data is blank or not entered.",connect_wallet:"Connect wallet"},tabbar:{home:"Home",baike:"Handbook",predict:"Predict",callhero:"CallHero",nft:"NFT",game:"Game",my:"My",playerlist:"Ranking list",calladdress:"Address search"},home:{title:"TinyTools",tincprice:"TINC price",alltvl:"ALL TVL",tbtvl:"TINC/BNB TVL",tbapy:"TINC/BNB APY",title_tutorial:"Tutorial",title_economic:"Economic",title_link:"Official link",link_web:"Official",link_farm:"Farm",link_kingdom:"Kingdom",link_dungeons:"Dungeons"},callhero:{notie_1:"burst",notie_2:"InitPower",heartIndex:"HeartIndex",total_time:"Time",total_open:"Burst",title_nft:"NFT",title_open:"Burst",title_theory:"Theory",open_trend:"Burst Trend",list_last:"New Burst",list_luck:"Luck List",list_bad:"Contribute List",list_address:"Address",list_grades:"Grades",list_total:"Total",list_time:"Time",list_date:"Date",no_orange:"SSSR",no_purple:"SSR",openbox_more:"addressInfo"},baike:{book_hero:"Hero",book_material:"Material",book_equip:"Equip"},hero:{grade_all:"All Grade",type_all:"All Type",type_1:"Warrior",type_2:"Ranger",type_3:"Wizard",init_power:"InitPower",attack:"Attack",defense:"Defense",hp:"Hp",luck:"Luck",expedition:"Expedition",hour:"Hour",crystal:"Crystal",material:"Material",flop_odds:"FlopOdds",attack_1:"Attack Desc",attack_0:"Attack Asc",defense_1:"Defense Desc",defense_0:"Defense Asc",hp_1:"Hp Desc",hp_0:"Hp Asc",luck_1:"Luck Desc",luck_0:"Luck Asc"},equip:{grade_all:"All Grade",type_all:"All Type",type_1:"weapon",type_2:"armor",type_3:"ornaments",subtype_1:"LightWeapon",subtype_2:"HeavyWeapon",subtype_3:"RangeWeapon",subtype_4:"Staff",subtype_5:"LightArmor",subtype_6:"HeavyArmor",subtype_7:"Amulet",subtype_8:"Accessory",required_level:"RequiredLevel",floor_price:"FloorPrice",no_stock:"no stock"},predict:{select_team:"Hero team",total_cell:"Ranking",select_one:"Choose one ",no_select_hero:"no hero",no_select_equip:"no equip",attribute:"attribute",value:"value",equip_add:"equip add",total:"total",current_level:"Current Level",attribute_bonus:"Attribute Bouns",attribute_adjustment:"Attribute Adjustment",choose_hero_first:"Please choose a hero first\uFF01",castle_floor:"floor",kill_enemy:"Kill",survival_time:"time",measure_one:"detail",team_file:"team document",new_document:"new document",save_document:"save team",delete_file:"delete document",delete_file_message:"Are you sure you want to delete the document",castle_ranking:"castle ranking",weekly_reward:"weekly reward",daily_income:"daily income",setting_no_save:"Empty configuration cannot be saved",setting_save_ok:"Save configuration information successfully",optimize_cell:"Optimization suggestion",promotion:"Optimization and promotion",procedure:"operating procedure",no_suggestions:"No suggestions",read_randlist:"Read leaderboard",ranklist_city:"City ranklist",real_time:"reality"},calladdress:{placeholder:"Enter address, check yourself enter 0",no_openbox:"No card drawing data was found",horoscope:"Timing fortune",history:"history",trend:"Trend interpretation",total_card:"Total cards",luck_index:"Luck index",label_max_zodiac:"is your animal sign.",label_max_range:"the card withdrawal rate is the highest.",label_luck_color:"is your lucky color.",label_luck_card:"\uFF0CExceeding probability is the highest.",label_min_zodiac:"is a sign of affinity.",label_min_range:"the card withdrawal rate is the lowest."}},zh_TW:{update:{time:"20220519",title:"\u6700\u8FD1\u66F4\u65B0",desc:"2022-05-19:<br/>1.\u6DFB\u52A0\u67E5\u8A62\u8CEC\u865F\u62BD\u5361\u660E\u7D30\u3002<br/>2.\u6DFB\u52A0\u8CEC\u865F\u767B\u9304\u3002<br/>2022-05-15:<br/>1.\u6E2C\u7B97\u9801\u9762\u652F\u6301\u8B80\u53D6\u57CE\u5821\u6392\u884C\u699C\u6578\u64DA\u3002<br/>2022-05-07:<br/>1.\u62BD\u5361\u9801\u9762\u8D77\u59CB\u6642\u9593UTC00:00(\u6771\u516B\u5340\u537308:00)\u3002<br/>2.\u589E\u52A0\u6700\u8FD15\u5929\u62BD\u5361\u6B77\u53F2\u8A18\u9304\u67E5\u770B\u3002<br/>3.\u589E\u52A0\u6700\u65B0\u7121\u6A59\u7121\u7D2B\u6307\u6578\u3002<br/>2022-04-28:<br/>1.\u512A\u5316\u9810\u88FD\u914D\u7F6E\u82F1\u96C4\u968A\u4F0D\u3002<br/>2022-04-25:<br/>1.\u6E2C\u7B97\u9801\u9762\u6DFB\u52A0\u512A\u5316\u5EFA\u8B70\u529F\u80FD\u3002<br/>2.\u4FEE\u5FA9\u88DD\u5099\u9078\u64C7\u7B49\u7D1A\u5F8C\u5C6C\u6027\u91CD\u7F6E\u70BA\u9ED8\u8A8D\u554F\u984C\u3002<br/>2022-04-21:<br/>1.\u6E2C\u7B97\u9801\u9762\u6DFB\u52A0\u6587\u6A94\u5B58\u5132\u8B80\u53D6\u529F\u80FD\u3002<br/>2.\u6E2C\u7B97\u9801\u9762\u5339\u914D\u6392\u884C\u699C\u540D\u6B21\u3002<br/>2022-04-20:<br/>1.\u6DFB\u52A0\u6E2C\u7B97\u9801\u9762\u3002<br/>2.\u62BD\u5361\u9801\u9762\u6DFB\u52A0\u9EDE\u64CA\u8CEC\u865F\u67E5\u770B\u93C8\u4E0A\u8A73\u60C5\u3002<br/>2022-04-14:<br/>1.\u767E\u79D1\u9801\u9762\u6DFB\u52A0\u88DD\u5099\u5716\u9452\u3002<br/>2.\u62BD\u5361\u5217\u8868\u6B04\u6DFB\u52A0\u67E5\u770B\u66F4\u591A\u548C\u53EA\u986F\u793A5\u689D\u3002"},common:{no_more:"\u6C92\u6709\u66F4\u591A\u4E86",add_more:"\u52A0\u8F09\u66F4\u591A...",loading:"\u52A0\u8F09\u4E2D...",show_only_5:"\u53EA\u986F\u793A5\u884C",dev_soon:"\u958B\u767C\u4E2D\uFF0C\u656C\u8ACB\u671F\u5F85",author:"\u4F5C\u8005",view:"\u67E5\u770B",copyright:"TINYTOOLS ",paytip_title:"\u6253\u8CDE\u958B\u767C\u8005",paytip_desc:"\u958B\u767C\u4E0D\u6613\uFF0C\u60A8\u7684\u6253\u8CDE\u662F\u6301\u7E8C\u66F4\u65B0\u7684\u52D5\u529B\uFF01",address:"\u5730\u5740",paytip_btnok:"\u8907\u88FD\u5730\u5740\u53BB\u6253\u8CDE",paytip_cancel:"\u53D6\u6D88",paytip_suress:"\u8907\u88FD\u5730\u5740\u6210\u529F\uFF01",unselect:"\u53D6\u6D88\u9078\u64C7",confirm:"\u78BA\u8A8D",cancel:"\u53D6\u6D88",hour:"\u5C0F\u6642",minute:"\u5206",delete_succeed:"\u522A\u9664\u6210\u529F",price:"\u50F9\u683C",Invalid_address:"\u7121\u6548\u5730\u5740",no_data:"\u6578\u64DA\u70BA\u7A7A\u6216\u672A\u9304\u5165",connect_wallet:"\u93C8\u63A5\u9322\u5305"},tabbar:{home:"\u6982\u89C8",baike:"\u767E\u79D1",predict:"\u6E2C\u7B97",callhero:"\u62BD\u5361",nft:"NFT",game:"\u6E38\u620F",my:"\u6211\u7684",playerlist:"\u6392\u884C\u699C",calladdress:"\u8CEC\u865F\u62BD\u5361\u7D71\u8A08"},home:{title:"\u5C0F\u5C0F\u52A9\u624B",tincprice:"TINC \u50F9\u683C",alltvl:"\u7E3D\u9396\u5009\u50F9\u503C",tbtvl:"TINC/BNB\u9396\u5009",tbapy:"TINC/BNB\u5E74\u5316",title_tutorial:"\u6559\u7A0B\u653B\u7565",title_economic:"\u7D93\u6FDF\u6A21\u578B",title_link:"\u5B98\u65B9\u93C8\u63A5",link_web:"\u5B98\u7DB2",link_farm:"\u5C0F\u5C0F\u8FB2\u5834",link_kingdom:"\u5C0F\u5C0F\u738B\u570B",link_dungeons:"\u5730\u4E0B\u57CE"},callhero:{notie_1:"\u62BD\u51FA",notie_2:"\u521D\u59CB\u6218\u529B",heartIndex:"\u5FC3\u52D5\u6307\u6578",total_time:"\u7D71\u8A08\u6642\u9593",total_open:"\u62BD\u5361\u5408\u8A08",title_nft:"\u5361\u724C",title_open:"\u7522\u51FA",title_theory:"\u7406\u8AD6",open_trend:"\u62BD\u5361\u8DA8\u52E2\u5716",list_last:"\u6700\u65B0\u62BD\u5361",list_luck:"\u5E78\u904B\u699C",list_bad:"\u5949\u737B\u699C",list_address:"\u8CEC\u865F",list_grades:"\u6230\u7E3E",list_total:"\u6B21\u6578",list_time:"\u6642\u9593",list_date:"\u65E5\u671F",no_orange:"\u7121\u6A59",no_purple:"\u7121\u7D2B",openbox_more:"\u62BD\u5361\u8A73\u60C5"},baike:{book_hero:"\u82F1\u96C4\u5716\u9452",book_material:"\u6750\u6599\u5716\u9452",book_equip:"\u88DD\u5099\u5716\u9452"},hero:{grade_all:"\u5168\u90E8\u7B49\u7D1A",type_all:"\u5168\u90E8\u985E\u578B",type_1:"\u6230\u58EB",type_2:"\u904A\u4FE0",type_3:"\u6CD5\u5E2B",init_power:"\u521D\u59CB\u6230\u529B",attack:"\u653B\u64CA",defense:"\u9632\u79A6",hp:"\u751F\u547D",luck:"\u5E78\u904B",expedition:"\u9060\u5F81",hour:"\u5C0F\u6642",crystal:"\u6C34\u6676",material:"\u6750\u6599",flop_odds:"\u6389\u843D\u5E7E\u7387",attack_1:"\u653B\u64CA\u964D\u5E8F",attack_0:"\u653B\u64CA\u5347\u5E8F",defense_1:"\u9632\u79A6\u964D\u5E8F",defense_0:"\u9632\u79A6\u5347\u5E8F",hp_1:"\u751F\u547D\u964D\u5E8F",hp_0:"\u751F\u547D\u5347\u5E8F",luck_1:"\u5E78\u8FD0\u964D\u5E8F",luck_0:"\u5E78\u8FD0\u5347\u5E8F"},equip:{grade_all:"\u5168\u90E8\u7B49\u7D1A",type_all:"\u5168\u90E8\u985E\u578B",type_1:"\u6B66\u5668",type_2:"\u9632\u5177",type_3:"\u98FE\u54C1",subtype_1:"\u8F15\u6B66\u5668",subtype_2:"\u91CD\u6B66\u5668",subtype_3:"\u9060\u7A0B\u6B66\u5668",subtype_4:"\u6CD5\u8853\u6B66\u5668",subtype_5:"\u9577\u888D",subtype_6:"\u76D4\u7532",subtype_7:"\u8B77\u7B26",subtype_8:"\u98FE\u54C1",required_level:"\u7B49\u7D1A\u9700\u6C42",floor_price:"\u6700\u5E95\u50F9",no_stock:"\u7121\u8CA8"},predict:{select_team:"\u82F1\u96C4\u6230\u968A",total_cell:"\u6392\u540D\u6E2C\u7B97",select_one:"\u9078\u64C7\u4E00\u500B",no_select_hero:"\u4E0D\u9078\u64C7\u82F1\u96C4",no_select_equip:"\u4E0D\u9078\u64C7\u88DD\u5099",attribute:"\u5C6C\u6027",value:"\u6578\u503C",equip_add:"\u88DD\u5099\u52A0\u6210",total:"\u5408\u8A08",current_level:"\u7576\u524D\u7B49\u7D1A",attribute_bonus:"\u5C6C\u6027\u52A0\u6210",attribute_adjustment:"\u4FEE\u6539\u5C6C\u6027",choose_hero_first:"\u8ACB\u5148\u9078\u64C7\u82F1\u96C4\uFF01",castle_floor:"\u57CE\u5821",kill_enemy:"\u6BBA\u6575",survival_time:"\u6642\u9593",measure_one:"\u660E\u7D30",team_file:"\u914D\u7F6E\u6587\u6A94",new_document:"\u65B0\u5EFA\u6587\u6A94",save_document:"\u5B58\u5132\u914D\u7F6E",delete_file:"\u522A\u9664\u6587\u6A94",delete_file_message:"\u4F60\u78BA\u5B9A\u8981\u522A\u9664\u6587\u6A94",castle_ranking:"\u9810\u8A08\u6392\u540D",weekly_reward:"\u5468\u734E\u52F5",daily_income:"\u6298\u5408\u65E5\u6536\u76CA",setting_no_save:"\u7A7A\u914D\u7F6E\u7121\u6CD5\u5B58\u5132",setting_save_ok:"\u5B58\u5132\u914D\u7F6E\u4FE1\u606F\u6210\u529F",optimize_cell:"\u512A\u5316\u5EFA\u8B70",promotion:"\u512A\u5316\u63D0\u5347",procedure:"\u64CD\u4F5C\u6B65\u9A5F",no_suggestions:"\u66AB\u7121\u512A\u5316\u5EFA\u8B70",read_randlist:"\u8B80\u53D6\u6392\u884C\u699C",ranklist_city:"\u57CE\u5821\u6392\u884C\u699C",real_time:"\u7576\u524D"},calladdress:{placeholder:"\u8F38\u5165\u5730\u5740\uFF0C\u67E5\u81EA\u5DF1\u8F38\u51650",no_openbox:"\u6C92\u6709\u67E5\u8A62\u5230\u62BD\u5361\u6578\u64DA",horoscope:"\u6642\u8FB0\u904B\u52E2",history:"\u6B77\u53F2\u8A18\u9304",trend:"\u8DA8\u52E2\u89E3\u8B80",total_card:"\u7E3D\u62BD\u5361\u6578",luck_index:"\u597D\u904B\u6307\u6578",label_max_zodiac:"\u662F\u60A8\u7684\u5C6C\u76F8\u3002",label_max_range:"\u65F6\uFF0C\u62BD\u5361\u6536\u76CA\u7387\u6700\u9AD8\u3002",label_luck_color:"\u662F\u60A8\u7684\u5E78\u8FD0\u8272\u3002",label_luck_card:"\uFF0C\u8D85\u8D8A\u6982\u7387\u6700\u591A\u3002",label_min_zodiac:"\u662F\u76F8\u514B\u5C5E\u76F8\u3002",label_min_range:"\u65F6\uFF0C\u62BD\u5361\u6536\u76CA\u7387\u6700\u4F4E\u3002"}}},F=Ft({locale:"en",messages:Ga});function mt(s){return s.substring(0,6)+"..."+s.substring(s.length-4,s.length)}function $e(s){return function(o,i){var m=o[s],h=i[s];return h<m?1:h>m?-1:0}}async function Wa(s,o){const i=new Request(s,{method:"post",headers:{"Content-Type":"application/json;charset=utf-8;"},body:JSON.stringify(o)});return await be(i)}async function be(s){const i=await(await fetch(s,{mode:"cors"})).text();return i?JSON.parse(i):{}}const ja="https://api.tinyworlds.io/api/farm/pools",Ua="https://api.tinyworlds.io/api/auctions/dashboard",Ka="https://api.tinyworlds.io/api/runeauctions/dashboard",Ue=pt("tiny",{state:()=>({pools:null,autions:null,runeautions:null}),getters:{},actions:{async initPools(){this.pools=await be(ja)},async initAutions(){this.autions=await be(Ua)},async initRuneAutions(){this.runeautions=await be(Ka)}}}),Xa=[{title_cn:"Tiny World -- \u4E2D\u6587\u4FDD\u59C6\u7EA7\u6559\u7A0B",title_en:"Tinyworld-Chinese nanny-level tutorial",desc_cn:"Tiny World \u662F\u4E00\u6B3E\u5F52\u96C6\u4E4B\u524DGameFi\u9879\u76EE\u4F18\u52BF\u4E3A\u81EA\u5DF1\u6240\u7528\u7684\u6E38\u620F",desc_en:"Tiny World is a game that collects the advantages of previous GameFi projects for your own use.",thumb:"https://www.tinyworlds.io/static/media/banner4.90355beac7b60a5bf07b.png",link:"https://jiamigou.gitbook.io/jiamigou/yuan-yu-zhou-you-xi-jiao-cheng/tiny-world-zhong-wen-bao-mu-ji-jiao-cheng",tags_cn:["\u6587\u5B57\u6559\u7A0B","gitbook"],tags_en:["Text course","gitbook"],author_cn:"\u52A0\u5BC6\u72D7",author_en:"softdog"},{title_cn:"GameFi\u6E38\u620FTiny World\u6316\u77FF\u6559\u7A0B(\u4E00)\uFF1A\u6E38\u620F\u4E0Edefi\u76F8\u7ED3\u5408",title_en:"GameFi Game Tiny World Mining Tutorial (1): Combination of Game and defi",desc_cn:"BNBchain\u4E0A\u65B0\u7684GameFi\u9879\u76EETinyWorld",desc_en:"TinyWorld, a new GameFi project on BNBchain",thumb:"https://tinyworlds.vercel.app//assets/newlist02.jpg",link:"https://www.bilibili.com/video/BV1X44y1M7vU",tags_cn:["\u89C6\u9891\u6559\u7A0B","bilibili"],tags_en:["Video tutorial","bilibili"],author_cn:"\u4F73\u4F26\u5B9E\u9A8C\u5BA4",author_en:"GallonLabs"},{title_cn:"TinyKingdom\u73A9\u6CD5\u653B\u7565 TinyWorld\u5982\u4F55PlayToEarn\u4E0E\u6E38\u620F\u517C\u987E",title_en:"TinyKingdom Play Introduction TinyWorld How to PlayToEarn with the Game",desc_cn:"\u4F11\u95F2\u6302\u673A\u6E38\u620F\uFF0C\u6536\u96C6\u66F4\u597D\u7684\u6750\u6599\uFF0C\u5408\u6210\u66F4\u5389\u5BB3\u7684\u88C5\u5907\uFF0C\u51B2\u8FDB\u6392\u884C\u699C\u524D100\u540D\u5206\u4EAB30\u4E07TINC\u5956\u52B1\u3002",desc_en:"Hang up games for leisure, collect better materials, synthesize more powerful equipment, and rush into the top 100 in the list to share 300,000 TINC rewards.",thumb:"https://tinyworlds.vercel.app/assets/newlist03.jpg",link:"https://www.bilibili.com/video/BV1Lu411z7gs",tags_cn:["\u89C6\u9891\u6559\u7A0B","bilibili"],tags_en:["Video tutorial","bilibili"],author_cn:"\u4F73\u4F26\u5B9E\u9A8C\u5BA4",author_en:"GallonLabs"}];var Za="/assets/logo.f22f6c0a.png",Qa="/assets/logo_farm.a8811797.png",en="/assets/logo_kingdom.cacd5b0b.png",tn="/assets/logo_dungeons.9a00a9fa.png",an="/assets/gamefi.65e50883.png";var Ce=(s,o)=>{const i=s.__vccOpts||s;for(const[m,h]of o)i[m]=h;return i};const nn=s=>(Pe("data-v-2cbf09cd"),s=s(),Me(),s),sn={class:"text-left margin-left"},ln={class:"text-gray text-df"},on={class:"margin-top-xs margin-left-sm"},rn=nn(()=>n("span",{class:"text-orange text-df"},"$",-1)),cn={class:"text-orange text-sl"},un={class:"margin"},dn={class:"text-lg text-gray margin-left-sm"},pn={class:"text-gray"},mn={class:"margin"},_n={class:"text-lg text-gray margin-left-sm"},gn={class:"margin"},yn={class:"text-lg text-gray margin-left-sm"},fn={class:"margin-top-xs"},hn={class:"margin-top-xs"},vn={class:"margin-top-xs"},xn={class:"margin-top-xs"},bn={setup(s){const o=L(Za),i=L(Qa),m=L(en),h=L(tn),_=L(an),R=Ue(),T=L(Xa),d=he({tincprice:0,alltvl:0,tbtvl:0,tbapy:0});return ke(async()=>{R.pools||await R.initPools(),d.tincprice=parseFloat(R.pools.price.TINC).toFixed(2),d.alltvl=parseInt(R.pools.tvlTotal),d.tbtvl=parseInt(R.pools.stakeInfos["-1"].tvl);const g=parseInt(R.pools.stakeInfos["-1"].baseApy*100)+parseInt(R.pools.stakeInfos["-1"].cakeApr.lpRewardsApr*100);d.tbapy=parseFloat(g/81).toFixed(2)}),(g,u)=>{const x=w("van-col"),S=w("van-row"),I=w("van-cell-group"),b=w("van-tag"),$=w("van-button"),C=w("van-card"),K=w("van-image"),U=w("van-grid-item"),Y=w("van-grid");return c(),f(se,null,[t(I,{inset:"",style:{"margin-top":"10px"}},{default:a(()=>[t(S,{justify:"space-between",class:"text-center text-gray margin-tb"},{default:a(()=>[t(x,{span:"8"},{default:a(()=>[n("div",sn,[n("span",ln,e(g.$t("home.tincprice")),1)]),n("div",on,[rn,n("span",cn,e(l(d).tincprice),1)])]),_:1}),t(x,{span:"14"},{default:a(()=>[t(S,{class:"margin-top-xs",justify:"space-between"},{default:a(()=>[t(x,{span:"10",class:"text-gray text-sm text-right"},{default:a(()=>[y(e(g.$t("home.alltvl")),1)]),_:1}),t(x,{span:"12",class:"text-black text-df text-left"},{default:a(()=>[y("$ "+e(l(d).alltvl),1)]),_:1})]),_:1}),t(S,{class:"margin-top-xs",justify:"space-between"},{default:a(()=>[t(x,{span:"10",class:"text-gray text-sm text-right"},{default:a(()=>[y(e(g.$t("home.tbtvl")),1)]),_:1}),t(x,{span:"12",class:"text-black text-df text-left"},{default:a(()=>[y("$ "+e(l(d).tbtvl),1)]),_:1})]),_:1}),t(S,{class:"margin-top-xs",justify:"space-between"},{default:a(()=>[t(x,{span:"10",class:"text-gray text-sm text-right"},{default:a(()=>[y(e(g.$t("home.tbapy")),1)]),_:1}),t(x,{span:"12",class:"text-black text-df text-left"},{default:a(()=>[y(e(l(d).tbapy)+"%",1)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),n("div",un,[n("span",dn,e(g.$t("home.title_tutorial")),1)]),t(I,{inset:""},{default:a(()=>[(c(!0),f(se,null,_e(T.value,(V,r)=>(c(),te(C,{style:{"background-color":"#fff"},key:r,desc:l(F).global.locale=="zh_TW"?V.desc_cn:V.desc_en,title:l(F).global.locale=="zh_TW"?V.title_cn:V.title_en,thumb:V.thumb,"thumb-link":V.link},{tags:a(()=>[t(b,{plain:"",color:"#aaaaaa"},{default:a(()=>[y(e(l(F).global.locale=="zh_TW"?V.tags_cn[0]:V.tags_en[0]),1)]),_:2},1024),t(b,{plain:"",color:"#aaaaaa",class:"margin-left-xs"},{default:a(()=>[y(e(l(F).global.locale=="zh_TW"?V.tags_cn[1]:V.tags_en[1]),1)]),_:2},1024)]),price:a(()=>[n("span",pn,e(g.$t("common.author"))+"\uFF1A"+e(l(F).global.locale=="zh_TW"?V.author_cn:V.author_en),1)]),num:a(()=>[t($,{icon:"share-o",size:"mini",url:V.link},{default:a(()=>[y(e(g.$t("common.view")),1)]),_:2},1032,["url"])]),_:2},1032,["desc","title","thumb","thumb-link"]))),128))]),_:1}),n("div",mn,[n("span",_n,e(g.$t("home.title_economic")),1)]),t(I,{inset:""},{default:a(()=>[t(K,{fit:"fill",src:_.value},null,8,["src"])]),_:1}),n("div",gn,[n("span",yn,e(g.$t("home.title_link")),1)]),t(I,{inset:""},{default:a(()=>[t(Y,{class:"text-df text-gray",gutter:5,border:!1},{default:a(()=>[t(U,{url:"https://www.tinyworlds.io"},{default:a(()=>[t(K,{fit:"fill",src:o.value},null,8,["src"]),n("span",fn,e(g.$t("home.link_web")),1)]),_:1}),t(U,{url:"https://app.tinyworlds.io"},{default:a(()=>[t(K,{fit:"fill",src:i.value},null,8,["src"]),n("span",hn,e(g.$t("home.link_farm")),1)]),_:1}),t(U,{url:"https://tinykingdom.tinyworlds.io"},{default:a(()=>[t(K,{fit:"fill",src:m.value},null,8,["src"]),n("span",vn,e(g.$t("home.link_kingdom")),1)]),_:1}),t(U,{url:"https://docs.tinyworlds.io/tiny-games/tiny-dungeons"},{default:a(()=>[t(K,{fit:"fill",src:h.value,class:"g"},null,8,["src"]),n("span",xn,e(g.$t("home.link_dungeons")),1)]),_:1})]),_:1})]),_:1})],64)}}};var kn=Ce(bn,[["__scopeId","data-v-2cbf09cd"]]);const it=[{grade:1,crystal:[5,10,15,20,25,30,35,45],exptime:12},{grade:2,crystal:[10,20,30,40,50,60,70,90],drop:[100,200,300,400,500,600,700,900],exptime:18},{grade:3,crystal:[25,50,75,100,125,150,175,225],drop:[30,60,90,120,150,180,210,300],exptime:24},{grade:4,crystal:[150,155,160,175,180,190,200,250,260,270,280,320,330,345,360,425,440,460,480,600],drop:[80,90,100,120,130,140,150,200,220,240,260,320,340,360,380,470,490,520,550,660],exptime:36},{grade:5,crystal:[400,410,420,440,460,480,500,550,580,600,630,730,760,790,820,920,950,990,1040,1350],drop:[500,550,600,650,700,750,800,100,110,120,130,180,190,200,210,270,280,300,320,400],exptime:48}],fe=[{grade:1,title:"N",color:"grey",rgb:"#8799a3",color_cn:"\u7070\u8272"},{grade:2,title:"R",color:"green",rgb:"#39b54a",color_cn:"\u7EFF\u8272"},{grade:3,title:"SR",color:"blue",rgb:"#0081ff",color_cn:"\u84DD\u8272"},{grade:4,title:"SSR",color:"purple",rgb:"#6739b6",color_cn:"\u7D2B\u8272"},{grade:5,title:"SSSR",color:"orange",rgb:"#f37b1d",color_cn:"\u6A59\u8272"}],dt=[{code:100,title:"N",color:"grey",rgb:"#8799a3"},{code:200,title:"R",color:"green",rgb:"#39b54a"},{code:300,title:"SR",color:"blue",rgb:"#0081ff"},{code:400,title:"SSR",color:"purple",rgb:"#6739b6"},{code:500,title:"SSR",color:"purple",rgb:"#6739b6"},{code:600,title:"SSSR",color:"orange",rgb:"#f37b1d"},{code:700,title:"SSSR",color:"orange",rgb:"#f37b1d"}],wn="https://api.tinyworlds.io/resources/data/json/hero.json",ht=[{grade:1,initmine:1,initmine2:1,levelcap:8,energy:60},{grade:2,initmine:4,initmine2:4,levelcap:8,energy:90},{grade:3,initmine:15,initmine2:15,levelcap:8,energy:120},{grade:4,initmine:90,initmine2:140,levelcap:20,energy:180},{grade:5,initmine:400,initmine2:800,levelcap:20,energy:210}],Le=pt("hero",{state:()=>({heros:null}),getters:{},actions:{async initHeros(){const s=await be(wn),o=[];s.forEach(function(i){i.crystal=it.find(m=>m.grade==i.grade).crystal,i.exptime=it.find(m=>m.grade==i.grade).exptime,i.grade>1&&(i.drop=it.find(m=>m.grade==i.grade).drop),i.image="https://images.tinyworlds.io/hero/"+i.code+".png",i.initmine=ht.find(m=>m.grade==i.grade).initmine,i.initmine2=ht.find(m=>m.grade==i.grade).initmine2,o.push(i)}),this.heros=o}}}),$n={class:"margin-left-xs"},Tn={key:0,class:"margin-left-xs padding-lr-xs bg-grey"},Sn={key:0,class:"margin-left-xs padding-lr-xs bg-grey"},qn={key:0,class:"margin-left-xs padding-lr-xs bg-grey"},In={key:0,class:"margin-left-xs padding-lr-xs bg-grey"},Cn={setup(s){const o=Le(),i=L(0),m=L(0),h=L("attack_1"),_=[{text:F.global.t("hero.type_all"),value:0},{text:F.global.t("hero.type_1"),value:1},{text:F.global.t("hero.type_2"),value:2},{text:F.global.t("hero.type_3"),value:3}],R=[{text:F.global.t("hero.grade_all"),value:0},{text:"N",value:1},{text:"R",value:2},{text:"SR",value:3},{text:"SSR",value:4},{text:"SSSR",value:5}],T=[{text:F.global.t("hero.attack_1"),value:"attack_1"},{text:F.global.t("hero.attack_0"),value:"attack_0"},{text:F.global.t("hero.defense_1"),value:"defense_1"},{text:F.global.t("hero.defense_0"),value:"defense_0"},{text:F.global.t("hero.hp_1"),value:"hp_1"},{text:F.global.t("hero.hp_0"),value:"hp_0"},{text:F.global.t("hero.luck_1"),value:"luck_1"},{text:F.global.t("hero.luck_0"),value:"luck_0"}];let d=[0,0,"attack_1"];const g=L([]);let u=[];const x=L(!1),S=L(!1);let I=10;const b=10;ke(async()=>{o.heros||await o.initHeros(),Y(d)});const $=async()=>{o.heros||await o.initHeros(),u.length==0&&Y(d),I+=b,x.value=!1,I<u.length?g.value=u.slice(0,I):(g.value=u,S.value=!0)},C=r=>{I=10,S.value=!1,d[0]=r,Y(d)},K=r=>{I=10,S.value=!1,d[1]=r,Y(d)},U=r=>{I=10,S.value=!1,d[2]=r,Y(d)},Y=r=>{u=[],u.push(...JSON.parse(JSON.stringify(o.heros))),r[0]>0&&(u=u.filter(X=>X.grade==r[0])),r[1]>0&&(u=u.filter(X=>X.type==r[1]));let W=r[2].split("_");u=u.sort($e(W[0])),W[1]>0&&(u=u.reverse()),g.value=u.slice(0,10)},V={cardPadding:"10px",cardBackgroundColor:"#FFFFFF"};return(r,W)=>{const X=w("van-dropdown-item"),re=w("van-dropdown-menu"),E=w("van-tag"),ae=w("van-col"),ce=w("van-row"),ge=w("van-card"),p=w("van-config-provider"),B=w("van-list");return c(),f(se,null,[t(re,null,{default:a(()=>[t(X,{teleport:"body",modelValue:m.value,"onUpdate:modelValue":W[0]||(W[0]=N=>m.value=N),options:R,onChange:C},null,8,["modelValue"]),t(X,{teleport:"body",modelValue:i.value,"onUpdate:modelValue":W[1]||(W[1]=N=>i.value=N),options:_,onChange:K},null,8,["modelValue"]),t(X,{teleport:"body",modelValue:h.value,"onUpdate:modelValue":W[2]||(W[2]=N=>h.value=N),options:T,onChange:U},null,8,["modelValue"])]),_:1}),t(B,{loading:x.value,"onUpdate:loading":W[3]||(W[3]=N=>x.value=N),finished:S.value,"finished-text":r.$t("common.no_more"),onLoad:$},{default:a(()=>[t(p,{"theme-vars":V},{default:a(()=>[(c(!0),f(se,null,_e(g.value,N=>(c(),te(ge,{key:N,class:"margin radius shadow",thumb:N.image},{tag:a(()=>[t(E,{mark:"",color:l(fe).find(Q=>Q.grade==N.grade).rgb},{default:a(()=>[y(e(l(fe).find(Q=>Q.grade==N.grade).title),1)]),_:2},1032,["color"])]),title:a(()=>[t(ce,null,{default:a(()=>[t(ae,{span:"12",class:"text-left"},{default:a(()=>[t(E,null,{default:a(()=>[y(e(r.$t("hero.type_"+N.type)),1)]),_:2},1024),n("span",$n,e(l(F).global.locale=="zh_TW"?N.name_cn:N.name_en),1)]),_:2},1024),t(ae,{span:"12",class:"text-left"},{default:a(()=>[n("span",null,e(r.$t("hero.init_power"))+":"+e(N.initmine)+e(N.initmine2>N.initmine?"-"+N.initmine2:""),1)]),_:2},1024)]),_:2},1024)]),desc:a(()=>[t(ce,{class:"margin-top-sm"},{default:a(()=>[t(ae,{span:"12",class:"text-left"},{default:a(()=>[y(e(r.$t("hero.attack"))+"\uFF1A"+e(N.attack),1),N.gattack>0?(c(),f("span",Tn,"+"+e(N.gattack),1)):J("",!0)]),_:2},1024),t(ae,{span:"12",class:"text-left"},{default:a(()=>[y(e(r.$t("hero.defense"))+"\uFF1A"+e(N.defense),1),N.gdefense>0?(c(),f("span",Sn,"+"+e(N.gdefense),1)):J("",!0)]),_:2},1024)]),_:2},1024),t(ce,{class:"margin-top-xs"},{default:a(()=>[t(ae,{span:"12",class:"text-left"},{default:a(()=>[y(e(r.$t("hero.hp"))+"\uFF1A"+e(N.hp),1),N.ghp>0?(c(),f("span",qn,"+"+e(N.ghp),1)):J("",!0)]),_:2},1024),t(ae,{span:"12",class:"text-left"},{default:a(()=>[y(e(r.$t("hero.luck"))+"\uFF1A"+e(N.luck),1),N.gluck>0?(c(),f("span",In,"+"+e(N.gluck),1)):J("",!0)]),_:2},1024)]),_:2},1024),t(ce,{class:"margin-top-sm"},{default:a(()=>[t(ae,{span:"12",class:"text-left"},{default:a(()=>[y(e(r.$t("hero.expedition"))+"\uFF1A"+e(N.exptime)+e(r.$t("hero.hour")),1)]),_:2},1024),t(ae,{span:"12",class:"text-left"},{default:a(()=>[y(e(r.$t("hero.crystal"))+"\uFF1A"+e(N.crystal[0]),1)]),_:2},1024)]),_:2},1024),N.drop?(c(),te(ce,{key:0,class:"margin-top-xs"},{default:a(()=>[N.grade==5?(c(),te(ae,{key:0,span:"24",class:"text-left"},{default:a(()=>[y(e(r.$t("hero.material"))+e(r.$t("hero.flop_odds"))+"\uFF1A",1),n("span",{class:xe("text-"+l(fe).find(Q=>Q.grade==4).color)},e(l(fe).find(Q=>Q.grade==4).title),3),y(" "+e(N.drop[0]/10)+"% - ",1),n("span",{class:xe("text-"+l(fe).find(Q=>Q.grade==N.grade).color)},e(l(fe).find(Q=>Q.grade==N.grade).title),3),y(e(N.drop[N.drop.length-1]/10)+"% ",1)]),_:2},1024)):(c(),te(ae,{key:1,span:"24",class:"text-left"},{default:a(()=>[y(e(r.$t("hero.material"))+e(r.$t("hero.flop_odds"))+"\uFF1A",1),n("span",{class:xe("text-"+l(fe).find(Q=>Q.grade==N.grade).color)},e(l(fe).find(Q=>Q.grade==N.grade).title),3),y(" "+e(N.drop[0]/10)+"% - "+e(N.drop[N.drop.length-1]/10)+"% ",1)]),_:2},1024))]),_:2},1024)):J("",!0)]),_:2},1032,["thumb"]))),128))]),_:1})]),_:1},8,["loading","finished","finished-text"])],64)}}},Nn="https://tkapi.tinyworlds.io/api/metadata/equipment",Rn="https://scf-deploy-ap-hongkong-1258577806.cos.ap-hongkong.myqcloud.com/tinyworlds/",Ke=pt("kingdom",{state:()=>({equipment:null,ranking_city:null}),getters:{},actions:{async initEquipment(){let s=100,o=1,i=100,m=[];for(;s>0;){const h=await Wa(Nn,{pageIndex:o,pageSize:i});o++,m.push(...h.data),s=h.totalRows-m.length}return this.equipment=m,this.equipment},async initRankingCity(){const s=Rn+"kingdom/season/city/simple/last.json?="+ye().format("YYYYMMDDHH");let o=await be(s);return this.ranking_city=o,console.log("ranking city",this.ranking_city),this.ranking_city}}}),An={class:"margin-left-xs"},On=n("span",{class:"margin-left-xs padding-lr-xs bg-grey"},"100%",-1),En={class:"margin-left-xs padding-lr-xs bg-grey"},Fn={class:"margin-left-xs padding-lr-xs bg-grey"},kt={props:{equip:Object},setup(s){const o=["all","attack","defense","hp","luck"],i={cardPadding:"10px",cardBackgroundColor:"#FFFFFF"};return(m,h)=>{const _=w("van-tag"),R=w("van-row"),T=w("van-col"),d=w("van-card"),g=w("van-config-provider");return c(),te(g,{"theme-vars":i},{default:a(()=>[t(d,{class:"radius shadow"},{tag:a(()=>[t(_,{mark:"",color:l(fe).find(u=>u.grade==s.equip.grade).rgb},{default:a(()=>[y(e(l(fe).find(u=>u.grade==s.equip.grade).title),1)]),_:1},8,["color"])]),thumb:a(()=>[n("p",{class:xe(["sprite-lg margin-right sprite","equip_"+s.equip.id])},null,2)]),title:a(()=>[t(R,null,{default:a(()=>[t(_,null,{default:a(()=>[y(e(m.$t("equip.subtype_"+s.equip.subType)),1)]),_:1}),n("span",An,e(l(F).global.locale=="zh_TW"?s.equip.nameCn:s.equip.nameEn),1)]),_:1})]),desc:a(()=>[t(R,{class:"margin-top-sm text-gray"},{default:a(()=>[t(T,{span:"10",class:"text-left"},{default:a(()=>[y(e(m.$t("equip.required_level"))+"\uFF1A"+e(s.equip.minLevel),1)]),_:1}),s.equip.minPriceAtMarket?(c(),te(T,{key:0,span:"14",class:"text-left"},{default:a(()=>[y(e(m.$t("equip.floor_price"))+"\uFF1A"+e(parseFloat(s.equip.minPriceAtMarket).toFixed(2))+"BUSD",1)]),_:1})):(c(),te(T,{key:1,span:"14",class:"text-left"},{default:a(()=>[y(e(m.$t("equip.floor_price"))+"\uFF1A"+e(m.$t("equip.no_stock")),1)]),_:1}))]),_:1}),t(R,{class:"margin-top-sm"},{default:a(()=>[t(T,{span:"24",class:"text-left"},{default:a(()=>[y(e(m.$t("hero."+o[s.equip.stat1Type]))+"\uFF1A"+e(s.equip.stat1Value-s.equip.stat1RandRange)+"-"+e(s.equip.stat1Value+s.equip.stat1RandRange),1),On]),_:1})]),_:1}),t(R,{class:"margin-top-xs"},{default:a(()=>[s.equip.stat2Type>0?(c(),te(T,{key:0,span:s.equip.stat3Type>0?12:24,class:"text-left"},{default:a(()=>[y(e(m.$t("hero."+o[s.equip.stat2Type]))+"\uFF1A"+e(s.equip.stat2Value-s.equip.stat2RandRange)+"-"+e(s.equip.stat2Value+s.equip.stat2RandRange),1),n("span",En,e(s.equip.stat2RevealRate)+"%",1)]),_:1},8,["span"])):J("",!0),s.equip.stat3Type>0?(c(),te(T,{key:1,span:"12",class:"text-left"},{default:a(()=>[y(e(m.$t("hero."+o[s.equip.stat3Type]))+"\uFF1A"+e(s.equip.stat3Value-s.equip.stat3RandRange)+"-"+e(s.equip.stat3Value+s.equip.stat3RandRange),1),n("span",Fn,e(s.equip.stat3RevealRate)+"%",1)]),_:1})):J("",!0)]),_:1})]),_:1})]),_:1})}}},Vn={setup(s){const o=Ke(),i=L(0),m=L(0),h=L("1_1"),_=[{text:F.global.t("equip.type_all"),value:0},{text:F.global.t("equip.type_1"),value:1},{text:F.global.t("equip.type_2"),value:2},{text:F.global.t("equip.type_3"),value:3}],R=[{text:F.global.t("equip.grade_all"),value:0},{text:"N",value:1},{text:"R",value:2},{text:"SR",value:3},{text:"SSR",value:4},{text:"SSSR",value:5}],T=[{text:F.global.t("hero.attack_1"),value:"1_1"},{text:F.global.t("hero.attack_0"),value:"1_0"},{text:F.global.t("hero.defense_1"),value:"2_1"},{text:F.global.t("hero.defense_0"),value:"2_0"},{text:F.global.t("hero.hp_1"),value:"3_1"},{text:F.global.t("hero.hp_0"),value:"3_0"}];let d=[0,0,"1_1"];const g=L([]);let u=[];const x=L(!1),S=L(!1);let I=10;const b=10;ke(async()=>{o.equipment||await o.initEquipment(),Y(d)});const $=async()=>{console.log("onload"),o.equipment||await o.initEquipment(),u.length==0&&Y(d),I+=b,x.value=!1,I<u.length?g.value=u.slice(0,I):(g.value=u,S.value=!0)},C=V=>{I=10,S.value=!1,d[0]=V,Y(d)},K=V=>{I=10,S.value=!1,d[1]=V,Y(d)},U=V=>{I=10,S.value=!1,d[2]=V,Y(d)},Y=V=>{u=[],u.push(...JSON.parse(JSON.stringify(o.equipment))),V[0]>0&&(u=u.filter(W=>W.grade==V[0])),V[1]>0&&(u=u.filter(W=>W.type==V[1]));let r=V[2].split("_");u=u.filter(W=>W.stat1Type==parseInt(r[0])),u=u.sort($e("stat1Value")),r[1]>0&&(u=u.reverse()),g.value=u.slice(0,I)};return(V,r)=>{const W=w("van-dropdown-item"),X=w("van-dropdown-menu"),re=w("van-list");return c(),f(se,null,[t(X,null,{default:a(()=>[t(W,{teleport:"body",modelValue:m.value,"onUpdate:modelValue":r[0]||(r[0]=E=>m.value=E),options:R,onChange:C},null,8,["modelValue"]),t(W,{teleport:"body",modelValue:i.value,"onUpdate:modelValue":r[1]||(r[1]=E=>i.value=E),options:_,onChange:K},null,8,["modelValue"]),t(W,{teleport:"body",modelValue:h.value,"onUpdate:modelValue":r[2]||(r[2]=E=>h.value=E),options:T,onChange:U},null,8,["modelValue"])]),_:1}),t(re,{loading:x.value,"onUpdate:loading":r[3]||(r[3]=E=>x.value=E),finished:S.value,"finished-text":V.$t("common.no_more"),onLoad:$},{default:a(()=>[(c(!0),f(se,null,_e(g.value,E=>(c(),f("div",{key:E,class:"margin"},[t(kt,{equip:E},null,8,["equip"])]))),128))]),_:1},8,["loading","finished","finished-text"])],64)}}},Pn={};function Mn(s,o){const i=w("van-empty");return c(),te(i,{class:"margin-top",description:s.$t("common.dev_soon")},null,8,["description"])}var Ln=Ce(Pn,[["render",Mn]]);const Jn={setup(s){const o=L(0);return(i,m)=>{const h=w("van-tab"),_=w("van-tabs");return c(),te(_,{active:o.value,"onUpdate:active":m[0]||(m[0]=R=>o.value=R),swipeable:"",sticky:""},{default:a(()=>[t(h,{title:i.$t("baike.book_hero")},{default:a(()=>[t(Cn)]),_:1},8,["title"]),t(h,{title:i.$t("baike.book_equip")},{default:a(()=>[t(Vn)]),_:1},8,["title"]),t(h,{title:i.$t("baike.book_material")},{default:a(()=>[t(Ln)]),_:1},8,["title"])]),_:1},8,["active"])}}},Bn=["attack","defense","hp","luck"];function zn(s,o){return parseInt(s*o/60/200)}function Hn(s,o){let i=25,m=Number(s);return i-=parseFloat(25)*m/(m+Number("1000")),parseInt(60*o/i)}function Oe(s){let o=[0,0,0],i=[0,0,0],m=[0,0,0],h=0,_=0;for(let d=1;d<=3;d++)o[d-1]=Hn(s[d].defense.all,s[d].hp.all),i[d-1]=zn(s[d].attack.all,o[d-1]),m[d-1]=parseInt(i[d-1]/10)+1,_+=i[d-1],o[d-1]>h&&(h=o[d-1]);let R=parseInt(_/10);return[{max_sec:h,max_floor:R,kill_count:_},{max_sec:o[0],max_floor:m[0],kill_count:i[0]},{max_sec:o[1],max_floor:m[1],kill_count:i[1]},{max_sec:o[2],max_floor:m[2],kill_count:i[2]}]}function Dn(s,o){let i=0,m=[],h=JSON.parse(JSON.stringify(s)),_=[],R=0,T=Oe(h)[0].max_floor;for(let u=1;u<=3;u++)for(let x=0;x<=2;x++){let S=u+1;S>3&&(S=1),!(x==0&&(o[u-1][x]>1&&o[u-1][x]<5||o[S-1][x]>1&&o[S-1][x]<5))&&(m=Yn(JSON.parse(JSON.stringify(h)),u,x),R=Oe(m)[0].max_floor,R>T&&(i=1,T=R,h=JSON.parse(JSON.stringify(m)),_.push({equip0:[u-1,x],equip1:[S-1,x]})))}let d=Oe(h)[0].max_sec,g=Oe(h)[0].kill_count;return{isopt:i,max_floor:T,max_sec:d,kill_count:g,syncList:_,optList:h}}function Yn(s,o,i){let m={attact:0,defense:0,hp:0,luck:0},h=o+1;return h>3&&(h=1),Bn.forEach(_=>{m[_]=s[o][_].equip[i],s[o][_].equip[i]=s[h][_].equip[i],s[o][_].all=s[o][_].hero+s[o][_].equip[0]+s[o][_].equip[1]+s[o][_].equip[2],s[h][_].equip[i]=m[_],s[h][_].all=s[h][_].hero+s[h][_].equip[0]+s[h][_].equip[1]+s[h][_].equip[2]}),s}const Gn={class:"text-gray text-sm"},Wn={class:"margin-right-xs text-black text-sm"},jn={class:"text-gray text-sm"},Un={class:"margin-right-xs text-black text-sm"},Kn={class:"text-gray text-sm"},Xn={class:"margin-right-xs text-black text-sm"},Zn={class:"text-gray text-sm"},Qn={class:"margin-right-xs text-black text-sm"},es={class:"margin-tb-sm"},ts={class:"margin-left-xs text-df text-black"},as={class:"margin-left-xs text-df text-black"},ns={class:"margin-left-xs text-df text-black"},ss={class:"margin-left-xs text-df text-black"},vt={props:{panelList:Object,total:Object},setup(s){const o=["attack","defense","hp","luck"],i=L(["1"]),m={cellGroupBackgroundColor:"#fff"},h={collapseItemContentPadding:"0px"};return(_,R)=>{const T=w("van-col"),d=w("van-row"),g=w("van-cell-group"),u=w("van-config-provider"),x=w("van-collapse-item"),S=w("van-collapse");return c(),f(se,null,[t(u,{"theme-vars":h},{default:a(()=>[t(S,{modelValue:i.value,"onUpdate:modelValue":R[0]||(R[0]=I=>i.value=I),border:!1},{default:a(()=>[t(x,{name:"0"},{title:a(()=>[n("span",Gn,e(_.$t("hero.attack"))+":",1),n("span",Wn,e(s.panelList.attack.all),1),n("span",jn,e(_.$t("hero.defense"))+":",1),n("span",Un,e(s.panelList.defense.all),1),n("span",Kn,e(_.$t("hero.hp"))+":",1),n("span",Xn,e(s.panelList.hp.all),1),n("span",Zn,e(_.$t("hero.luck"))+":",1),n("span",Qn,e(s.panelList.luck.all),1)]),default:a(()=>[n("div",es,[t(u,{"theme-vars":m},{default:a(()=>[t(g,{inset:""},{default:a(()=>[t(d,{justify:"center",class:"text-center text-gray padding-tb-sm solid-bottom"},{default:a(()=>[t(T,{span:"4"},{default:a(()=>[y(e(_.$t("predict.attribute")),1)]),_:1}),t(T,{span:"5"},{default:a(()=>[y(e(_.$t("predict.value")),1)]),_:1}),t(T,{span:"8"},{default:a(()=>[y(e(_.$t("predict.equip_add")),1)]),_:1}),t(T,{span:"7"},{default:a(()=>[y(e(_.$t("predict.total")),1)]),_:1})]),_:1}),(c(),f(se,null,_e(o,(I,b)=>t(d,{key:I,justify:"center",class:xe(["text-center padding-tb-sm solid-bottom",b%2?"text-gray":"text-grey bg-gray"])},{default:a(()=>[t(T,{span:"4"},{default:a(()=>[y(e(_.$t("hero."+I)),1)]),_:2},1024),t(T,{span:"5"},{default:a(()=>[y(e(s.panelList[I].hero),1)]),_:2},1024),t(T,{span:"8"},{default:a(()=>[y(e(s.panelList[I].equip[0])+","+e(s.panelList[I].equip[1])+","+e(s.panelList[I].equip[2]),1)]),_:2},1024),t(T,{span:"7"},{default:a(()=>[y(e(s.panelList[I].all),1)]),_:2},1024)]),_:2},1032,["class"])),64))]),_:1})]),_:1})])]),_:1})]),_:1},8,["modelValue"])]),_:1}),t(d,{class:"margin text-gray text-sm"},{default:a(()=>[t(T,{span:"8"},{default:a(()=>[y(e(_.$t("predict.castle_floor"))+":",1),n("span",ts,e(s.total.max_floor),1)]),_:1}),t(T,{span:"8"},{default:a(()=>[y(e(_.$t("predict.kill_enemy"))+":",1),n("span",as,e(s.total.kill_count),1)]),_:1}),s.total.max_sec>3600?(c(),te(T,{key:0,span:"8"},{default:a(()=>[y(e(_.$t("predict.survival_time"))+":",1),n("span",ns,e(parseInt(s.total.max_sec/3600))+e(_.$t("common.hour"))+e(parseInt(s.total.max_sec/60%60))+e(_.$t("common.minute")),1)]),_:1})):(c(),te(T,{key:1,span:"8"},{default:a(()=>[y(e(_.$t("predict.survival_time"))+":",1),n("span",ss,e(parseInt(s.total.max_sec/60%60))+e(_.$t("common.minute")),1)]),_:1}))]),_:1})],64)}}};const Xe=s=>(Pe("data-v-2b792205"),s=s(),Me(),s),ls=Xe(()=>n("div",{class:"margin"},null,-1)),os={key:0},is=["onClick"],rs={key:1},cs=["onClick"],us=Xe(()=>n("div",{class:"margin"},null,-1)),ds={class:"text-lg text-blue margin-left-xs"},ps={class:"text-lg text-orange margin-lr-xs"},ms=y("TINC"),_s={class:"text-lg text-blue margin-lr-xs"},gs=y("BUSD"),ys={class:"text-lg text-orange margin-lr-xs"},fs=y("BUSD"),hs=Xe(()=>n("div",{class:"margin"},null,-1)),vs={class:"cu-tag line-grey radius margin-left margin-top-sm"},xs={class:"margin-left-xs text-lg text-orange"},bs={class:"margin-left-xs text-df text-black"},ks={class:"margin-left-xs text-lg text-orange"},ws={class:"margin-left-xs text-df text-black"},$s={class:"cu-tag line-grey radius margin-left"},Ts={class:"cu-tag round line-gray sm"},Ss=Xe(()=>n("div",{class:"margin"},null,-1)),qs={class:"text-sm text-gray",style:{"line-height":"18px"}},Is=["onClick"],Cs={key:0},Ns={class:"text-sm"},Rs={key:1},As={class:"text-sm"},Os={key:0},Es={class:"margin-tb-xs equiptext text-sm"},Fs={key:1},Vs={class:"margin-tb-xs equiptext text-sm"},Ps={class:"cu-tag line-grey radius sm"},Ms={key:0},Ls={key:0,class:"margin-tb solid-top"},Js={class:"solid-top padding text-sm"},Bs={setup(s){const{proxy:o}=Ie(),i=L(!1),m=L([0,0]),h=je(),_=bt(),R=Le(),T=Ke(),d=Ue(),g=L(1),u=L(!1),x=L([]),S=[100,120,140,160,200,220,240,260,300,340],I=["attack","defense","hp","luck"];let b=[0,0];const $=L(!1),C=L(!1),K=L(!1),U=L(3),Y=L(3),V=[{type:1,typeName:"weapon",change:0,equip:{}},{type:2,typeName:"armor",change:0,equip:{}},{type:3,typeName:"ornaments",change:0,equip:{}}],r=he([{type:1,typeName:"warrior",change:0,hero:{},equips:JSON.parse(JSON.stringify(V))},{type:2,typeName:"ranger",change:0,hero:{},equips:JSON.parse(JSON.stringify(V))},{type:3,typeName:"wizard",change:0,hero:{},equips:JSON.parse(JSON.stringify(V))}]),W={attack:{hero:0,equip:[0,0,0],all:0},defense:{hero:0,equip:[0,0,0],all:0},hp:{hero:0,equip:[0,0,0],all:0},luck:{hero:0,equip:[0,0,0],all:0}},X=he([JSON.parse(JSON.stringify(W)),JSON.parse(JSON.stringify(W)),JSON.parse(JSON.stringify(W)),JSON.parse(JSON.stringify(W))]),re={max_sec:0,max_floor:0,kill_count:0},E=L([JSON.parse(JSON.stringify(re)),JSON.parse(JSON.stringify(re)),JSON.parse(JSON.stringify(re)),JSON.parse(JSON.stringify(re))]),ae={isopt:0,max_sec:0,max_floor:0,kill_count:0,syncList:[],optList:[]},ce=L({isopt:0,max_sec:0,max_floor:0,kill_count:0,syncList:[],optList:[]}),ge=L({rankIndex:0,prizeAmount:0}),p=L({}),B=L([]),N=()=>{h.push({name:"Playerlist"})},Q=k=>{if($.value=!1,r.forEach(v=>{v.change=0,v.equips.forEach(H=>{H.change=0}),v.type==k&&(v.change=1)}),JSON.stringify(r.find(v=>v.change==1).hero)!="{}"){let v=r.find(q=>q.change==1).hero.grade,H=r.find(q=>q.change==1).hero.code,P=r.find(q=>q.change==1).hero.level;Qe(v,H,P)}else Qe();$.value=!0};let le=[0,0,0,0];const oe=(k,v)=>{if(JSON.stringify(r[k-1].hero)=="{}"){o.$toast.fail(F.global.t("predict.choose_hero_first"));return}if(C.value=!1,r.forEach(H=>{H.change=0,H.equips.forEach(P=>{P.change=0,P.type==v&&H.type==k&&(P.change=1)})}),b=[k-1,v-1],JSON.stringify(r[k-1].equips[v-1].equip)!="{}"){let H=r[k-1].equips[v-1].equip.grade,P=r[k-1].equips[v-1].equip.id,q=r[k-1].equips[v-1].equip.level;le[0]=P,le[1]=r[k-1].equips[v-1].equip.stat1ValueFinal,le[2]=r[k-1].equips[v-1].equip.stat2ValueFinal,le[3]=r[k-1].equips[v-1].equip.stat3ValueFinal,et(H,P,q)}else le=[0,0,0,0],et();C.value=!0},G=()=>{r.forEach(k=>k.change=0)},z=()=>{$.value=!1,C.value=!1},D=L(0),A=he([{text:"N",grade:1,defaultIndex:2,children:[]},{text:"R",grade:2,defaultIndex:2,children:[]},{text:"SR",grade:3,defaultIndex:2,children:[]},{text:"SSR",grade:4,defaultIndex:2,children:[]},{text:"SSSR",grade:5,defaultIndex:2,children:[]}]),ie=[{text:"N",grade:1,defaultIndex:1,children:[]},{text:"R",grade:2,defaultIndex:1,children:[]},{text:"SR",grade:3,defaultIndex:1,children:[]},{text:"SSR",grade:4,defaultIndex:1,children:[]},{text:"SSSR",grade:5,defaultIndex:1,children:[]}],ue=L(JSON.parse(JSON.stringify(ie))),Je=k=>{r.find(v=>v.change==1).hero=JSON.parse(JSON.stringify(R.heros.find(v=>v.code==k[1].code))),r.find(v=>v.change==1).hero.level=k[2].level,Se(),$.value=!1},we=()=>{r.find(k=>k.change==1).hero={},Se(),$.value=!1},Te=k=>{r[b[0]].equips[b[1]].equip=JSON.parse(JSON.stringify(T.equipment.find(H=>H.id==k[1].id))),r[b[0]].equips[b[1]].equip.level=k[2].level;let v=.6;r[b[0]].equips[b[1]].equip.id==le[0]&&le[1]>0?(r[b[0]].equips[b[1]].equip.stat1ValueFinal=le[1],r[b[0]].equips[b[1]].equip.stat2ValueFinal=le[2],r[b[0]].equips[b[1]].equip.stat3ValueFinal=le[3]):(r[b[0]].equips[b[1]].equip.stat1ValueFinal=r[b[0]].equips[b[1]].equip.stat1Value+parseInt(r[b[0]].equips[b[1]].equip.stat1RandRange*v),r[b[0]].equips[b[1]].equip.stat2ValueFinal=r[b[0]].equips[b[1]].equip.stat2Value+parseInt(r[b[0]].equips[b[1]].equip.stat2RandRange*v),r[b[0]].equips[b[1]].equip.stat3ValueFinal=r[b[0]].equips[b[1]].equip.stat3Value+parseInt(r[b[0]].equips[b[1]].equip.stat3RandRange*v)),Se(),C.value=!1},Be=()=>{r[b[0]].equips[b[1]].equip={},Se(),C.value=!1},Re=(k,v)=>{K.value=!1,r.forEach(H=>{H.change=0,H.equips.forEach(P=>{P.change=0,P.type==v&&H.type==k&&(P.change=1)})}),b=[k-1,v-1],m.value=[0,0],p.value=r[k-1].equips[v-1].equip,p.value.stat2Type>0&&p.value.stat2ValueFinal>0&&(m.value[0]=1),p.value.stat3Type>0&&p.value.stat3ValueFinal>0&&(m.value[1]=1),K.value=!0},O=()=>{r[b[0]].equips[b[1]].equip=p.value,Se(),K.value=!1},ve=k=>{let v=F.global.locale=="zh_TW"?k.title_cn:k.title_en;o.$dialog.confirm({title:F.global.t("predict.delete_file"),message:F.global.t("predict.delete_file_message")+": "+v+" ?"}).then(()=>{if(localStorage.getItem("myteamdata")){let H=JSON.parse(localStorage.getItem("myteamdata")),P=H.findIndex(q=>q.timestamp==k.timestamp);P>=0&&(H.splice(P,1),localStorage.setItem("myteamdata",JSON.stringify(H)),tt(),o.$toast.success(F.global.t("common.delete_succeed")))}})},$t=k=>{if(!r.find(v=>JSON.stringify(v.hero)!="{}")){o.$toast.fail(F.global.t("predict.setting_no_save"));return}Tt(),o.$toast.success(F.global.t("predict.setting_save_ok"))},ze=(k=[])=>{for(let v=0;v<=2;v++)r[v].hero={},r[v].equips=JSON.parse(JSON.stringify(V));if(k.length!=0){for(let v=0;v<=2;v++)if(R.heros.find(H=>H.code==k[v].hero.code)){r[v].hero=JSON.parse(JSON.stringify(R.heros.find(H=>H.code==k[v].hero.code))),r[v].hero.level=k[v].hero.level;for(let H=0;H<=2;H++)T.equipment.find(P=>P.id==k[v].equips[H].id)&&(r[v].equips[H].equip=JSON.parse(JSON.stringify(T.equipment.find(P=>P.id==k[v].equips[H].id))),r[v].equips[H].equip.level=k[v].equips[H].level,r[v].equips[H].equip.stat1ValueFinal=k[v].equips[H].stat1ValueFinal,r[v].equips[H].equip.stat2ValueFinal=k[v].equips[H].stat2ValueFinal,r[v].equips[H].equip.stat3ValueFinal=k[v].equips[H].stat3ValueFinal)}}Se()},Tt=()=>{let k=[];for(let Z=0;Z<=2;Z++){let me=JSON.stringify(r[Z].hero)!="{}"?r[Z].hero.code:0,ne=JSON.stringify(r[Z].hero)!="{}"?r[Z].hero.level:0,de={hero:{code:me,level:ne},equips:[]};for(let j=0;j<=2;j++){let pe=JSON.stringify(r[Z].equips[j].equip)!="{}"?r[Z].equips[j].equip.id:0,Ae=JSON.stringify(r[Z].equips[j].equip)!="{}"?r[Z].equips[j].equip.level:0,at=JSON.stringify(r[Z].equips[j].equip)!="{}"?r[Z].equips[j].equip.stat1ValueFinal:0,nt=JSON.stringify(r[Z].equips[j].equip)!="{}"?r[Z].equips[j].equip.stat2ValueFinal:0,st=JSON.stringify(r[Z].equips[j].equip)!="{}"?r[Z].equips[j].equip.stat3ValueFinal:0;de.equips.push({id:pe,level:Ae,stat1ValueFinal:at,stat2ValueFinal:nt,stat3ValueFinal:st})}k.push(de)}let v=[],H=1;localStorage.getItem("myteamdata")&&(v=JSON.parse(localStorage.getItem("myteamdata")),H=v.length+1);let P={title_cn:"\u6211\u7684\u6230\u968A_"+H,title_en:"myteam_"+H,author_cn:"\u6211",author_en:"my",type:1,timestamp:ye().valueOf(),data:k};console.log("saveTeamData",P),v.push(P);let q=JSON.stringify(v);localStorage.setItem("myteamdata",q),tt()};ke(async()=>{if(R.heros||await R.initHeros(),T.equipment||await T.initEquipment(),T.ranking_city||await T.initRankingCity(),d.pools||await d.initPools(),g.value=parseFloat(d.pools.price.TINC).toFixed(2),B.value=T.ranking_city.all,Qe(),et(),Se(),tt(),_.params&&_.params.playerId){console.log(_.params.playerId);let k=T.ranking_city.all.find(v=>v.playerId==_.params.playerId);ze(k.data)}i.value=!0});const Qe=(k=3,v=309,H=1)=>{if(!r.find(q=>q.change==1))return;U.value=k-1,A.forEach(q=>q.children=[]);const P=r.find(q=>q.change==1).type;R.heros.forEach(q=>{q.type==P&&(A.find(Z=>Z.grade==q.grade).children.push({text:F.global.locale=="zh_TW"?q.name_cn:q.name_en,code:q.code}),q.code==v&&(A.find(Z=>Z.grade==q.grade).defaultIndex=A.find(Z=>Z.grade==q.grade).children.findIndex(Z=>Z.code==v)))}),A.forEach(q=>{let Z=8;q.grade>1&&(Z=10),q.grade>3&&(Z=20),q.children.forEach(me=>{me.children=[];for(let ne=1;ne<=Z;ne++)me.children.push({text:F.global.locale=="zh_TW"?ne+"\u7D1A":"Level"+ne,level:ne});me.defaultIndex=H-1})}),D.value+=1},et=(k=3,v=141,H=1)=>{r.forEach(ne=>{ne.equips.forEach(de=>{de.change==1&&(b=[ne.type-1,de.type-1])})}),Y.value=k-1,ue.value=JSON.parse(JSON.stringify(ie));const P=r[b[0]].type-1,q=[2,3,4];let Z=20;JSON.stringify(r[b[0]].hero)!="{}"&&(Z=r[b[0]].hero.level);const me=r[b[0]].equips[b[1]].type;T.equipment.forEach(ne=>{ne.type==me&&ne.minLevel<=Z&&(ne.subType>4||ne.subType==1||ne.subType==q[P])&&(ue.value.find(de=>de.grade==ne.grade).children.push({text:F.global.locale=="zh_TW"?ne.nameCn:ne.nameEn,id:ne.id}),ne.id==v&&(ue.value.find(de=>de.grade==ne.grade).defaultIndex=ue.value.find(de=>de.grade==ne.grade).children.findIndex(de=>de.id==v)))});for(let ne=4;ne>=0;ne--)ue.value[ne].children.length==0&&ue.value.splice(ne,1);Y.value>ue.value.length-1&&(Y.value=ue.value.length-1),ue.value.forEach(ne=>{let de=10;ne.children.forEach(j=>{j.children=[];for(let pe=1;pe<=de;pe++)j.children.push({text:F.global.locale=="zh_TW"?pe+"\u7D1A":"Level"+pe,level:pe});j.defaultIndex=H-1})}),D.value+=1},Se=()=>{let k=[[0,0,0],[0,0,0],[0,0,0]];ce.value=JSON.parse(JSON.stringify(ae)),X[0]=JSON.parse(JSON.stringify(W)),r.forEach(P=>{X[P.type]=JSON.parse(JSON.stringify(W)),JSON.stringify(P.hero)!="{}"&&(I.forEach(q=>{X[P.type][q].hero=P.hero[q]+P.hero["g"+q]*(P.hero.level-1),X[0][q].hero+=X[P.type][q].hero}),P.equips.forEach(q=>{if(JSON.stringify(q.equip)!="{}"){k[P.type-1][q.type-1]=q.equip.subType;let Z=I[q.equip.stat1Type-1];if(X[P.type][Z].equip[q.type-1]=parseInt(q.equip.stat1ValueFinal*S[q.equip.level-1]/100),X[0][Z].equip[q.type-1]+=X[P.type][Z].equip[q.type-1],q.equip.stat2Type>0){let me=I[q.equip.stat2Type-1];X[P.type][me].equip[q.type-1]=parseInt(q.equip.stat2ValueFinal*S[q.equip.level-1]/100),X[0][me].equip[q.type-1]+=X[P.type][me].equip[q.type-1]}if(q.equip.stat3Type>0){let me=I[q.equip.stat3Type-1];X[P.type][me].equip[q.type-1]=parseInt(q.equip.stat3ValueFinal*S[q.equip.level-1]/100),X[0][me].equip[q.type-1]+=X[P.type][me].equip[q.type-1]}}}),I.forEach(q=>{X[P.type][q].all=X[P.type][q].hero+X[P.type][q].equip[0]+X[P.type][q].equip[1]+X[P.type][q].equip[2],X[0][q].all+=X[P.type][q].all}))}),E.value=Oe(JSON.parse(JSON.stringify(X)));let v=E.value[0].max_floor,H=T.ranking_city.all;for(let P=0;P<H.length;P++)if(v>parseInt(H[P].scoreValue)){ge.value.prizeAmount=H[P].prizeAmount,ge.value.rankIndex=H[P].rankIndex;break}ce.value=Dn(JSON.parse(JSON.stringify(X)),k),console.log(ce.value)},tt=()=>{x.value=[];let k=[T.ranking_city.top.sssr,T.ranking_city.top.ssr,T.ranking_city.top.sr,T.ranking_city.top.r,T.ranking_city.top.n];x.value.push(...k),localStorage.getItem("myteamdata")&&x.value.push(...JSON.parse(localStorage.getItem("myteamdata")))};return(k,v)=>{const H=w("van-button"),P=w("van-cell"),q=w("van-icon"),Z=w("van-badge"),me=w("van-grid-item"),ne=w("van-grid"),de=w("van-cell-group"),j=w("van-col"),pe=w("van-row"),Ae=w("van-checkbox"),at=w("van-image"),nt=w("van-loading"),st=w("van-overlay"),_t=w("van-picker"),gt=w("van-popup"),lt=w("van-stepper"),St=w("van-dialog");return c(),f(se,null,[ls,t(de,{inset:""},{default:a(()=>[t(P,{title:k.$t("predict.team_file"),icon:"notes-o"},{value:a(()=>[n("div",{class:"text-gray margin-right-sm",onClick:N},[t(H,{size:"mini",color:"#aaaaaa",plain:"",class:"margin-right-sm"},{default:a(()=>[y(e(k.$t("predict.read_randlist")),1)]),_:1})])]),_:1},8,["title"]),t(ne,{"column-num":3,border:!1},{default:a(()=>[(c(!0),f(se,null,_e(x.value,M=>(c(),te(me,{key:M,icon:"photo-o",text:M.rankIndex?M.rankIndex+"_"+M.title_cn:M.title_cn},{icon:a(()=>[M.type>0?(c(),f("div",os,[t(Z,null,{content:a(()=>[t(q,{name:"cross",class:"badge-icon",onClick:ee=>ve(M)},null,8,["onClick"])]),default:a(()=>[n("div",{class:"cu-avatar-group margin-bottom-sm",onClick:ee=>ze(M.data)},[(c(!0),f(se,null,_e(M.data.filter(ee=>ee.hero.code>0),ee=>(c(),f("div",{class:"cu-avatar round",key:ee,style:Fe([{backgroundImage:"url(https://images.tinyworlds.io/hero/"+ee.hero.code+".png)",backgroundColor:l(dt).find(qe=>qe.code==100*parseInt(ee.hero.code/100)).rgb}])},null,4))),128))],8,is)]),_:2},1024)])):(c(),f("div",rs,[n("div",{class:"cu-avatar-group margin-bottom-sm",onClick:ee=>ze(M.data)},[(c(!0),f(se,null,_e(M.data.filter(ee=>ee.hero.code>0),ee=>(c(),f("div",{class:"cu-avatar round",key:ee,style:Fe([{backgroundImage:"url(https://images.tinyworlds.io/hero/"+ee.hero.code+".png)",backgroundColor:l(dt).find(qe=>qe.code==100*parseInt(ee.hero.code/100)).rgb}])},null,4))),128))],8,cs)]))]),_:2},1032,["text"]))),128)),t(me,{icon:"plus",text:k.$t("predict.new_document"),onClick:v[0]||(v[0]=M=>ze())},null,8,["text"])]),_:1})]),_:1}),us,t(de,{inset:""},{default:a(()=>[t(P,{title:k.$t("predict.total_cell"),icon:"orders-o"},null,8,["title"]),ge.value.rankIndex>0?(c(),te(pe,{key:0,class:"bg-gray text-black text-sm padding margin-top-sm margin-lr-xs"},{default:a(()=>[t(j,{span:"12"},{default:a(()=>[y(e(k.$t("predict.castle_ranking"))+":",1),n("span",ds,e(ge.value.rankIndex),1)]),_:1}),t(j,{span:"12"},{default:a(()=>[y(e(k.$t("predict.weekly_reward"))+":",1),n("span",ps,e(ge.value.prizeAmount),1),ms]),_:1}),t(j,{span:"12",class:"margin-top-sm"},{default:a(()=>[y("TINC"+e(k.$t("common.price"))+":",1),n("span",_s,e(g.value),1),gs]),_:1}),t(j,{span:"12",class:"margin-top-sm"},{default:a(()=>[y(e(k.$t("predict.daily_income"))+":",1),n("span",ys,e(parseInt(ge.value.prizeAmount*g.value/7)),1),fs]),_:1})]),_:1})):J("",!0),n("div",{onClick:G},[t(vt,{panelList:l(X)[0],total:E.value[0]},null,8,["panelList","total"])])]),_:1}),hs,ce.value.isopt>0?(c(),te(de,{key:0,inset:""},{default:a(()=>[t(P,{title:k.$t("predict.optimize_cell"),icon:"info-o"},null,8,["title"]),n("div",vs,e(k.$t("predict.promotion")),1),t(pe,{class:"text-black text-sm padding margin-bottom-sm margin-lr-xs"},{default:a(()=>[t(j,{span:"12"},{default:a(()=>[y(e(k.$t("predict.castle_floor"))+":",1),n("span",xs,"+"+e(ce.value.max_floor-E.value[0].max_floor),1),n("span",bs,"("+e(ce.value.max_floor)+")",1)]),_:1}),t(j,{span:"12"},{default:a(()=>[y(e(k.$t("predict.kill_enemy"))+":",1),n("span",ks,"+"+e(ce.value.kill_count-E.value[0].kill_count),1),n("span",ws,"("+e(ce.value.kill_count)+")",1)]),_:1})]),_:1}),n("div",$s,e(k.$t("predict.procedure")),1),(c(!0),f(se,null,_e(ce.value.syncList,(M,ee)=>(c(),te(pe,{class:"text-black text-sm padding-sm margin-lr-xs",key:ee},{default:a(()=>[t(j,{span:"2"},{default:a(()=>[n("div",Ts,e(ee+1),1)]),_:2},1024),t(j,{span:"10"},{default:a(()=>[y(e(l(F).global.locale=="zh_TW"?l(r)[M.equip0[0]].hero.name_cn:l(r)[M.equip0[0]].hero.name_en)+" ",1),t(q,{name:"arrow"}),y(" "+e(l(F).global.locale=="zh_TW"?l(r)[M.equip0[0]].equips[M.equip0[1]].equip.nameCn:l(r)[M.equip0[0]].equips[M.equip0[1]].equip.nameEn),1)]),_:2},1024),t(j,{span:"2",class:"text-black"},{default:a(()=>[t(q,{name:"exchange"})]),_:1}),t(j,{span:"10"},{default:a(()=>[y(e(l(F).global.locale=="zh_TW"?l(r)[M.equip1[0]].hero.name_cn:l(r)[M.equip1[0]].hero.name_en)+" ",1),t(q,{name:"arrow"}),y(" "+e(l(F).global.locale=="zh_TW"?l(r)[M.equip1[0]].equips[M.equip1[1]].equip.nameCn:l(r)[M.equip1[0]].equips[M.equip1[1]].equip.nameEn),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})):(c(),te(de,{key:1,inset:""},{default:a(()=>[t(P,{title:k.$t("predict.optimize_cell"),icon:"info-o",value:k.$t("predict.no_suggestions")},null,8,["title","value"])]),_:1})),Ss,t(de,{inset:""},{default:a(()=>[t(P,{title:k.$t("predict.select_team"),icon:"friends-o"},{value:a(()=>[n("div",{class:"text-gray margin-right-sm",onClick:$t},[t(H,{size:"mini",color:"#aaaaaa",plain:"",class:"margin-right-sm"},{default:a(()=>[y(e(k.$t("predict.save_document")),1)]),_:1})])]),"right-icon":a(()=>[t(Ae,{modelValue:u.value,"onUpdate:modelValue":v[1]||(v[1]=M=>u.value=M)},{default:a(()=>[n("span",qs,e(k.$t("predict.measure_one")),1)]),_:1},8,["modelValue"])]),_:1},8,["title"]),(c(!0),f(se,null,_e(l(r),M=>(c(),f("div",{key:M,class:"padding solid-bottom"},[t(pe,null,{default:a(()=>[t(j,{span:"8"},{default:a(()=>[n("div",{class:xe([M.change?"bg-gray radius shadow":"","text-gray text-center padding-xs"]),onClick:ee=>Q(M.type)},[JSON.stringify(M.hero)!="{}"?(c(),f("div",Cs,[t(Z,{offset:["-80px",5],color:l(fe).find(ee=>ee.grade==M.hero.grade).rgb,content:l(fe).find(ee=>ee.grade==M.hero.grade).title},{default:a(()=>[t(Z,{offset:["-10px",5],color:l(fe).find(ee=>ee.grade==M.hero.grade).rgb,content:"Lv."+M.hero.level},{default:a(()=>[t(at,{src:M.hero.image,height:"80"},null,8,["src"])]),_:2},1032,["color","content"])]),_:2},1032,["color","content"]),n("div",null,[n("span",Ns,e(l(F).global.locale=="zh_TW"?M.hero.name_cn:M.hero.name_en),1)])])):(c(),f("div",Rs,[t(q,{class:"iconfont","class-prefix":"ali-icon",name:M.typeName,size:"80"},null,8,["name"]),n("div",null,[n("span",As,e(k.$t("predict.select_one"))+e(k.$t("hero.type_"+M.type)),1)])]))],10,Is)]),_:2},1024),t(j,{span:"16"},{default:a(()=>[t(pe,{justify:"space-around",class:"margin-left"},{default:a(()=>[(c(!0),f(se,null,_e(M.equips,ee=>(c(),te(j,{span:"8",key:"equip"+ee.type},{default:a(()=>[t(pe,{class:"text-gray text-center",onClick:qe=>oe(M.type,ee.type)},{default:a(()=>[JSON.stringify(ee.equip)!="{}"?(c(),f("div",Os,[t(Z,{offset:["-20px",5],color:l(fe).find(qe=>qe.grade==ee.equip.grade).rgb,content:"Lv."+ee.equip.level},{default:a(()=>[n("div",{class:xe(["solid equipbox text-center",ee.change?"bg-gray radius shadow":""])},[n("p",{class:xe(["sprite-sm sprite","equip_"+ee.equip.id])},null,2)],2)]),_:2},1032,["color","content"]),n("div",Es,e(l(F).global.locale=="zh_TW"?ee.equip.nameCn:ee.equip.nameEn),1)])):(c(),f("div",Fs,[n("div",{class:xe(["solid equipbox text-center",ee.change?"bg-gray radius shadow":""])},[t(q,{name:"plus",size:"30"})],2),n("div",Vs,e(k.$t("equip.type_"+ee.type)),1)]))]),_:2},1032,["onClick"]),JSON.stringify(ee.equip)!="{}"?(c(),te(pe,{key:0,class:"text-center text-sm text-gray margin-top-xs",onClick:qe=>Re(M.type,ee.type)},{default:a(()=>[n("span",Ps,e(k.$t("predict.attribute_adjustment")),1)]),_:2},1032,["onClick"])):J("",!0)]),_:2},1024))),128))]),_:2},1024)]),_:2},1024)]),_:2},1024),u.value?(c(),f("div",Ms,[t(vt,{panelList:l(X)[M.type],total:E.value[M.type]},null,8,["panelList","total"])])):J("",!0)]))),128))]),_:1}),t(st,{show:!i.value},{default:a(()=>[t(nt,{class:"margin-top-xl padding-top-xl text-center"},{default:a(()=>[y(e(k.$t("common.loading")),1)]),_:1})]),_:1},8,["show"]),t(gt,{show:$.value,position:"bottom",onClose:z,onClickOverlay:z},{default:a(()=>[(c(),te(_t,{key:D.value,columns:l(A),"default-index":U.value,"confirm-button-text":k.$t("common.confirm"),"cancel-button-text":k.$t("predict.no_select_hero"),onConfirm:Je,onCancel:we},null,8,["columns","default-index","confirm-button-text","cancel-button-text"]))]),_:1},8,["show"]),t(gt,{show:C.value,position:"bottom",onClose:z,onClickOverlay:z},{default:a(()=>[(c(),te(_t,{key:D.value,columns:ue.value,"default-index":Y.value,"confirm-button-text":k.$t("common.confirm"),"cancel-button-text":k.$t("predict.no_select_equip"),onConfirm:Te,onCancel:Be},null,8,["columns","default-index","confirm-button-text","cancel-button-text"]))]),_:1},8,["show"]),t(St,{show:K.value,"onUpdate:show":v[9]||(v[9]=M=>K.value=M),title:k.$t("predict.attribute_adjustment"),"show-cancel-button":"",confirmButtonText:k.$t("common.confirm"),cancelButtonText:k.$t("common.cancel"),onConfirm:O},{default:a(()=>[JSON.stringify(p.value)!="{}"?(c(),f("div",Ls,[t(kt,{equip:p.value},null,8,["equip"]),n("div",Js,[t(pe,{class:"text-gray margin-bottom"},{default:a(()=>[t(j,{span:"12"},{default:a(()=>[y(e(k.$t("predict.current_level"))+"\uFF1A"+e(p.value.level),1)]),_:1}),t(j,{span:"12"},{default:a(()=>[y(e(k.$t("predict.attribute_bonus"))+"\uFF1A"+e(S[p.value.level-1])+"%",1)]),_:1})]),_:1}),t(pe,{class:"solid-top padding-tb text-gray align-center"},{default:a(()=>[t(j,{span:"4"},{default:a(()=>[y(e(k.$t("hero."+I[p.value.stat1Type-1]))+"\uFF1A",1)]),_:1}),t(j,{span:"8"},{default:a(()=>[t(lt,{modelValue:p.value.stat1ValueFinal,"onUpdate:modelValue":v[2]||(v[2]=M=>p.value.stat1ValueFinal=M),step:"1",min:p.value.stat1Value-p.value.stat1RandRange,max:p.value.stat1Value+p.value.stat1RandRange},null,8,["modelValue","min","max"])]),_:1}),t(j,{span:"12",class:"text-right"},{default:a(()=>[y(e(p.value.stat1ValueFinal)+"X"+e(S[p.value.level-1])+"%="+e(parseInt(p.value.stat1ValueFinal*S[p.value.level-1]/100)),1)]),_:1})]),_:1}),p.value.stat2Type>0?(c(),te(pe,{key:0,class:"solid-top padding-tb text-gray align-center"},{default:a(()=>[t(j,{span:"2"},{default:a(()=>[t(Ae,{modelValue:m.value[0],"onUpdate:modelValue":v[3]||(v[3]=M=>m.value[0]=M),onChange:v[4]||(v[4]=M=>p.value.stat2ValueFinal=0)},null,8,["modelValue"])]),_:1}),t(j,{span:"4"},{default:a(()=>[y(e(k.$t("hero."+I[p.value.stat2Type-1]))+"\uFF1A",1)]),_:1}),t(j,{span:"8"},{default:a(()=>[m.value[0]?(c(),te(lt,{key:0,modelValue:p.value.stat2ValueFinal,"onUpdate:modelValue":v[5]||(v[5]=M=>p.value.stat2ValueFinal=M),step:"1",min:p.value.stat2Value-p.value.stat2RandRange,max:p.value.stat2Value+p.value.stat2RandRange},null,8,["modelValue","min","max"])):J("",!0)]),_:1}),t(j,{span:"10",class:"text-right"},{default:a(()=>[y(e(p.value.stat2ValueFinal)+"X"+e(S[p.value.level-1])+"%="+e(parseInt(p.value.stat2ValueFinal*S[p.value.level-1]/100)),1)]),_:1})]),_:1})):J("",!0),p.value.stat3Type>0?(c(),te(pe,{key:1,class:"solid-top padding-tb text-gray align-center"},{default:a(()=>[t(j,{span:"2"},{default:a(()=>[t(Ae,{modelValue:m.value[1],"onUpdate:modelValue":v[6]||(v[6]=M=>m.value[1]=M),onChange:v[7]||(v[7]=M=>p.value.stat3ValueFinal=0)},null,8,["modelValue"])]),_:1}),t(j,{span:"4"},{default:a(()=>[y(e(k.$t("hero."+I[p.value.stat3Type-1]))+"\uFF1A",1)]),_:1}),t(j,{span:"8"},{default:a(()=>[m.value[1]?(c(),te(lt,{key:0,modelValue:p.value.stat3ValueFinal,"onUpdate:modelValue":v[8]||(v[8]=M=>p.value.stat3ValueFinal=M),step:"1",min:p.value.stat3Value-p.value.stat3RandRange,max:p.value.stat3Value+p.value.stat3RandRange},null,8,["modelValue","min","max"])):J("",!0)]),_:1}),t(j,{span:"10",class:"text-right"},{default:a(()=>[y(e(p.value.stat3ValueFinal)+"X"+e(S[p.value.level-1])+"%="+e(parseInt(p.value.stat3ValueFinal*S[p.value.level-1]/100)),1)]),_:1})]),_:1})):J("",!0)])])):J("",!0)]),_:1},8,["show","title","confirmButtonText","cancelButtonText"])],64)}}};var zs=Ce(Bs,[["__scopeId","data-v-2b792205"]]);const Ve=new Vt("https://bsc-dataseed.binance.org"),Hs="0xD80EdcF7C73B43852dA39497a6B5E9cbA1Edf39e",Ds=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"uint8",name:"oldLevel",type:"uint8"},{indexed:!1,internalType:"uint8",name:"newLevel",type:"uint8"},{indexed:!1,internalType:"uint32",name:"oldPower",type:"uint32"},{indexed:!1,internalType:"uint32",name:"newPower",type:"uint32"}],name:"LevelChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"uint16",name:"itemCode",type:"uint16"},{indexed:!1,internalType:"uint8",name:"itemGrade",type:"uint8"},{indexed:!1,internalType:"uint8",name:"itemType",type:"uint8"},{indexed:!1,internalType:"uint8",name:"itemLevel",type:"uint8"},{indexed:!1,internalType:"uint256",name:"gene",type:"uint256"},{indexed:!1,internalType:"uint32",name:"power",type:"uint32"},{indexed:!1,internalType:"uint32",name:"initPower",type:"uint32"}],name:"Mint",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Paused",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"previousAdminRole",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"newAdminRole",type:"bytes32"}],name:"RoleAdminChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleGranted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleRevoked",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256[]",name:"ids",type:"uint256[]"},{indexed:!1,internalType:"uint256[]",name:"values",type:"uint256[]"}],name:"TransferBatch",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"id",type:"uint256"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"TransferSingle",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"string",name:"value",type:"string"},{indexed:!0,internalType:"uint256",name:"id",type:"uint256"}],name:"URI",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Unpaused",type:"event"},{inputs:[],name:"DEFAULT_ADMIN_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function",constant:!0},{inputs:[],name:"GRADE4_CODE_MINT_LIMIT",outputs:[{internalType:"uint32",name:"",type:"uint32"}],stateMutability:"view",type:"function",constant:!0},{inputs:[],name:"GRADE5_CODE_MINT_LIMIT",outputs:[{internalType:"uint32",name:"",type:"uint32"}],stateMutability:"view",type:"function",constant:!0},{inputs:[],name:"MINTER_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function",constant:!0},{inputs:[],name:"PAUSER_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function",constant:!0},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"id",type:"uint256"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function",constant:!0},{inputs:[{internalType:"address[]",name:"accounts",type:"address[]"},{internalType:"uint256[]",name:"ids",type:"uint256[]"}],name:"balanceOfBatch",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function",constant:!0},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleAdmin",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function",constant:!0},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"uint256",name:"index",type:"uint256"}],name:"getRoleMember",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function",constant:!0},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleMemberCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function",constant:!0},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"grantRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"hasRole",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function",constant:!0},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function",constant:!0},{inputs:[{internalType:"uint16",name:"",type:"uint16"}],name:"itemCodeNumMap",outputs:[{internalType:"uint64",name:"",type:"uint64"}],stateMutability:"view",type:"function",constant:!0},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"itemInfoMap",outputs:[{internalType:"uint16",name:"itemCode",type:"uint16"},{internalType:"uint8",name:"itemGrade",type:"uint8"},{internalType:"uint8",name:"itemType",type:"uint8"},{internalType:"uint8",name:"itemLevel",type:"uint8"},{internalType:"uint256",name:"gene",type:"uint256"},{internalType:"uint32",name:"power",type:"uint32"},{internalType:"uint32",name:"initPower",type:"uint32"}],stateMutability:"view",type:"function",constant:!0},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"itemOwner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function",constant:!0},{inputs:[],name:"nextTokenId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function",constant:!0},{inputs:[],name:"paused",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function",constant:!0},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"renounceRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"revokeRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256[]",name:"ids",type:"uint256[]"},{internalType:"uint256[]",name:"amounts",type:"uint256[]"},{internalType:"bytes",name:"data",type:"bytes"}],name:"safeBatchTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"id",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function",constant:!0},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"uri",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function",constant:!0},{inputs:[{internalType:"string",name:"uri",type:"string"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint16",name:"itemCode",type:"uint16"},{internalType:"uint8",name:"itemGrade",type:"uint8"},{internalType:"uint8",name:"itemType",type:"uint8"},{internalType:"uint8",name:"itemLevel",type:"uint8"},{internalType:"uint256",name:"gene",type:"uint256"},{internalType:"uint32",name:"power",type:"uint32"},{internalType:"uint32",name:"initPower",type:"uint32"}],name:"mint",outputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{components:[{internalType:"uint16",name:"itemCode",type:"uint16"},{internalType:"uint8",name:"itemGrade",type:"uint8"},{internalType:"uint8",name:"itemType",type:"uint8"},{internalType:"uint8",name:"itemLevel",type:"uint8"},{internalType:"uint256",name:"gene",type:"uint256"},{internalType:"uint32",name:"power",type:"uint32"},{internalType:"uint32",name:"initPower",type:"uint32"}],internalType:"struct ITinyNFT.ItemInfo[]",name:"items",type:"tuple[]"}],name:"mintBatch",outputs:[{internalType:"uint256[]",name:"ids",type:"uint256[]"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"burn",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256[]",name:"ids",type:"uint256[]"},{internalType:"uint256[]",name:"amounts",type:"uint256[]"}],name:"burnBatch",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_account",type:"address"},{internalType:"uint256",name:"_id",type:"uint256"}],name:"isOwnerOf",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function",constant:!0},{inputs:[{internalType:"address",name:"_owner",type:"address"},{internalType:"uint256",name:"_id",type:"uint256"},{internalType:"uint32",name:"_newLevel",type:"uint32"},{internalType:"uint32",name:"_newPower",type:"uint32"}],name:"updateItemLevel",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"pause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"unpause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"_newuri",type:"string"}],name:"setURI",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_id",type:"uint256"}],name:"getItem",outputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint16",name:"itemCode",type:"uint16"},{internalType:"uint8",name:"itemGrade",type:"uint8"},{internalType:"uint8",name:"itemType",type:"uint8"},{internalType:"uint8",name:"itemLevel",type:"uint8"},{internalType:"uint256",name:"gene",type:"uint256"},{internalType:"uint32",name:"power",type:"uint32"},{internalType:"uint32",name:"initPower",type:"uint32"}],stateMutability:"view",type:"function",constant:!0}];let De=new Pt(Hs,Ds,Ve);const Ys=[{label:"N",type:1,odds:.64},{label:"R",type:2,odds:.25},{label:"SR",type:3,odds:.08},{label:"SSR",type:4,odds:.025},{label:"SSSR",type:5,odds:.005}];async function xt(s){let o=[],i=[];s.forEach(function(g){i.findIndex(u=>u.blockNumber==g.blockNumber)==-1?i.push({blockNumber:g.blockNumber,blockTotal:1}):i.find(u=>u.blockNumber==g.blockNumber).blockTotal+=1});let m=i[0].blockNumber,h=(await Ve.getBlock(m)).timestamp,_=i[i.length-1].blockNumber,R=(await Ve.getBlock(_)).timestamp,T=0;_>m&&(T=(R-h)/(_-m)),i.forEach(function(g){g.timestamp=h+(g.blockNumber-m)*T});const d=Le();return d.heros||await d.initHeros(),s.forEach(function(g){o.push({tokenId:g.args.tokenId.toString(),owner:g.args.to,itemCode:g.args.itemCode,itemGrade:g.args.itemGrade,itemLevel:g.args.itemLevel,itemType:g.args.itemType,power:g.args.power,initPower:g.args.initPower,gene:g.args.gene.toString(),timestamp:i.find(u=>u.blockNumber==g.blockNumber).timestamp,blockNumber:g.blockNumber,transactionHash:g.transactionHash,name_cn:d.heros.find(u=>u.code==g.args.itemCode).name_cn,name_en:d.heros.find(u=>u.code==g.args.itemCode).name_en})}),o}async function Gs(s){let o=[],i=[];s.forEach(function(g){i.findIndex(u=>u.block==g.block)==-1?i.push({block:g.block,blockTotal:1}):i.find(u=>u.block==g.block).blockTotal+=1});let m=i[0].block,h=(await Ve.getBlock(m)).timestamp,_=i[i.length-1].block,R=(await Ve.getBlock(_)).timestamp,T=0;_>m&&(T=(R-h)/(_-m)),i.forEach(function(g){g.timestamp=h+(g.block-m)*T});const d=Le();return d.heros||await d.initHeros(),s.forEach(function(g){let u=i.find(x=>x.block==g.block).timestamp;o.push({tokenId:g.hero,grade:d.heros.find(x=>x.code==g.hero).grade,type:d.heros.find(x=>x.code==g.hero).type,timestamp:u,hour:ye.unix(u).hour(),blockNumber:g.block,name_cn:d.heros.find(x=>x.code==g.hero).name_cn,name_en:d.heros.find(x=>x.code==g.hero).name_en})}),o}let Ge;function Ws(s){let o=parseInt(s/100),i="";switch(o){case 1:i="N";break;case 2:i="R";break;case 3:i="SR";break;case 4:i="SSR";break;case 6:i="SSSR";break}return i}function js(s){const{proxy:o}=Ie();Ge=o.$echarts.init(document.getElementById(s)),Ge.showLoading()}async function rt(s){let o=[],i=[],m=[],h=[],_=[];s.forEach(g=>{let u=parseInt(g.itemCode/100)*100+g.itemCode%100*8,x=[g.timestamp,u,g.initPower,g.tokenId,g.owner,g.itemCode,g.name_en,g.name_cn];switch(g.itemGrade){case 1:o.push(x);break;case 2:i.push(x);break;case 3:m.push(x);break;case 4:h.push(x);break;case 5:_.push(x);break}});const R=[{name:"timestamp",index:0,text:"Time"},{name:"itemCode",index:1,text:"Type"},{name:"initPower",index:2,text:"Power"},{name:"tokenId",index:3,text:"ID"},{name:"owner",index:4,text:"Owner"}],T={opacity:.8,shadowBlur:10,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"rgba(0,0,0,0.3)"};let d={color:["#6e6e6e","#48c64c","#2d8eec","#9554fd","#ff7105"],tooltip:{},legend:{top:10,data:["N","R","SR","SSR","SSSR"],textStyle:{fontSize:16}},tooltip:{backgroundColor:"rgba(255,255,255,0.7)",formatter:function(g){var u=g.value;return'<image style="width:80px;height:80px;" src=https://images.tinyworlds.io/hero/'+u[5]+".png><br>"+u[6]+"("+u[7]+")<br>"+R[0].text+"\uFF1A"+ye.unix(u[0]).format("HH:mm")+"<br>"+R[2].text+"\uFF1A"+u[2]+"<br>"+R[4].text+"\uFF1A"+mt(u[4])+"<br>"}},xAxis:{type:"time",splitNumber:4,axisLabel:{formatter:function(g,u){return ye.unix(g).format("HH:mm")}},boundaryGap:["0","0"],splitLine:{show:!0}},yAxis:{type:"value",axisLabel:{formatter:function(g,u){return Ws(g)}},splitLine:{show:!0}},series:[{name:"N",type:"scatter",itemStyle:T,data:o},{name:"R",type:"scatter",itemStyle:T,data:i},{name:"SR",type:"scatter",itemStyle:T,data:m},{name:"SSR",type:"scatter",itemStyle:T,data:h},{name:"SSSR",type:"scatter",itemStyle:T,data:_}],dataZoom:{orient:"horizontal",start:75}};Ge.hideLoading(),Ge.setOption(d)}const Ye={props:{address:String},setup(s){const o=s,i=je(),m=L(!1),h=L(o.address),_=[{id:1,text:F.global.t("callhero.openbox_more"),code:h.value,icon:"label-o"},{id:2,text:"Bscscan.com",code:h.value,icon:"share-o"}],R=T=>{if(T.id==1&&i.push("/calladdress/"+T.code),T.id==2){let d="https://bscscan.com/address/"+T.code;window.open(d,"_blank")}};return(T,d)=>{const g=w("van-popover");return c(),te(g,{show:m.value,"onUpdate:show":d[0]||(d[0]=u=>m.value=u),actions:_,onSelect:R,placement:"top-start"},{reference:a(()=>[n("span",null,e(l(mt)(h.value)),1)]),_:1},8,["show"])}}};const Us=s=>(Pe("data-v-a0bc41fa"),s=s(),Me(),s),Ks={class:"margin-right-xs"},Xs={key:0},Zs={key:1},Qs={style:{width:"90%"},class:"text-gray text-df text-left"},el={style:{width:"90%"},class:"margin-top-xs"},tl={key:0,class:"text-orange text-sl"},al={key:1,class:"text-purple text-sl"},nl={key:2,class:"text-blue text-sl"},sl={key:3,class:"text-green text-sl"},ll={key:4,class:"text-grey text-sl"},ol={style:{width:"90%"},class:"text-left margin-top-xs"},il={class:"text-gray text-sm"},rl={key:0,class:"text-black text-sm margin-left-xs"},cl={style:{width:"90%"},class:"text-left margin-top-xs"},ul={class:"text-gray text-sm"},dl={class:"text-black text-sm margin-left-xs"},pl={style:{width:"90%"},class:"text-left margin-top-xs"},ml={class:"text-gray text-sm"},_l={class:"text-black text-sm margin-left-xs"},gl={class:"text-gray text-sm margin-left-xs"},yl={class:"text-black text-sm margin-left-xs"},fl={style:{width:"90%"},class:"text-grey text-df text-right"},hl={class:"margin-left-xs text-gray"},vl={class:"text-df text-gray"},xl={class:"text-df text-gray"},bl={class:"text-df text-gray"},kl=y("SSSR"),wl={class:"text-df text-block"},$l={class:"text-df text-grey"},Tl=y("SSR"),Sl={class:"text-df text-block"},ql={class:"text-df text-grey"},Il=y("SR"),Cl={class:"text-df text-block"},Nl={class:"text-df text-grey"},Rl={key:0,class:"text-orange margin-left-xs"},Al={key:1,class:"text-purple margin-left-xs"},Ol={key:2,class:"text-blue margin-left-xs"},El={key:3,class:"text-green margin-left-xs"},Fl={key:4,class:"text-grey margin-left-xs"},Vl={class:"margin text-center"},Pl=Us(()=>n("div",{id:"nftPointChart"},null,-1)),Ml={key:0,class:"text-orange margin-left-xs"},Ll={key:1,class:"text-purple margin-left-xs"},Jl={key:2,class:"text-blue margin-left-xs"},Bl={key:3,class:"text-green margin-left-xs"},zl={key:4,class:"text-grey margin-left-xs"},Hl={class:"margin text-center"},Dl={key:0,class:"text-orange margin-left-xs"},Yl={key:1,class:"text-purple margin-left-xs"},Gl={key:2,class:"text-blue margin-left-xs"},Wl={key:3,class:"text-green margin-left-xs"},jl={key:4,class:"text-grey margin-left-xs"},Ul={class:"margin text-center"},Kl={setup(s){const o=je(),i="https://scf-deploy-ap-hongkong-1258577806.cos.ap-hongkong.myqcloud.com/tinyworlds/callhero/",m=Ue(),h=L(!1),{proxy:_}=Ie(),R=L(""),T=p=>{o.push("/calladdress/"+p)},d=[{text:_.$dayjs.utc().format("YYYY/MM/DD"),index:0},{text:_.$dayjs.utc().subtract(1,"day").format("YYYY/MM/DD"),index:1},{text:_.$dayjs.utc().subtract(2,"day").format("YYYY/MM/DD"),index:2},{text:_.$dayjs.utc().subtract(3,"day").format("YYYY/MM/DD"),index:3},{text:_.$dayjs.utc().subtract(4,"day").format("YYYY/MM/DD"),index:4}],g=L(!1),u=L(0),x=async p=>{u.value=p.index;let B=_.$dayjs.utc();p.index>0&&(B=_.$dayjs.utc().subtract(p.index,"day")),await ce(B)};let S,I=[16,37,155,650,4888];const b=L(""),$=L(""),C=L(0),K=L(0);let U=L(0),Y=L([]),V=he({sssr:[],ssr:[],sr:[]}),r=he({last:[],luck:[],bad:[]}),W=he({last:5,luck:5,bad:5}),X=De.filters.Mint(),re=1;const E=(p,B)=>{W[p]+=B},ae=p=>{W[p]=5};ke(async()=>{js("nftPointChart"),m.pools||await m.initPools(),re=parseFloat(m.pools.price.TINC).toFixed(2),await ce(_.$dayjs.utc())}),Mt(async()=>{De.removeAllListeners()});const ce=async p=>{h.value=!1;let B=[];Y.value=[],S&&clearInterval(S);let N=i+p.format("YYYYMM")+"/"+p.format("YYYYMMDD")+".json?="+p.format("YYYYMMDDHH");const Q=await be(N);if(Q.data.length>0&&(B.push(...Q.data),$.value=ye.unix(Q.starttimestamp).format("HH:mm")),h.value=!0,p.get("date")==_.$dayjs.utc().get("date")){let le=parseInt(Q.endblock)+1;console.log(le);let oe=await De.queryFilter(X,le,"latest");console.log(oe);let G=[];oe.length>0&&(G=await xt(oe),B.push(...G),$.value==""&&($.value=ye.unix(B[0].timestamp).format("HH:mm"))),Y.value.push(...B),ge(B),await rt(B),S=setInterval(()=>{b.value=ye().format("HH:mm:ss")}),De.on("Mint",async(z,D,A,ie,ue,Je,we,Te,Be,Re)=>{let O=await xt([Re]);O=O.filter(ve=>ve.blockNumber>B[B.length-1].blockNumber),B.push(...O),Y.value.push(...O),ge(B),await rt(B)})}else b.value=ye.unix(Q.endtimestamp).format("HH:mm"),Y.value.push(...B),ge(B),await rt(B)},ge=p=>{V.sssr=Y.value.filter(G=>G.itemGrade==5),V.ssr=Y.value.filter(G=>G.itemGrade==4),V.sr=Y.value.filter(G=>G.itemGrade==3);let B=-1,N=-1;p.forEach((G,z)=>{G.itemGrade==5&&(B=z),G.itemGrade==4&&(N=z)}),C.value=p.length-B-1,K.value=p.length-N-1;let Q=.5+(.005-parseFloat(V.sssr.length/p.length).toFixed(4))*40+(.025-parseFloat(V.ssr.length/p.length).toFixed(4))*8+(.08-parseFloat(V.sr.length/p.length).toFixed(4))*2;U.value=parseFloat(Q*100).toFixed(2);let le=p.reduce((G,z)=>{let D=-1;if(G.length&&(D=G.findIndex(function(A){return A.owner==z.owner&&A.blockNumber==z.blockNumber})),D>=0)G[D].totalnum[0]++,G[D].totalnum[z.itemGrade]++,G[D].score+=I[z.itemGrade-1]-100*re,G[D].nfts.push(z);else{let A={owner:z.owner,score:0,totalnum:[1,0,0,0,0,0],timestamp:z.timestamp,blockNumber:z.blockNumber,nfts:[z]};A.totalnum[z.itemGrade]++,A.score+=I[z.itemGrade-1]-100*re,G.push(A)}return G},[]);le=le.sort($e("blockNumber")),r.last=le.reverse();let oe=p.reduce((G,z)=>{let D=-1;if(G.length&&(D=G.findIndex(A=>A.owner==z.owner)),D>=0)G[D].totalnum[0]++,G[D].totalnum[z.itemGrade]++,G[D].score+=I[z.itemGrade-1]-100*re,G[D].nfts.push(z);else{let A={owner:z.owner,score:0,totalnum:[1,0,0,0,0,0],nfts:[z]};A.totalnum[z.itemGrade]++,A.score+=I[z.itemGrade-1]-100*re,G.push(A)}return G},[]);oe=oe.sort($e("score")),r.bad=oe.filter(G=>G.score<0),r.luck=oe.reverse().filter(G=>G.score>0)};return(p,B)=>{const N=w("van-search"),Q=w("van-swipe-item"),le=w("van-swipe"),oe=w("van-notice-bar"),G=w("van-grid-item"),z=w("van-icon"),D=w("van-popover"),A=w("van-col"),ie=w("van-row"),ue=w("van-tag"),Je=w("van-grid"),we=w("van-cell-group"),Te=w("van-cell"),Be=w("van-loading"),Re=w("van-overlay");return c(),f(se,null,[t(N,{modelValue:R.value,"onUpdate:modelValue":B[0]||(B[0]=O=>R.value=O),placeholder:p.$t("calladdress.placeholder"),"input-align":"center",onSearch:T},null,8,["modelValue","placeholder"]),l(V).sssr.length?(c(),te(oe,{key:0,"left-icon":"volume-o",scrollable:!1},{default:a(()=>[t(le,{vertical:"",class:"notice-swipe",autoplay:3e3,"show-indicators":!1},{default:a(()=>[(c(!0),f(se,null,_e(l(V).sssr,(O,ve)=>(c(),te(Q,{key:ve},{default:a(()=>[n("span",Ks,e(l(ye).unix(O.timestamp).format("HH:mm")),1),t(Ye,{address:O.owner},null,8,["address"]),y(e(p.$t("callhero.notie_1"))+" ",1),l(F).global.locale=="zh_TW"?(c(),f("span",Xs,e(O.name_cn),1)):(c(),f("span",Zs,e(O.name_en),1)),y(" ,"+e(p.$t("callhero.notie_2"))+":"+e(O.initPower),1)]),_:2},1024))),128))]),_:1})]),_:1})):J("",!0),t(we,{inset:"",style:{"margin-top":"10px"}},{default:a(()=>[t(Je,{"column-num":"2"},{default:a(()=>[t(G,{"use-slot":""},{default:a(()=>[n("div",Qs,e(p.$t("callhero.heartIndex")),1),n("div",el,[l(U)>85?(c(),f("span",tl,e(l(U))+"%",1)):l(U)>70?(c(),f("span",al,e(l(U))+"%",1)):l(U)>50?(c(),f("span",nl,e(l(U))+"%",1)):l(U)>30?(c(),f("span",sl,e(l(U))+"%",1)):(c(),f("span",ll,e(l(U))+"%",1))]),n("div",ol,[n("span",il,e(p.$t("callhero.total_time"))+":",1),l(Y).length?(c(),f("span",rl,e($.value)+"-"+e(b.value),1)):J("",!0)]),n("div",cl,[n("span",ul,e(p.$t("callhero.total_open"))+":",1),n("span",dl,e(l(Y).length),1)]),n("div",pl,[n("span",ml,e(p.$t("callhero.no_orange"))+":",1),n("span",_l,e(C.value)+"/200",1),n("span",gl,e(p.$t("callhero.no_purple"))+":",1),n("span",yl,e(K.value)+"/40",1)])]),_:1}),t(G,{"use-slot":""},{default:a(()=>[n("div",fl,[t(D,{placement:"bottom-end",theme:"dark",show:g.value,"onUpdate:show":B[1]||(B[1]=O=>g.value=O),actions:d,onSelect:x},{reference:a(()=>[t(z,{name:"calendar-o"}),n("span",hl,e(d.find(O=>O.index==u.value).text),1)]),_:1},8,["show"])]),t(ie,{style:{width:"90%"},justify:"space-between",class:"margin-top-sm"},{default:a(()=>[t(A,{span:"8",class:"text-left"},{default:a(()=>[n("span",vl,e(p.$t("callhero.title_nft")),1)]),_:1}),t(A,{span:"8",class:"text-center"},{default:a(()=>[n("span",xl,e(p.$t("callhero.title_open")),1)]),_:1}),t(A,{span:"8",class:"text-center"},{default:a(()=>[n("span",bl,e(p.$t("callhero.title_theory")),1)]),_:1})]),_:1}),t(ie,{style:{width:"90%"},justify:"space-between",class:"margin-top-sm"},{default:a(()=>[t(A,{span:"8"},{default:a(()=>[t(ue,{color:"#ff7105"},{default:a(()=>[kl]),_:1})]),_:1}),t(A,{span:"8",class:"text-center"},{default:a(()=>[n("span",wl,e(l(V).sssr.length),1)]),_:1}),t(A,{span:"8",class:"text-center"},{default:a(()=>[n("span",$l,e(parseInt(l(Y).length*.005)),1)]),_:1})]),_:1}),t(ie,{style:{width:"90%"},justify:"space-between",class:"margin-top-sm"},{default:a(()=>[t(A,{span:"8"},{default:a(()=>[t(ue,{color:"#9554fd"},{default:a(()=>[Tl]),_:1})]),_:1}),t(A,{span:"8",class:"text-center"},{default:a(()=>[n("span",Sl,e(l(V).ssr.length),1)]),_:1}),t(A,{span:"8",class:"text-center"},{default:a(()=>[n("span",ql,e(parseInt(l(Y).length*.025)),1)]),_:1})]),_:1}),t(ie,{style:{width:"90%"},justify:"space-between",class:"margin-top-sm"},{default:a(()=>[t(A,{span:"8"},{default:a(()=>[t(ue,{color:"#2d8eec"},{default:a(()=>[Il]),_:1})]),_:1}),t(A,{span:"8",class:"text-center"},{default:a(()=>[n("span",Cl,e(l(V).sr.length),1)]),_:1}),t(A,{span:"8",class:"text-center"},{default:a(()=>[n("span",Nl,e(parseInt(l(Y).length*.08)),1)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),t(we,{inset:"",style:{"margin-top":"10px"}},{default:a(()=>[t(Te,{title:p.$t("callhero.list_last"),icon:"label-o"},{value:a(()=>[l(W).last>5?(c(),f("span",{key:0,onClick:B[2]||(B[2]=O=>ae("last"))},e(p.$t("common.show_only_5")),1)):J("",!0)]),_:1},8,["title"]),t(ie,{justify:"center",class:"margin-top-sm text-center"},{default:a(()=>[t(A,{span:"4",class:"text-df text-gray"},{default:a(()=>[y(e(p.$t("callhero.list_time")),1)]),_:1}),t(A,{span:"6",class:"text-df text-gray"},{default:a(()=>[y(e(p.$t("callhero.list_address")),1)]),_:1}),t(A,{span:"12",class:"text-df text-gray"},{default:a(()=>[y(e(p.$t("callhero.list_grades")),1)]),_:1}),t(A,{span:"2",class:"text-df text-gray"},{default:a(()=>[y(e(p.$t("callhero.list_total")),1)]),_:1})]),_:1}),(c(!0),f(se,null,_e(l(r).last.slice(0,l(W).last),(O,ve)=>(c(),te(ie,{justify:"center",class:"margin-top-sm text-center solid-top",key:ve+O.owner},{default:a(()=>[t(A,{span:"4",class:"margin-top"},{default:a(()=>[y(e(l(ye).unix(O.timestamp).format("HH:mm")),1)]),_:2},1024),t(A,{span:"6",class:"margin-top"},{default:a(()=>[t(Ye,{address:O.owner},null,8,["address"])]),_:2},1024),t(A,{span:"12",class:"margin-top"},{default:a(()=>[O.totalnum[5]?(c(),f("span",Rl,e(O.totalnum[5])+"sssr",1)):J("",!0),O.totalnum[4]?(c(),f("span",Al,e(O.totalnum[4])+"ssr",1)):J("",!0),O.totalnum[3]?(c(),f("span",Ol,e(O.totalnum[3])+"sr",1)):J("",!0),O.totalnum[2]?(c(),f("span",El,e(O.totalnum[2])+"r",1)):J("",!0),O.totalnum[1]?(c(),f("span",Fl,e(O.totalnum[1])+"n",1)):J("",!0)]),_:2},1024),t(A,{span:"2",class:"margin-top"},{default:a(()=>[y(e(O.totalnum[0]),1)]),_:2},1024)]),_:2},1024))),128)),n("div",Vl,[l(W).last<l(r).last.length?(c(),f("span",{key:0,class:"text-gray",onClick:B[3]||(B[3]=O=>E("last",5))},e(p.$t("common.add_more")),1)):J("",!0)])]),_:1}),t(we,{inset:"",style:{"margin-top":"10px"}},{default:a(()=>[t(Te,{title:p.$t("callhero.open_trend"),icon:"bar-chart-o"},null,8,["title"]),Pl]),_:1}),t(we,{inset:"",style:{"margin-top":"10px"}},{default:a(()=>[t(Te,{title:p.$t("callhero.list_luck"),icon:"good-job-o"},{value:a(()=>[l(W).luck>5?(c(),f("span",{key:0,onClick:B[4]||(B[4]=O=>ae("luck"))},e(p.$t("common.show_only_5")),1)):J("",!0)]),_:1},8,["title"]),t(ie,{justify:"center",class:"margin-top-sm text-center"},{default:a(()=>[t(A,{span:"8",class:"text-df text-gray"},{default:a(()=>[y(e(p.$t("callhero.list_address")),1)]),_:1}),t(A,{span:"12",class:"text-df text-gray"},{default:a(()=>[y(e(p.$t("callhero.list_grades")),1)]),_:1}),t(A,{span:"4",class:"text-df text-gray"},{default:a(()=>[y(e(p.$t("callhero.list_total")),1)]),_:1})]),_:1}),(c(!0),f(se,null,_e(l(r).luck.slice(0,l(W).luck),(O,ve)=>(c(),te(ie,{justify:"center",class:"margin-top-sm text-center solid-top",key:ve},{default:a(()=>[t(A,{span:"8",class:"margin-top"},{default:a(()=>[t(Ye,{address:O.owner},null,8,["address"])]),_:2},1024),t(A,{span:"12",class:"margin-top"},{default:a(()=>[O.totalnum[5]?(c(),f("span",Ml,e(O.totalnum[5])+"sssr",1)):J("",!0),O.totalnum[4]?(c(),f("span",Ll,e(O.totalnum[4])+"ssr",1)):J("",!0),O.totalnum[3]?(c(),f("span",Jl,e(O.totalnum[3])+"sr",1)):J("",!0),O.totalnum[2]?(c(),f("span",Bl,e(O.totalnum[2])+"r",1)):J("",!0),O.totalnum[1]?(c(),f("span",zl,e(O.totalnum[1])+"n",1)):J("",!0)]),_:2},1024),t(A,{span:"4",class:"margin-top"},{default:a(()=>[y(e(O.totalnum[0]),1)]),_:2},1024)]),_:2},1024))),128)),n("div",Hl,[l(W).luck<l(r).luck.length?(c(),f("span",{key:0,class:"text-gray",onClick:B[5]||(B[5]=O=>E("luck",5))},e(p.$t("common.add_more")),1)):J("",!0)])]),_:1}),t(we,{inset:"",style:{"margin-top":"10px"}},{default:a(()=>[t(Te,{title:p.$t("callhero.list_bad"),icon:"medal-o"},{value:a(()=>[l(W).bad>5?(c(),f("span",{key:0,onClick:B[6]||(B[6]=O=>ae("bad"))},e(p.$t("common.show_only_5")),1)):J("",!0)]),_:1},8,["title"]),t(ie,{justify:"center",class:"margin-top-sm text-center"},{default:a(()=>[t(A,{span:"8",class:"text-df text-gray"},{default:a(()=>[y(e(p.$t("callhero.list_address")),1)]),_:1}),t(A,{span:"12",class:"text-df text-gray"},{default:a(()=>[y(e(p.$t("callhero.list_grades")),1)]),_:1}),t(A,{span:"4",class:"text-df text-gray"},{default:a(()=>[y(e(p.$t("callhero.list_total")),1)]),_:1})]),_:1}),(c(!0),f(se,null,_e(l(r).bad.slice(0,l(W).bad),(O,ve)=>(c(),te(ie,{justify:"center",class:"margin-top-sm text-center solid-top",key:ve},{default:a(()=>[t(A,{span:"8",class:"margin-top"},{default:a(()=>[t(Ye,{address:O.owner},null,8,["address"])]),_:2},1024),t(A,{span:"12",class:"margin-top"},{default:a(()=>[O.totalnum[5]?(c(),f("span",Dl,e(O.totalnum[5])+"sssr",1)):J("",!0),O.totalnum[4]?(c(),f("span",Yl,e(O.totalnum[4])+"ssr",1)):J("",!0),O.totalnum[3]?(c(),f("span",Gl,e(O.totalnum[3])+"sr",1)):J("",!0),O.totalnum[2]?(c(),f("span",Wl,e(O.totalnum[2])+"r",1)):J("",!0),O.totalnum[1]?(c(),f("span",jl,e(O.totalnum[1])+"n",1)):J("",!0)]),_:2},1024),t(A,{span:"4",class:"margin-top"},{default:a(()=>[y(e(O.totalnum[0]),1)]),_:2},1024)]),_:2},1024))),128)),n("div",Ul,[l(W).bad<l(r).bad.length?(c(),f("span",{key:0,class:"text-gray",onClick:B[7]||(B[7]=O=>E("bad",5))},e(p.$t("common.add_more")),1)):J("",!0)])]),_:1}),t(Re,{show:!h.value},{default:a(()=>[t(Be,{class:"margin-top-xl padding-top-xl text-center"},{default:a(()=>[y(e(p.$t("common.loading")),1)]),_:1})]),_:1},8,["show"])],64)}}};var Xl=Ce(Kl,[["__scopeId","data-v-a0bc41fa"]]);const Zl=s=>(Pe("data-v-75d88c70"),s=s(),Me(),s),Ql={class:"margin-top"},eo=["onClick"],to={class:"cu-tag radius text-xl text-grey fl margin-top-sm"},ao={class:"cu-avatar-group margin-bottom-sm fl"},no={class:"fl text-df text-gray margin-left-sm"},so={class:"playername"},lo={class:"text-sm"},oo={class:"text-black"},io={class:"margin-left-sm"},ro={class:"text-black"},co={class:"text-orange text-lg"},uo=Zl(()=>n("span",{class:"text-sm text-gray margin-right"},"Tinc",-1)),po={setup(s){const o=Ke(),i=je(),m=L([]),h=L([]),_=10;ke(async()=>{o.ranking_city||await o.initRankingCity(),h.value=o.ranking_city.all,R()});function R(){m.values=[];for(let d=1;d<h.value.length;d+=_)m.value.push(d)}const T=d=>{console.log(d),i.push({name:"Predict",params:{playerId:d}})};return(d,g)=>{const u=w("van-index-anchor"),x=w("van-cell"),S=w("van-index-bar");return c(),f("div",Ql,[h.value.length>=400?(c(),te(S,{key:0,"index-list":m.value,"sticky-offset-top":40},{default:a(()=>[(c(!0),f(se,null,_e(m.value,I=>(c(),f(se,{key:I},[t(u,{index:I},{default:a(()=>[y(e(I)+"-"+e(parseInt(I)+_-1),1)]),_:2},1032,["index"]),(c(!0),f(se,null,_e(h.value.slice(parseInt(I)-1,parseInt(I)+_-1),b=>(c(),te(x,{key:b,class:"solid-bottom"},{title:a(()=>[n("div",{onClick:$=>T(b.playerId)},[n("span",to,e(b.rankIndex),1),n("div",ao,[(c(!0),f(se,null,_e(b.data.filter($=>$.hero.code>0),$=>(c(),f("div",{class:"cu-avatar round",key:$,style:Fe([{backgroundImage:"url(https://images.tinyworlds.io/hero/"+$.hero.code+".png)",backgroundColor:l(dt).find(C=>C.code==100*parseInt($.hero.code/100)).rgb}])},null,4))),128))]),n("div",no,[n("div",so,e(b.title_cn),1),n("div",lo,[y(e(d.$t("predict.castle_floor"))+":",1),n("span",oo,e(parseInt(b.scoreValue)),1),n("span",io,e(d.$t("predict.real_time"))+":",1),n("span",ro,e(parseInt(b.cityCapability)),1)])])],8,eo)]),"right-icon":a(()=>[n("div",null,[n("span",co,e(b.prizeAmount),1),uo])]),_:2},1024))),128))],64))),128))]),_:1},8,["index-list"])):J("",!0)])}}};var mo=Ce(po,[["__scopeId","data-v-75d88c70"]]);let We;function _o(s){const{proxy:o}=Ie();We=o.$echarts.init(document.getElementById(s)),We.showLoading()}async function go(s){const o=[{title:"N",value:1},{title:"R",value:2},{title:"SR",value:3},{title:"SSR",value:4},{title:"SSSR",value:5}],i=["#6e6e6e","#48c64c","#2d8eec","#9554fd","#ff7105"],m=[[23,0],[1,2],[3,4],[5,6],[7,8],[9,10],[11,12],[13,14],[15,16],[17,18],[19,20],[21,22]],h="#2E2733",_={star5:{color:i[4]},star4:{color:i[3]},star3:{color:i[2]},star2:{color:i[1]},star1:{color:i[0]}};let R=[{name:"\u65E5\u5347",children:[{name:"\u5B50\u9F20"},{name:"\u4E11\u725B"},{name:"\u5BC5\u864E"},{name:"\u536F\u5154"},{name:"\u8FB0\u9F8D"},{name:"\u5DF3\u86C7"}]},{name:"\u65E5\u4EC4",children:[{name:"\u5348\u99AC"},{name:"\u672A\u7F8A"},{name:"\u7533\u7334"},{name:"\u9149\u96DE"},{name:"\u620C\u72D7"},{name:"\u4EA5\u8C6C"}]}],T=[{name:"AM",children:[{name:"23-1"},{name:"1-3"},{name:"3-5"},{name:"5-7"},{name:"7-9"},{name:"9-11"}]},{name:"PM",children:[{name:"11-13"},{name:"13-15"},{name:"15-17"},{name:"17-19"},{name:"19-21"},{name:"21-23"}]}],d=F.global.locale=="zh_TW"?R:T,g=[],u=[{grade:1,range:0,max_length:0},{grade:1,range:0,max_length:0}];for(let S=0;S<=11;S++){let I=[];const b=s.filter(C=>C.hour==m[S][0]||C.hour==m[S][1]);let $={grade:1,range:0,max_length:b.length,hour:S};o.forEach(C=>{const K=b.filter(U=>U.grade==C.value);if(K.length>0){I.push({name:C.title,children:[{name:K.length}]});const U=K.length/b.length,Y=Ys.find(r=>r.type==C.value).odds,V=parseFloat((U-Y)/Y).toFixed(4);V>$.range&&($.grade=C.value,$.range=V)}}),g.push($),S<6?(d[0].children[S].children=I,d[0].children[S].itemStyle={color:i[$.grade-1]},$.max_length>u[0].max_length&&(u[0]=$)):(d[1].children[S-6].children=I,d[1].children[S-6].itemStyle={color:i[$.grade-1]},$.max_length>u[1].max_length&&(u[1]=$))}d[0].itemStyle={color:i[u[0].grade-1]},d[1].itemStyle={color:i[u[1].grade-1]};for(let S=0;S<d.length;++S){let I=d[S].children;for(let b=0;b<I.length;++b){let $=I[b].children,C=[],K;for(let U=0;U<$.length;++U){let Y=function(V){switch(V){case"SSSR":return K=0,_.star5;case"SSR":return K=1,_.star4;case"SR":return K=2,_.star3;case"R":return K=3,_.star2;case"N":return K=4,_.star1}}($[U].name);$[U].label={color:Y.color,downplay:{opacity:.5}},$[U].children&&(Y={opacity:1,color:Y.color},$[U].children.forEach(function(V){V.value=1,V.itemStyle=Y,V.label={color:Y.color};let r=1;(K===0||K===3)&&(r=5),C[K]?C[K].value+=r:C[K]={color:i[K],value:r}}))}}}let x={backgroundColor:h,color:i,series:[{type:"sunburst",center:["50%","48%"],data:d,sort:function(S,I){return S.depth===1?I.getValue()-S.getValue():S.dataIndex-I.dataIndex},label:{rotate:"radial",color:h},itemStyle:{borderColor:h,borderWidth:2},levels:[{},{r0:0,r:40,label:{rotate:0}},{r0:40,r:105},{r0:115,r:140,itemStyle:{shadowBlur:2,shadowColor:i[2],color:"transparent"},label:{rotate:"tangential",fontSize:10,color:i[0]}},{r0:140,r:145,itemStyle:{shadowBlur:80,shadowColor:i[0]},label:{position:"outside",textShadowBlur:5,textShadowColor:"#333"},downplay:{label:{opacity:.5}}}]}]};return We.hideLoading(),We.setOption(x),g}const yo=[{name:"Ethereum Mainnet",short_name:"eth",chain:"ETH",network:"mainnet",chain_id:1,network_id:1,rpc_url:"https://mainnet.infura.io/v3/%API_KEY%",native_currency:{symbol:"ETH",name:"Ethereum",decimals:"18",contractAddress:"",balance:""}},{name:"Ethereum Ropsten",short_name:"rop",chain:"ETH",network:"ropsten",chain_id:3,network_id:3,rpc_url:"https://ropsten.infura.io/v3/%API_KEY%",native_currency:{symbol:"ETH",name:"Ethereum",decimals:"18",contractAddress:"",balance:""}},{name:"Ethereum Rinkeby",short_name:"rin",chain:"ETH",network:"rinkeby",chain_id:4,network_id:4,rpc_url:"https://rinkeby.infura.io/v3/%API_KEY%",native_currency:{symbol:"ETH",name:"Ethereum",decimals:"18",contractAddress:"",balance:""}},{name:"Ethereum G\xF6rli",short_name:"gor",chain:"ETH",network:"goerli",chain_id:5,network_id:5,rpc_url:"https://goerli.infura.io/v3/%API_KEY%",native_currency:{symbol:"ETH",name:"Ethereum",decimals:"18",contractAddress:"",balance:""}},{name:"RSK Mainnet",short_name:"rsk",chain:"RSK",network:"mainnet",chain_id:30,network_id:30,rpc_url:"https://public-node.rsk.co",native_currency:{symbol:"RSK",name:"RSK",decimals:"18",contractAddress:"",balance:""}},{name:"Ethereum Kovan",short_name:"kov",chain:"ETH",network:"kovan",chain_id:42,network_id:42,rpc_url:"https://kovan.infura.io/v3/%API_KEY%",native_currency:{symbol:"ETH",name:"Ethereum",decimals:"18",contractAddress:"",balance:""}},{name:"Ethereum Classic Mainnet",short_name:"etc",chain:"ETC",network:"mainnet",chain_id:61,network_id:1,rpc_url:"https://ethereumclassic.network",native_currency:{symbol:"ETH",name:"Ethereum",decimals:"18",contractAddress:"",balance:""}},{name:"POA Network Sokol",short_name:"poa",chain:"POA",network:"sokol",chain_id:77,network_id:77,rpc_url:"https://sokol.poa.network",native_currency:{symbol:"POA",name:"POA",decimals:"18",contractAddress:"",balance:""}},{name:"POA Network Core",short_name:"skl",chain:"POA",network:"core",chain_id:99,network_id:99,rpc_url:"https://core.poa.network",native_currency:{symbol:"POA",name:"POA",decimals:"18",contractAddress:"",balance:""}},{name:"xDAI Chain",short_name:"xdai",chain:"POA",network:"dai",chain_id:100,network_id:100,rpc_url:"https://dai.poa.network",native_currency:{symbol:"xDAI",name:"xDAI",decimals:"18",contractAddress:"",balance:""}},{name:"Callisto Mainnet",short_name:"clo",chain:"callisto",network:"mainnet",chain_id:820,network_id:1,rpc_url:"https://clo-geth.0xinfra.com/",native_currency:{symbol:"CLO",name:"CLO",decimals:"18",contractAddress:"",balance:""}},{name:"Binance Smart Chain",short_name:"bsc",chain:"smartchain",network:"mainnet",chain_id:56,network_id:56,rpc_url:"https://bsc-dataseed1.defibit.io/",native_currency:{symbol:"BNB",name:"BNB",decimals:"18",contractAddress:"",balance:""}}];function fo(s){const o=yo.filter(m=>m.chain_id===s)[0];if(console.log(s),!o)throw new Error("ChainId missing or not supported");const i={}.REACT_APP_INFURA_ID;if(o.rpc_url.includes("infura.io")&&o.rpc_url.includes("%API_KEY%")&&i){const m=o.rpc_url.replace("%API_KEY%",i);return ot(He({},o),{rpc_url:m})}return o}const ho={walletconnect:{package:Lt,options:{infuraId:"xxxxxxxxxx"}},torus:{package:Jt},fortmatic:{package:Bt,options:{key:"xxxxxxxxxx"}},authereum:{package:zt},bitski:{package:Ht,options:{clientId:"xxxxxxxxxx",callbackUrl:`${window.location.href}bitski-callback.html`}}},ct={web3:null,provider:null,userAddress:"",connected:!1,chainId:1,networkId:1};function wt(){const{ctx:s}=Ie(),o=he(He({},ct)),i=L(!1),m=L(0),h=new Dt({theme:"dark",network:fo(o.chainId).network,cacheProvider:!0,providerOptions:ho}),_=async()=>{const{web3:u}=o;u&&u.currentProvider&&u.currentProvider.close&&await u.currentProvider.close(),h.clearCachedProvider(),m.value=0,Object.keys(ct).forEach(x=>{o[x]=ct[x]}),s.$forceUpdate()},R=()=>o.web3.eth.getBalance(o.userAddress).then(u=>u?ut.utils.fromWei(u.toString(),"ether"):0),T=async()=>{i.value=!0,m.value=await R()},d=async u=>{!u.on||(u.on("close",()=>_()),u.on("accountsChanged",async x=>{o.userAddress=x[0],await T()}),u.on("chainChanged",async x=>{var I,b;console.log("333",x);const S=await((b=(I=o==null?void 0:o.web3)==null?void 0:I.eth)==null?void 0:b.net.getId());o.chainId=x,o.networkId=S,await T()}))},g=async()=>{const u=await h.connect();await d(u);const x=new ut(u),I=(await x.eth.getAccounts())[0],b=await x.eth.net.getId(),$=await x.eth.getChainId();o.web3=x,o.provider=u,o.connected=!0,o.userAddress=I,o.chainId=$,o.networkId=b,await T()};return ot(He({},Yt(o)),{fetching:i,assets:m,resetApp:_,getAccountAssets:T,web3Modal:h,onConnect:g})}const Ne=s=>(Pe("data-v-7b21605a"),s=s(),Me(),s),vo={key:0,class:"text-center margin-top"},xo={class:"text-center text-df text-grey"},bo={class:"text-center text-lg text-gray margin-top-xs"},ko={class:"text-center text-df margin-tb-xs"},wo={class:"cu-tag radius light bg-white padding-lr"},$o={class:"text-center text-sm text-gray"},To={class:"text-center text-sl text-black"},So={class:"text-center text-sm text-gray"},qo={class:"text-center text-sl"},Io={key:0,class:"text-orange"},Co={key:1,class:"text-purple"},No={key:2,class:"text-blue"},Ro={key:3,class:"text-green"},Ao={key:4,class:"text-grey"},Oo={class:"text-center text-lg text-orange margin-bottom-xs"},Eo={class:"text-center text-df text-gray"},Fo={key:0,class:"text-orange"},Vo={key:1,class:"text-orange"},Po=Ne(()=>n("div",{class:"text-center text-sm text-gray margin-top-xs"},"SSSR",-1)),Mo={class:"text-center text-lg text-purple margin-bottom-xs"},Lo={class:"text-center text-df text-gray"},Jo={key:0,class:"text-purple"},Bo={key:1,class:"text-purple"},zo=Ne(()=>n("div",{class:"text-center text-sm text-gray margin-top-xs"},"SSR",-1)),Ho={class:"text-center text-lg text-blue margin-bottom-xs"},Do={class:"text-center text-df text-gray"},Yo={key:0,class:"text-blue"},Go={key:1,class:"text-blue"},Wo=Ne(()=>n("div",{class:"text-center text-sm text-gray margin-top-xs"},"SR",-1)),jo={class:"text-center text-lg text-green margin-bottom-xs"},Uo={class:"text-center text-df text-gray"},Ko={key:0,class:"text-green"},Xo={key:1,class:"text-green"},Zo=Ne(()=>n("div",{class:"text-center text-sm text-gray margin-top-xs"},"R",-1)),Qo={class:"text-center text-lg text-grey margin-bottom-xs"},ei={class:"text-center text-df text-gray"},ti={key:0,class:"text-grey"},ai={key:1,class:"text-grey"},ni=Ne(()=>n("div",{class:"text-center text-sm text-gray margin-top-xs"},"N",-1)),si={class:"margin text-df text-gray"},li={class:"text-center margin-top-xs"},oi={class:"text-lg text-orange margin-right-sm"},ii={class:"text-orange"},ri={class:"text-center margin-top-xs"},ci={key:0,class:"text-center margin-top-xs"},ui={class:"text-lg text-black margin-right-sm"},di={class:"text-black"},pi=Ne(()=>n("div",{id:"nftPieChart",class:"text-center"},null,-1)),mi={key:0,class:"text-orange margin-left-xs"},_i={key:1,class:"text-purple margin-left-xs"},gi={key:2,class:"text-blue margin-left-xs"},yi={key:3,class:"text-green margin-left-xs"},fi={key:4,class:"text-grey margin-left-xs"},hi={class:"margin text-center"},vi={setup(s){const o="https://service-71y1ipws-1258577806.hk.apigw.tencentcs.com/box/",{proxy:i}=Ie(),{onConnect:m,connected:h,userAddress:_}=wt();let R=he({history:5});const T=bt(),d=L(!1),g=L(""),u=L(""),x=L([]),S=L(0),I=[{name_cn:"\u5B50\u9F20",name_en:"Rat",value:"23-1"},{name_cn:"\u4E11\u725B",name_en:"Ox",value:"1-3"},{name_cn:"\u5BC5\u864E",name_en:"Tiger",value:"3-5"},{name_cn:"\u536F\u5154",name_en:"Hare",value:"5-7"},{name_cn:"\u8FB0\u9F8D",name_en:"Dragon",value:"7-9"},{name_cn:"\u5DF3\u86C7",name_en:"Snake",value:"9-11"},{name_cn:"\u5348\u99AC",name_en:"Horse",value:"11-13"},{name_cn:"\u672A\u7F8A",name_en:"Sheep",value:"13-15"},{name_cn:"\u7533\u7334",name_en:"Monkey",value:"15-17"},{name_cn:"\u9149\u96DE",name_en:"Cock",value:"17-19"},{name_cn:"\u620C\u72D7",name_en:"Dog",value:"19-21"},{name_cn:"\u4EA5\u8C6C",name_en:"Boar",value:"21-23"}],b=he({max_time:{name:"",value:""},max_color:{name:"",rgb:"",card:""},min_time:{name:"",value:""}}),$=he({sssr:[],ssr:[],sr:[],r:[],n:[]}),C=he({sssr:0,ssr:0,sr:0,r:0,n:0});let K=he({history:[]});const U=Ue();let Y=1,V=[16,37,155,650,4888];const r=function(E){let ae=document.getElementById(E);ae.style.width=window.innerWidth-32+"px"};ke(async()=>{r("nftPieChart"),_o("nftPieChart"),U.pools||await U.initPools(),Y=parseFloat(U.pools.price.TINC).toFixed(2),h.value||await m(),T.params&&T.params.address&&await W(T.params.address)});const W=async E=>{d.value=!0,E=="0"&&(E=_.value);let ae=Number(E);if(!isNaN(ae)&&ae>0&&ae<101){const D=await be(o+"max/"+ae);E="0x"+D[0].addr}if(!ut.utils.isAddress(E)){console.log("error address: "+E),i.$toast.fail(F.global.t("common.Invalid_address")),d.value=!1;return}const ge=(await be(o+"address/"+E)).data;if(u.value=E,ge.length==0){i.$toast.fail(F.global.t("common.no_data")),d.value=!1;return}const p=await Gs(ge);x.value=p,$.sssr=x.value.filter(D=>D.grade==5),$.ssr=x.value.filter(D=>D.grade==4),$.sr=x.value.filter(D=>D.grade==3),$.r=x.value.filter(D=>D.grade==2),$.n=x.value.filter(D=>D.grade==1);let B=.6+(parseFloat($.sssr.length/x.value.length).toFixed(4)-.005)*15+(parseFloat($.ssr.length/x.value.length).toFixed(4)-.025)*4+(parseFloat($.sr.length/x.value.length).toFixed(4)-.08);console.log(B),C.sssr=parseInt(x.value.length*.005),C.ssr=parseInt(x.value.length*.025),C.sr=parseInt(x.value.length*.08),C.r=parseInt(x.value.length*.25),C.n=parseInt(x.value.length*.64),console.log("sssr: "+$.sssr.length+" ssr: "+$.ssr.length+"sr: "+$.sr.length+" r: "+$.r.length+" n: "+$.n.length),S.value=parseFloat(B*100).toFixed(2);let N=await go(p);N=N.filter(D=>D.max_length>0),N=N.sort($e("range")),N=N.sort($e("grade")),N.reverse();let Q=[{grade:1,value:0},{grade:2,value:0},{grade:3,value:0},{grade:4,value:0},{grade:5,value:0}];Q.forEach((D,A)=>{Q[A].value=N.filter(ie=>ie.grade==D.grade).length}),Q=Q.sort($e("value")),console.log(N),console.log(Q.reverse());let le=N[0].hour,oe=N[N.length-1].hour,G=fe.find(D=>D.grade==Q[0].grade);b.max_time={name:F.global.locale=="zh_TW"?I[le].name_cn:I[le].name_en,value:I[le].value},N.length>1&&(b.min_time={name:F.global.locale=="zh_TW"?I[oe].name_cn:I[oe].name_en,value:I[oe].value}),b.max_color={name:F.global.locale=="zh_TW"?G.color_cn:G.color,rgb:G.rgb,card:G.title};let z=p.reduce((D,A)=>{let ie=-1;if(D.length&&(ie=D.findIndex(function(ue){return ue.blockNumber==A.blockNumber})),ie>=0)D[ie].totalnum[0]++,D[ie].totalnum[A.grade]++,D[ie].score+=V[A.grade-1]-100*Y,D[ie].nfts.push(A);else{let ue={owner:A.owner,score:0,totalnum:[1,0,0,0,0,0],timestamp:A.timestamp,blockNumber:A.blockNumber,nfts:[A]};ue.totalnum[A.grade]++,ue.score+=V[A.grade-1]-100*Y,D.push(ue)}return D},[]);z=z.sort($e("blockNumber")),K.history=z.reverse(),d.value=!1,g.value=""},X=(E,ae)=>{R[E]+=ae},re=E=>{R[E]=5};return(E,ae)=>{const ce=w("van-search"),ge=w("van-loading"),p=w("van-empty"),B=w("van-grid-item"),N=w("van-grid"),Q=w("van-cell-group"),le=w("van-cell"),oe=w("van-col"),G=w("van-row");return c(),f(se,null,[t(ce,{modelValue:g.value,"onUpdate:modelValue":ae[0]||(ae[0]=z=>g.value=z),placeholder:E.$t("calladdress.placeholder"),"input-align":"center",onSearch:W},null,8,["modelValue","placeholder"]),d.value?(c(),f("div",vo,[t(ge,{size:"24px"},{default:a(()=>[y(e(E.$t("common.loading")),1)]),_:1})])):J("",!0),!d.value&&!x.value.length?(c(),te(p,{key:1,class:"margin-top",image:"search"},{default:a(()=>[n("div",xo,e(u.value),1),n("div",bo,e(E.$t("calladdress.no_openbox")),1)]),_:1})):J("",!0),Gt(n("div",null,[t(Q,{inset:"",style:{"margin-top":"10px"}},{default:a(()=>[n("div",ko,[n("span",wo,e(u.value),1)]),t(N,{"column-num":"2"},{default:a(()=>[t(B,{"use-slot":""},{default:a(()=>[n("div",$o,e(E.$t("calladdress.total_card")),1),n("div",To,e(x.value.length),1)]),_:1}),t(B,{"use-slot":""},{default:a(()=>[n("div",So,e(E.$t("calladdress.luck_index")),1),n("div",qo,[S.value>85?(c(),f("span",Io,e(S.value)+"%",1)):S.value>70?(c(),f("span",Co,e(S.value)+"%",1)):S.value>50?(c(),f("span",No,e(S.value)+"%",1)):S.value>30?(c(),f("span",Ro,e(S.value)+"%",1)):(c(),f("span",Ao,e(S.value)+"%",1))])]),_:1})]),_:1}),t(N,{"column-num":"5"},{default:a(()=>[t(B,{"use-slot":""},{default:a(()=>[n("div",Oo,e(l($).sssr.length),1),n("div",Eo,[y(e(l(C).sssr)+" ",1),l($).sssr.length>l(C).sssr?(c(),f("span",Fo,"+"+e(parseInt(l($).sssr.length-l(C).sssr)),1)):J("",!0),l($).sssr.length<l(C).sssr?(c(),f("span",Vo,e(parseInt(l($).sssr.length-l(C).sssr)),1)):J("",!0)]),Po]),_:1}),t(B,{"use-slot":""},{default:a(()=>[n("div",Mo,e(l($).ssr.length),1),n("div",Lo,[y(e(l(C).ssr)+" ",1),l($).ssr.length>l(C).ssr?(c(),f("span",Jo,"+"+e(parseInt(l($).ssr.length-l(C).ssr)),1)):J("",!0),l($).ssr.length<l(C).ssr?(c(),f("span",Bo,e(parseInt(l($).ssr.length-l(C).ssr)),1)):J("",!0)]),zo]),_:1}),t(B,{"use-slot":""},{default:a(()=>[n("div",Ho,e(l($).sr.length),1),n("div",Do,[y(e(l(C).sr)+" ",1),l($).sr.length>l(C).sr?(c(),f("span",Yo,"+"+e(parseInt(l($).sr.length-l(C).sr)),1)):J("",!0),l($).sr.length<l(C).sr?(c(),f("span",Go,e(parseInt(l($).sr.length-l(C).sr)),1)):J("",!0)]),Wo]),_:1}),t(B,{"use-slot":""},{default:a(()=>[n("div",jo,e(l($).r.length),1),n("div",Uo,[y(e(l(C).r)+" ",1),l($).r.length>l(C).r?(c(),f("span",Ko,"+"+e(parseInt(l($).r.length-l(C).r)),1)):J("",!0),l($).r.length<l(C).r?(c(),f("span",Xo,e(parseInt(l($).r.length-l(C).r)),1)):J("",!0)]),Zo]),_:1}),t(B,{"use-slot":""},{default:a(()=>[n("div",Qo,e(l($).n.length),1),n("div",ei,[y(e(l(C).n)+" ",1),l($).n.length>l(C).n?(c(),f("span",ti,"+"+e(parseInt(l($).n.length-l(C).n)),1)):J("",!0),l($).n.length<l(C).n?(c(),f("span",ai,e(parseInt(l($).n.length-l(C).n)),1)):J("",!0)]),ni]),_:1})]),_:1})]),_:1}),t(Q,{inset:"",style:{"margin-top":"10px"}},{default:a(()=>[t(le,{title:E.$t("calladdress.trend"),icon:"chat-o"},null,8,["title"]),n("div",si,[n("div",li,[n("span",oi,e(l(b).max_time.name),1),n("span",null,e(E.$t("calladdress.label_max_zodiac")),1),n("span",ii,e(l(b).max_time.value),1),n("span",null,e(E.$t("calladdress.label_max_range")),1)]),n("div",ri,[n("span",{class:"text-lg margin-right-sm",style:Fe("color:"+l(b).max_color.rgb)},e(l(b).max_color.name),5),n("span",null,e(E.$t("calladdress.label_luck_color")),1),n("span",{style:Fe("color:"+l(b).max_color.rgb)},e(l(b).max_color.card),5),n("span",null,e(E.$t("calladdress.label_luck_card")),1)]),l(b).min_time.name!=""?(c(),f("div",ci,[n("span",ui,e(l(b).min_time.name),1),n("span",null,e(E.$t("calladdress.label_min_zodiac")),1),n("span",di,e(l(b).min_time.value),1),n("span",null,e(E.$t("calladdress.label_min_range")),1)])):J("",!0)])]),_:1}),t(Q,{inset:"",style:{"margin-top":"10px"}},{default:a(()=>[t(le,{title:E.$t("calladdress.horoscope"),icon:"discount"},null,8,["title"]),pi]),_:1}),t(Q,{inset:"",style:{"margin-top":"10px"}},{default:a(()=>[t(le,{title:E.$t("calladdress.history"),icon:"orders-o"},{value:a(()=>[l(R).history>5?(c(),f("span",{key:0,onClick:ae[1]||(ae[1]=z=>re("history"))},e(E.$t("common.show_only_5")),1)):J("",!0)]),_:1},8,["title"]),t(G,{justify:"center",class:"margin-top-sm text-center"},{default:a(()=>[t(oe,{span:"6",class:"text-df text-gray"},{default:a(()=>[y(e(E.$t("callhero.list_date")),1)]),_:1}),t(oe,{span:"4",class:"text-df text-gray"},{default:a(()=>[y(e(E.$t("callhero.list_time")),1)]),_:1}),t(oe,{span:"12",class:"text-df text-gray"},{default:a(()=>[y(e(E.$t("callhero.list_grades")),1)]),_:1}),t(oe,{span:"2",class:"text-df text-gray"},{default:a(()=>[y(e(E.$t("callhero.list_total")),1)]),_:1})]),_:1}),(c(!0),f(se,null,_e(l(K).history.slice(0,l(R).history),(z,D)=>(c(),te(G,{justify:"center",class:"margin-top-sm text-center solid-top",key:D},{default:a(()=>[t(oe,{span:"6",class:"margin-top"},{default:a(()=>[y(e(l(ye).unix(z.timestamp).format("YYYY-MM-DD")),1)]),_:2},1024),t(oe,{span:"4",class:"margin-top"},{default:a(()=>[y(e(l(ye).unix(z.timestamp).format("HH:mm")),1)]),_:2},1024),t(oe,{span:"12",class:"margin-top"},{default:a(()=>[z.totalnum[5]?(c(),f("span",mi,e(z.totalnum[5])+"sssr",1)):J("",!0),z.totalnum[4]?(c(),f("span",_i,e(z.totalnum[4])+"ssr",1)):J("",!0),z.totalnum[3]?(c(),f("span",gi,e(z.totalnum[3])+"sr",1)):J("",!0),z.totalnum[2]?(c(),f("span",yi,e(z.totalnum[2])+"r",1)):J("",!0),z.totalnum[1]?(c(),f("span",fi,e(z.totalnum[1])+"n",1)):J("",!0)]),_:2},1024),t(oe,{span:"2",class:"margin-top"},{default:a(()=>[y(e(z.totalnum[0]),1)]),_:2},1024)]),_:2},1024))),128)),n("div",hi,[l(R).history<l(K).history.length?(c(),f("span",{key:0,class:"text-gray",onClick:ae[2]||(ae[2]=z=>X("history",5))},e(E.$t("common.add_more")),1)):J("",!0)])]),_:1})],512),[[Wt,!d.value&&x.value.length]])],64)}}};var xi=Ce(vi,[["__scopeId","data-v-7b21605a"]]);const bi=[{path:"/",name:"Home",component:kn,alias:"/home"},{path:"/baike",name:"Baike",component:Jn},{path:"/predict",name:"Predict",component:zs},{path:"/callhero",name:"Callhero",component:Xl},{path:"/playerlist",name:"Playerlist",component:mo},{path:"/calladdress/:address",name:"Calladdress",component:xi}],Ee=jt({history:Ut(),routes:bi});const ki={class:"margin-left"},wi={class:"margin text-lg text-black text-left"},$i={class:"margin text-df text-gray text-left desc"},Ti=["innerHTML"],Si={class:"margin text-df text-gray text-center"},qi={class:"margin text-lg"},Ii={class:"text-gray"},Ci={setup(s){const o=L(!1),i="0xb4B33a7018aEB0cd4aA8C6fb4609c030c91F5E89",{proxy:m}=Ie(),{toClipboard:h}=Kt(),_=ye().format("MM-DD");ke(async()=>{_!=localStorage.getItem("tinytoolsday")&&(o.value=!0)});const R=()=>{o.value=!0},T=async()=>{localStorage.setItem("tinytoolsday",_);try{await h(i),m.$toast.success(F.global.t("common.paytip_suress"))}catch(d){m.$toast.fail(d)}};return(d,g)=>{const u=w("van-button"),x=w("van-divider"),S=w("van-dialog");return c(),f(se,null,[n("span",null,e(d.$t("update.time")),1),n("div",ki,[t(u,{size:"mini",hairline:"",plain:"",round:"",type:"primary",onClick:R,class:"margin"},{default:a(()=>[y(e(d.$t("common.paytip_title")),1)]),_:1})]),t(S,{show:o.value,"onUpdate:show":g[0]||(g[0]=I=>o.value=I),title:d.$t("common.paytip_title"),showCancelButton:"",confirmButtonText:d.$t("common.paytip_btnok"),cancelButtonText:d.$t("common.paytip_cancel"),onConfirm:T},{default:a(()=>[n("div",wi,[n("span",null,e(d.$t("update.title"))+":",1)]),n("div",$i,[n("div",{innerHTML:d.$t("update.desc")},null,8,Ti)]),t(x),n("div",Si,[n("span",null,e(d.$t("common.paytip_desc")),1)]),n("div",qi,[n("span",Ii,"BSC"+e(d.$t("common.address"))+"\uFF1A",1),n("span",{class:"text-wrapper text-black"},e(i))])]),_:1},8,["show","title","confirmButtonText","cancelButtonText"])],64)}}};var Ni=Ce(Ci,[["__scopeId","data-v-7a82cd88"]]);const Ri={class:"text-gray"},Ai={key:0},Oi={class:"margin-left-xs text-gray"},Ei=n("div",{class:"van-safe-area-bottom",style:{height:"60px"}},null,-1),Fi={setup(s){const{onConnect:o,connected:i,web3:m,userAddress:h,chainId:_,networkId:R,resetApp:T,assets:d,getAccountAssets:g}=wt();F.global.locale=localStorage.getItem("langCode")||"en";const u=L(!1),x=[{text:"English",locale:"en"},{text:"\u7E41\u4F53\u4E2D\u6587",locale:"zh_TW"}],S=C=>{F.global.locale=C.locale,localStorage.setItem("langCode",C.locale),console.log(Ee.currentRoute.value)},I=Ke(),b=Le();ke(async()=>{await b.initHeros(),await I.initEquipment(),i.value||await o(),console.log("chainId",_.value)});const $=async()=>{await o(),i.value&&console.log("afterConnectdWallet",i)};return(C,K)=>{const U=w("van-icon"),Y=w("van-popover"),V=w("van-nav-bar"),r=w("van-sticky"),W=w("router-view"),X=w("van-divider"),re=w("van-tabbar-item"),E=w("van-tabbar");return c(),f(se,null,[t(r,null,{default:a(()=>[t(V,{title:!l(Ee).currentRoute.value.name||l(Ee).currentRoute.value.name=="Home"?C.$t("home.title"):C.$t("tabbar."+String(l(Ee).currentRoute.value.name).toLowerCase())},{left:a(()=>[n("div",Ri,[l(h)!=""?(c(),f("span",Ai,e(l(mt)(l(h))),1)):(c(),f("span",{key:1,onClick:$},e(C.$t("common.connect_wallet")),1))])]),right:a(()=>[t(Y,{placement:"bottom-end",theme:"dark",show:u.value,"onUpdate:show":K[0]||(K[0]=ae=>u.value=ae),actions:x,onSelect:S},{reference:a(()=>[t(U,{class:"iconfont","class-prefix":"ali-icon",name:"lvzhou_yuyanqiehuan"}),n("span",Oi,e(x.find(ae=>ae.locale==l(F).global.locale).text),1)]),_:1},8,["show"])]),_:1},8,["title"])]),_:1}),t(W),t(X,null,{default:a(()=>[y(e(C.$t("common.copyright")),1),t(Ni)]),_:1}),Ei,t(E,{route:""},{default:a(()=>[t(re,{replace:"",to:"/",icon:"home-o"},{default:a(()=>[y(e(C.$t("tabbar.home")),1)]),_:1}),t(re,{replace:"",to:"/baike"},{icon:a(()=>[t(U,{class:"iconfont","class-prefix":"ali-icon",name:"baike"})]),default:a(()=>[y(e(C.$t("tabbar.baike"))+" ",1)]),_:1}),t(re,{replace:"",to:"/predict"},{icon:a(()=>[t(U,{class:"iconfont","class-prefix":"ali-icon",name:"jisuanqi"})]),default:a(()=>[y(e(C.$t("tabbar.predict"))+" ",1)]),_:1}),t(re,{replace:"",to:"/callhero"},{icon:a(()=>[t(U,{class:"iconfont","class-prefix":"ali-icon",name:"choujiang"})]),default:a(()=>[y(e(C.$t("tabbar.callhero"))+" ",1)]),_:1})]),_:1})],64)}}},Vi=Xt();ye.extend(Zt);const Ze=Qt(Fi);Ze.config.globalProperties.$dayjs=ye;Ze.config.globalProperties.$echarts=ea;Ze.use(ta).use(aa).use(na).use(sa).use(la).use(oa).use(ia).use(ra).use(ca).use(ua).use(da).use(pa).use(ma).use(_a).use(ga).use(ya).use(fa).use(ha).use(va).use(xa).use(ba).use(ka).use(wa).use($a).use(Ta).use(Sa).use(qa).use(Ia).use(Ca).use(Na).use(Ra).use(Aa).use(Oa).use(Ea).use(Fa).use(Va).use(Pa).use(Ma).use(La).use(Ja).use(Ba).use(za).use(Ha).use(Da);Ze.use(F).use(Vi).use(Ee).mount("#app");
