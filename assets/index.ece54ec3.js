import{b as gt,p as ht,E as vt,c as bt,d as et,r as J,a as Te,o as ve,e as v,f as o,g as x,h as t,w as a,i as s,t as e,u as f,j as c,F as te,k as ie,l as Fe,m as Je,n as Y,q as H,s as ge,v as pe,x as it,y as xt,z as Xe,A as Le,J as kt,C as Tt,B as wt,D as $t,G as qt,H as St,I as Ct,K as It,L as Nt,M as Rt,T as Ot,N as Vt,O as Ft,P as Jt,Q as Lt,R as Mt,S as At,U as Et,V as Pt,W as Bt,X as zt,Y as Ht,Z as Gt,_ as Dt,$ as jt,a0 as Yt,a1 as Wt,a2 as Ut,a3 as Kt,a4 as Xt,a5 as Zt,a6 as Qt,a7 as ea,a8 as ta,a9 as aa,aa as na,ab as sa,ac as la,ad as oa,ae as ia,af as ra,ag as ua,ah as da,ai as ca,aj as pa,ak as ma,al as _a,am as ya,an as fa,ao as ga,ap as ha,aq as va}from"./vendor.a9225468.js";const ba=function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const _ of document.querySelectorAll('link[rel="modulepreload"]'))d(_);new MutationObserver(_=>{for(const y of _)if(y.type==="childList")for(const $ of y.addedNodes)$.tagName==="LINK"&&$.rel==="modulepreload"&&d($)}).observe(document,{childList:!0,subtree:!0});function i(_){const y={};return _.integrity&&(y.integrity=_.integrity),_.referrerpolicy&&(y.referrerPolicy=_.referrerpolicy),_.crossorigin==="use-credentials"?y.credentials="include":_.crossorigin==="anonymous"?y.credentials="omit":y.credentials="same-origin",y}function d(_){if(_.ep)return;_.ep=!0;const y=i(_);fetch(_.href,y)}};ba();window.Buffer=gt.Buffer;window.process=ht;window.EventEmitter=vt;const xa={en:{update:{time:"20220515",title:"Last update",desc:"2022-05-15:<br/>1.The measurement page supports reading castle ranking data.<br/>2022-05-07:<br/>1.The starting time of the card withdrawal page is 00: 00(UTC)\u3002<br/>2.Add the history of card drawing in the last 5 days.<br/>3.Increase the latest orange-free and purple-free index.<br/>2022-04-28:<br/>1.Optimize the prefabrication and configuration of heroes.<br/>2022-04-25:<br/>1.Calculation page adds optimization suggestion function.<br/>2.Fix the problem that attributes are reset to default after equipment selection level.<br/>2022-04-21:<br/>1.Calculation page adds document storage and reading function.<br/>2.Calculate the ranking of page matching leaderboard.<br/>2022-04-20:<br/>1.Add predict page.<br/>2.Add the card drawing page and click the account number to view the details on the chain.<br/>2022-04-14:<br/>1.Add equipment to the hankbook page.<br/>2.callhero list column is added to view more and only 5 cards are displayed."},common:{no_more:"There is no more",add_more:"add more ...",loading:"loading...",show_only_5:"Only 5 lines",dev_soon:"In development, please stay tuned",author:"Author",view:"View",copyright:"TINYTOOLS ",paytip_title:"Reward developers",paytip_desc:"Development is not easy, and your reward is the driving force for continuous updating!",address:"Address",paytip_btnok:"Copy the address to reward",paytip_cancel:"Cancel",paytip_suress:"Copy the address successfully!",unselect:"unselect",confirm:"confirm",cancel:"cancel",hour:"hour",minute:"minute",delete_succeed:"Delete Succeed",price:"price"},tabbar:{home:"Home",baike:"Handbook",predict:"Predict",callhero:"CallHero",nft:"NFT",game:"Game",my:"My",playerlist:"Ranking list"},home:{title:"TinyTools",tincprice:"TINC price",alltvl:"ALL TVL",tbtvl:"TINC/BNB TVL",tbapy:"TINC/BNB APY",title_tutorial:"Tutorial",title_economic:"Economic",title_link:"Official link",link_web:"Official",link_farm:"Farm",link_kingdom:"Kingdom",link_dungeons:"Dungeons"},callhero:{notie_1:"burst",notie_2:"InitPower",heartIndex:"HeartIndex",total_time:"Time",total_open:"Burst",title_nft:"NFT",title_open:"Burst",title_theory:"Theory",open_trend:"Burst Trend",list_last:"New Burst",list_luck:"Luck List",list_bad:"Contribute List",list_address:"Address",list_grades:"Grades",list_total:"Total",list_time:"Time",no_orange:"SSSR",no_purple:"SSR"},baike:{book_hero:"Hero",book_material:"Material",book_equip:"Equip"},hero:{grade_all:"All Grade",type_all:"All Type",type_1:"Warrior",type_2:"Ranger",type_3:"Wizard",init_power:"InitPower",attack:"Attack",defense:"Defense",hp:"Hp",luck:"Luck",expedition:"Expedition",hour:"Hour",crystal:"Crystal",material:"Material",flop_odds:"FlopOdds",attack_1:"Attack Desc",attack_0:"Attack Asc",defense_1:"Defense Desc",defense_0:"Defense Asc",hp_1:"Hp Desc",hp_0:"Hp Asc",luck_1:"Luck Desc",luck_0:"Luck Asc"},equip:{grade_all:"All Grade",type_all:"All Type",type_1:"weapon",type_2:"armor",type_3:"ornaments",subtype_1:"LightWeapon",subtype_2:"HeavyWeapon",subtype_3:"RangeWeapon",subtype_4:"Staff",subtype_5:"LightArmor",subtype_6:"HeavyArmor",subtype_7:"Amulet",subtype_8:"Accessory",required_level:"RequiredLevel",floor_price:"FloorPrice",no_stock:"no stock"},predict:{select_team:"Hero team",total_cell:"Ranking",select_one:"Choose one ",no_select_hero:"no hero",no_select_equip:"no equip",attribute:"attribute",value:"value",equip_add:"equip add",total:"total",current_level:"Current Level",attribute_bonus:"Attribute Bouns",attribute_adjustment:"Attribute Adjustment",choose_hero_first:"Please choose a hero first\uFF01",castle_floor:"floor",kill_enemy:"Kill",survival_time:"time",measure_one:"detail",team_file:"team document",new_document:"new document",save_document:"save team",delete_file:"delete document",delete_file_message:"Are you sure you want to delete the document",castle_ranking:"castle ranking",weekly_reward:"weekly reward",daily_income:"daily income",setting_no_save:"Empty configuration cannot be saved",setting_save_ok:"Save configuration information successfully",optimize_cell:"Optimization suggestion",promotion:"Optimization and promotion",procedure:"operating procedure",no_suggestions:"No suggestions",read_randlist:"Read leaderboard",ranklist_city:"City ranklist",real_time:"reality"}},zh_TW:{update:{time:"20220515",title:"\u6700\u8FD1\u66F4\u65B0",desc:"2022-05-15:<br/>1.\u6E2C\u7B97\u9801\u9762\u652F\u6301\u8B80\u53D6\u57CE\u5821\u6392\u884C\u699C\u6578\u64DA\u3002<br/>2022-05-07:<br/>1.\u62BD\u5361\u9801\u9762\u8D77\u59CB\u6642\u9593UTC00:00(\u6771\u516B\u5340\u537308:00)\u3002<br/>2.\u589E\u52A0\u6700\u8FD15\u5929\u62BD\u5361\u6B77\u53F2\u8A18\u9304\u67E5\u770B\u3002<br/>3.\u589E\u52A0\u6700\u65B0\u7121\u6A59\u7121\u7D2B\u6307\u6578\u3002<br/>2022-04-28:<br/>1.\u512A\u5316\u9810\u88FD\u914D\u7F6E\u82F1\u96C4\u968A\u4F0D\u3002<br/>2022-04-25:<br/>1.\u6E2C\u7B97\u9801\u9762\u6DFB\u52A0\u512A\u5316\u5EFA\u8B70\u529F\u80FD\u3002<br/>2.\u4FEE\u5FA9\u88DD\u5099\u9078\u64C7\u7B49\u7D1A\u5F8C\u5C6C\u6027\u91CD\u7F6E\u70BA\u9ED8\u8A8D\u554F\u984C\u3002<br/>2022-04-21:<br/>1.\u6E2C\u7B97\u9801\u9762\u6DFB\u52A0\u6587\u6A94\u5B58\u5132\u8B80\u53D6\u529F\u80FD\u3002<br/>2.\u6E2C\u7B97\u9801\u9762\u5339\u914D\u6392\u884C\u699C\u540D\u6B21\u3002<br/>2022-04-20:<br/>1.\u6DFB\u52A0\u6E2C\u7B97\u9801\u9762\u3002<br/>2.\u62BD\u5361\u9801\u9762\u6DFB\u52A0\u9EDE\u64CA\u8CEC\u865F\u67E5\u770B\u93C8\u4E0A\u8A73\u60C5\u3002<br/>2022-04-14:<br/>1.\u767E\u79D1\u9801\u9762\u6DFB\u52A0\u88DD\u5099\u5716\u9452\u3002<br/>2.\u62BD\u5361\u5217\u8868\u6B04\u6DFB\u52A0\u67E5\u770B\u66F4\u591A\u548C\u53EA\u986F\u793A5\u689D\u3002"},common:{no_more:"\u6C92\u6709\u66F4\u591A\u4E86",add_more:"\u52A0\u8F09\u66F4\u591A...",loading:"\u52A0\u8F09\u4E2D...",show_only_5:"\u53EA\u986F\u793A5\u884C",dev_soon:"\u958B\u767C\u4E2D\uFF0C\u656C\u8ACB\u671F\u5F85",author:"\u4F5C\u8005",view:"\u67E5\u770B",copyright:"TINYTOOLS ",paytip_title:"\u6253\u8CDE\u958B\u767C\u8005",paytip_desc:"\u958B\u767C\u4E0D\u6613\uFF0C\u60A8\u7684\u6253\u8CDE\u662F\u6301\u7E8C\u66F4\u65B0\u7684\u52D5\u529B\uFF01",address:"\u5730\u5740",paytip_btnok:"\u8907\u88FD\u5730\u5740\u53BB\u6253\u8CDE",paytip_cancel:"\u53D6\u6D88",paytip_suress:"\u8907\u88FD\u5730\u5740\u6210\u529F\uFF01",unselect:"\u53D6\u6D88\u9078\u64C7",confirm:"\u78BA\u8A8D",cancel:"\u53D6\u6D88",hour:"\u5C0F\u6642",minute:"\u5206",delete_succeed:"\u522A\u9664\u6210\u529F",price:"\u50F9\u683C"},tabbar:{home:"\u6982\u89C8",baike:"\u767E\u79D1",predict:"\u6E2C\u7B97",callhero:"\u62BD\u5361",nft:"NFT",game:"\u6E38\u620F",my:"\u6211\u7684",playerlist:"\u6392\u884C\u699C"},home:{title:"\u5C0F\u5C0F\u52A9\u624B",tincprice:"TINC \u50F9\u683C",alltvl:"\u7E3D\u9396\u5009\u50F9\u503C",tbtvl:"TINC/BNB\u9396\u5009",tbapy:"TINC/BNB\u5E74\u5316",title_tutorial:"\u6559\u7A0B\u653B\u7565",title_economic:"\u7D93\u6FDF\u6A21\u578B",title_link:"\u5B98\u65B9\u93C8\u63A5",link_web:"\u5B98\u7DB2",link_farm:"\u5C0F\u5C0F\u8FB2\u5834",link_kingdom:"\u5C0F\u5C0F\u738B\u570B",link_dungeons:"\u5730\u4E0B\u57CE"},callhero:{notie_1:"\u62BD\u51FA",notie_2:"\u521D\u59CB\u6218\u529B",heartIndex:"\u5FC3\u52D5\u6307\u6578",total_time:"\u7D71\u8A08\u6642\u9593",total_open:"\u62BD\u5361\u5408\u8A08",title_nft:"\u5361\u724C",title_open:"\u7522\u51FA",title_theory:"\u7406\u8AD6",open_trend:"\u62BD\u5361\u8DA8\u52E2\u5716",list_last:"\u6700\u65B0\u62BD\u5361",list_luck:"\u5E78\u904B\u699C",list_bad:"\u5949\u737B\u699C",list_address:"\u8CEC\u865F",list_grades:"\u6230\u7E3E",list_total:"\u6B21\u6578",list_time:"\u6642\u9593",no_orange:"\u7121\u6A59",no_purple:"\u7121\u7D2B"},baike:{book_hero:"\u82F1\u96C4\u5716\u9452",book_material:"\u6750\u6599\u5716\u9452",book_equip:"\u88DD\u5099\u5716\u9452"},hero:{grade_all:"\u5168\u90E8\u7B49\u7D1A",type_all:"\u5168\u90E8\u985E\u578B",type_1:"\u6230\u58EB",type_2:"\u904A\u4FE0",type_3:"\u6CD5\u5E2B",init_power:"\u521D\u59CB\u6230\u529B",attack:"\u653B\u64CA",defense:"\u9632\u79A6",hp:"\u751F\u547D",luck:"\u5E78\u904B",expedition:"\u9060\u5F81",hour:"\u5C0F\u6642",crystal:"\u6C34\u6676",material:"\u6750\u6599",flop_odds:"\u6389\u843D\u5E7E\u7387",attack_1:"\u653B\u64CA\u964D\u5E8F",attack_0:"\u653B\u64CA\u5347\u5E8F",defense_1:"\u9632\u79A6\u964D\u5E8F",defense_0:"\u9632\u79A6\u5347\u5E8F",hp_1:"\u751F\u547D\u964D\u5E8F",hp_0:"\u751F\u547D\u5347\u5E8F",luck_1:"\u5E78\u8FD0\u964D\u5E8F",luck_0:"\u5E78\u8FD0\u5347\u5E8F"},equip:{grade_all:"\u5168\u90E8\u7B49\u7D1A",type_all:"\u5168\u90E8\u985E\u578B",type_1:"\u6B66\u5668",type_2:"\u9632\u5177",type_3:"\u98FE\u54C1",subtype_1:"\u8F15\u6B66\u5668",subtype_2:"\u91CD\u6B66\u5668",subtype_3:"\u9060\u7A0B\u6B66\u5668",subtype_4:"\u6CD5\u8853\u6B66\u5668",subtype_5:"\u9577\u888D",subtype_6:"\u76D4\u7532",subtype_7:"\u8B77\u7B26",subtype_8:"\u98FE\u54C1",required_level:"\u7B49\u7D1A\u9700\u6C42",floor_price:"\u6700\u5E95\u50F9",no_stock:"\u7121\u8CA8"},predict:{select_team:"\u82F1\u96C4\u6230\u968A",total_cell:"\u6392\u540D\u6E2C\u7B97",select_one:"\u9078\u64C7\u4E00\u500B",no_select_hero:"\u4E0D\u9078\u64C7\u82F1\u96C4",no_select_equip:"\u4E0D\u9078\u64C7\u88DD\u5099",attribute:"\u5C6C\u6027",value:"\u6578\u503C",equip_add:"\u88DD\u5099\u52A0\u6210",total:"\u5408\u8A08",current_level:"\u7576\u524D\u7B49\u7D1A",attribute_bonus:"\u5C6C\u6027\u52A0\u6210",attribute_adjustment:"\u4FEE\u6539\u5C6C\u6027",choose_hero_first:"\u8ACB\u5148\u9078\u64C7\u82F1\u96C4\uFF01",castle_floor:"\u57CE\u5821",kill_enemy:"\u6BBA\u6575",survival_time:"\u6642\u9593",measure_one:"\u660E\u7D30",team_file:"\u914D\u7F6E\u6587\u6A94",new_document:"\u65B0\u5EFA\u6587\u6A94",save_document:"\u5B58\u5132\u914D\u7F6E",delete_file:"\u522A\u9664\u6587\u6A94",delete_file_message:"\u4F60\u78BA\u5B9A\u8981\u522A\u9664\u6587\u6A94",castle_ranking:"\u9810\u8A08\u6392\u540D",weekly_reward:"\u5468\u734E\u52F5",daily_income:"\u6298\u5408\u65E5\u6536\u76CA",setting_no_save:"\u7A7A\u914D\u7F6E\u7121\u6CD5\u5B58\u5132",setting_save_ok:"\u5B58\u5132\u914D\u7F6E\u4FE1\u606F\u6210\u529F",optimize_cell:"\u512A\u5316\u5EFA\u8B70",promotion:"\u512A\u5316\u63D0\u5347",procedure:"\u64CD\u4F5C\u6B65\u9A5F",no_suggestions:"\u66AB\u7121\u512A\u5316\u5EFA\u8B70",read_randlist:"\u8B80\u53D6\u6392\u884C\u699C",ranklist_city:"\u57CE\u5821\u6392\u884C\u699C",real_time:"\u7576\u524D"}}},R=bt({locale:"en",messages:xa});function rt(n){return n.substring(0,6)+"..."+n.substring(n.length-4,n.length)}function Oe(n){return function(r,i){var d=r[n],_=i[n];return _<d?1:_>d?-1:0}}async function ka(n,r){const i=new Request(n,{method:"post",headers:{"Content-Type":"application/json;charset=utf-8;"},body:JSON.stringify(r)});return await we(i)}async function we(n){const i=await(await fetch(n,{mode:"cors"})).text();return i?JSON.parse(i):{}}const Ta="https://api.tinyworlds.io/api/farm/pools",wa="https://api.tinyworlds.io/api/auctions/dashboard",$a="https://api.tinyworlds.io/api/runeauctions/dashboard",tt=et("tiny",{state:()=>({pools:null,autions:null,runeautions:null}),getters:{},actions:{async initPools(){this.pools=await we(Ta)},async initAutions(){this.autions=await we(wa)},async initRuneAutions(){this.runeautions=await we($a)}}}),qa=[{title_cn:"Tiny World -- \u4E2D\u6587\u4FDD\u59C6\u7EA7\u6559\u7A0B",title_en:"Tinyworld-Chinese nanny-level tutorial",desc_cn:"Tiny World \u662F\u4E00\u6B3E\u5F52\u96C6\u4E4B\u524DGameFi\u9879\u76EE\u4F18\u52BF\u4E3A\u81EA\u5DF1\u6240\u7528\u7684\u6E38\u620F",desc_en:"Tiny World is a game that collects the advantages of previous GameFi projects for your own use.",thumb:"https://www.tinyworlds.io/static/media/banner4.90355beac7b60a5bf07b.png",link:"https://jiamigou.gitbook.io/jiamigou/yuan-yu-zhou-you-xi-jiao-cheng/tiny-world-zhong-wen-bao-mu-ji-jiao-cheng",tags_cn:["\u6587\u5B57\u6559\u7A0B","gitbook"],tags_en:["Text course","gitbook"],author_cn:"\u52A0\u5BC6\u72D7",author_en:"softdog"},{title_cn:"GameFi\u6E38\u620FTiny World\u6316\u77FF\u6559\u7A0B(\u4E00)\uFF1A\u6E38\u620F\u4E0Edefi\u76F8\u7ED3\u5408",title_en:"GameFi Game Tiny World Mining Tutorial (1): Combination of Game and defi",desc_cn:"BNBchain\u4E0A\u65B0\u7684GameFi\u9879\u76EETinyWorld",desc_en:"TinyWorld, a new GameFi project on BNBchain",thumb:"https://tinyworlds.vercel.app//assets/newlist02.jpg",link:"https://www.bilibili.com/video/BV1X44y1M7vU",tags_cn:["\u89C6\u9891\u6559\u7A0B","bilibili"],tags_en:["Video tutorial","bilibili"],author_cn:"\u4F73\u4F26\u5B9E\u9A8C\u5BA4",author_en:"GallonLabs"},{title_cn:"TinyKingdom\u73A9\u6CD5\u653B\u7565 TinyWorld\u5982\u4F55PlayToEarn\u4E0E\u6E38\u620F\u517C\u987E",title_en:"TinyKingdom Play Introduction TinyWorld How to PlayToEarn with the Game",desc_cn:"\u4F11\u95F2\u6302\u673A\u6E38\u620F\uFF0C\u6536\u96C6\u66F4\u597D\u7684\u6750\u6599\uFF0C\u5408\u6210\u66F4\u5389\u5BB3\u7684\u88C5\u5907\uFF0C\u51B2\u8FDB\u6392\u884C\u699C\u524D100\u540D\u5206\u4EAB30\u4E07TINC\u5956\u52B1\u3002",desc_en:"Hang up games for leisure, collect better materials, synthesize more powerful equipment, and rush into the top 100 in the list to share 300,000 TINC rewards.",thumb:"https://tinyworlds.vercel.app/assets/newlist03.jpg",link:"https://www.bilibili.com/video/BV1Lu411z7gs",tags_cn:["\u89C6\u9891\u6559\u7A0B","bilibili"],tags_en:["Video tutorial","bilibili"],author_cn:"\u4F73\u4F26\u5B9E\u9A8C\u5BA4",author_en:"GallonLabs"}];var Sa="/assets/logo.f22f6c0a.png",Ca="/assets/logo_farm.a8811797.png",Ia="/assets/logo_kingdom.cacd5b0b.png",Na="/assets/logo_dungeons.9a00a9fa.png",Ra="/assets/gamefi.65e50883.png";var $e=(n,r)=>{const i=n.__vccOpts||n;for(const[d,_]of r)i[d]=_;return i};const Oa=n=>(Fe("data-v-2cbf09cd"),n=n(),Je(),n),Va={class:"text-left margin-left"},Fa={class:"text-gray text-df"},Ja={class:"margin-top-xs margin-left-sm"},La=Oa(()=>s("span",{class:"text-orange text-df"},"$",-1)),Ma={class:"text-orange text-sl"},Aa={class:"margin"},Ea={class:"text-lg text-gray margin-left-sm"},Pa={class:"text-gray"},Ba={class:"margin"},za={class:"text-lg text-gray margin-left-sm"},Ha={class:"margin"},Ga={class:"text-lg text-gray margin-left-sm"},Da={class:"margin-top-xs"},ja={class:"margin-top-xs"},Ya={class:"margin-top-xs"},Wa={class:"margin-top-xs"},Ua={setup(n){const r=J(Sa),i=J(Ca),d=J(Ia),_=J(Na),y=J(Ra),$=tt(),k=J(qa),m=Te({tincprice:0,alltvl:0,tbtvl:0,tbapy:0});return ve(async()=>{$.pools||await $.initPools(),m.tincprice=parseFloat($.pools.price.TINC).toFixed(2),m.alltvl=parseInt($.pools.tvlTotal),m.tbtvl=parseInt($.pools.stakeInfos["-1"].tvl);const g=parseInt($.pools.stakeInfos["-1"].baseApy*100)+parseInt($.pools.stakeInfos["-1"].cakeApr.lpRewardsApr*100);m.tbapy=parseFloat(g/81).toFixed(2)}),(g,h)=>{const L=v("van-col"),E=v("van-row"),F=v("van-cell-group"),T=v("van-tag"),W=v("van-button"),X=v("van-card"),Q=v("van-image"),ne=v("van-grid-item"),Z=v("van-grid");return o(),x(te,null,[t(F,{inset:"",style:{"margin-top":"10px"}},{default:a(()=>[t(E,{justify:"space-between",class:"text-center text-gray margin-tb"},{default:a(()=>[t(L,{span:"8"},{default:a(()=>[s("div",Va,[s("span",Fa,e(g.$t("home.tincprice")),1)]),s("div",Ja,[La,s("span",Ma,e(f(m).tincprice),1)])]),_:1}),t(L,{span:"14"},{default:a(()=>[t(E,{class:"margin-top-xs",justify:"space-between"},{default:a(()=>[t(L,{span:"10",class:"text-gray text-sm text-right"},{default:a(()=>[c(e(g.$t("home.alltvl")),1)]),_:1}),t(L,{span:"12",class:"text-black text-df text-left"},{default:a(()=>[c("$ "+e(f(m).alltvl),1)]),_:1})]),_:1}),t(E,{class:"margin-top-xs",justify:"space-between"},{default:a(()=>[t(L,{span:"10",class:"text-gray text-sm text-right"},{default:a(()=>[c(e(g.$t("home.tbtvl")),1)]),_:1}),t(L,{span:"12",class:"text-black text-df text-left"},{default:a(()=>[c("$ "+e(f(m).tbtvl),1)]),_:1})]),_:1}),t(E,{class:"margin-top-xs",justify:"space-between"},{default:a(()=>[t(L,{span:"10",class:"text-gray text-sm text-right"},{default:a(()=>[c(e(g.$t("home.tbapy")),1)]),_:1}),t(L,{span:"12",class:"text-black text-df text-left"},{default:a(()=>[c(e(f(m).tbapy)+"%",1)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),s("div",Aa,[s("span",Ea,e(g.$t("home.title_tutorial")),1)]),t(F,{inset:""},{default:a(()=>[(o(!0),x(te,null,ie(k.value,(j,l)=>(o(),Y(X,{style:{"background-color":"#fff"},key:l,desc:f(R).global.locale=="zh_TW"?j.desc_cn:j.desc_en,title:f(R).global.locale=="zh_TW"?j.title_cn:j.title_en,thumb:j.thumb,"thumb-link":j.link},{tags:a(()=>[t(T,{plain:"",color:"#aaaaaa"},{default:a(()=>[c(e(f(R).global.locale=="zh_TW"?j.tags_cn[0]:j.tags_en[0]),1)]),_:2},1024),t(T,{plain:"",color:"#aaaaaa",class:"margin-left-xs"},{default:a(()=>[c(e(f(R).global.locale=="zh_TW"?j.tags_cn[1]:j.tags_en[1]),1)]),_:2},1024)]),price:a(()=>[s("span",Pa,e(g.$t("common.author"))+"\uFF1A"+e(f(R).global.locale=="zh_TW"?j.author_cn:j.author_en),1)]),num:a(()=>[t(W,{icon:"share-o",size:"mini",url:j.link},{default:a(()=>[c(e(g.$t("common.view")),1)]),_:2},1032,["url"])]),_:2},1032,["desc","title","thumb","thumb-link"]))),128))]),_:1}),s("div",Ba,[s("span",za,e(g.$t("home.title_economic")),1)]),t(F,{inset:""},{default:a(()=>[t(Q,{fit:"fill",src:y.value},null,8,["src"])]),_:1}),s("div",Ha,[s("span",Ga,e(g.$t("home.title_link")),1)]),t(F,{inset:""},{default:a(()=>[t(Z,{class:"text-df text-gray",gutter:5,border:!1},{default:a(()=>[t(ne,{url:"https://www.tinyworlds.io"},{default:a(()=>[t(Q,{fit:"fill",src:r.value},null,8,["src"]),s("span",Da,e(g.$t("home.link_web")),1)]),_:1}),t(ne,{url:"https://app.tinyworlds.io"},{default:a(()=>[t(Q,{fit:"fill",src:i.value},null,8,["src"]),s("span",ja,e(g.$t("home.link_farm")),1)]),_:1}),t(ne,{url:"https://tinykingdom.tinyworlds.io"},{default:a(()=>[t(Q,{fit:"fill",src:d.value},null,8,["src"]),s("span",Ya,e(g.$t("home.link_kingdom")),1)]),_:1}),t(ne,{url:"https://docs.tinyworlds.io/tiny-games/tiny-dungeons"},{default:a(()=>[t(Q,{fit:"fill",src:_.value,class:"g"},null,8,["src"]),s("span",Wa,e(g.$t("home.link_dungeons")),1)]),_:1})]),_:1})]),_:1})],64)}}};var Ka=$e(Ua,[["__scopeId","data-v-2cbf09cd"]]);const We=[{grade:1,crystal:[5,10,15,20,25,30,35,45],exptime:12},{grade:2,crystal:[10,20,30,40,50,60,70,90],drop:[100,200,300,400,500,600,700,900],exptime:18},{grade:3,crystal:[25,50,75,100,125,150,175,225],drop:[30,60,90,120,150,180,210,300],exptime:24},{grade:4,crystal:[150,155,160,175,180,190,200,250,260,270,280,320,330,345,360,425,440,460,480,600],drop:[80,90,100,120,130,140,150,200,220,240,260,320,340,360,380,470,490,520,550,660],exptime:36},{grade:5,crystal:[400,410,420,440,460,480,500,550,580,600,630,730,760,790,820,920,950,990,1040,1350],drop:[500,550,600,650,700,750,800,100,110,120,130,180,190,200,210,270,280,300,320,400],exptime:48}],ue=[{grade:1,title:"N",color:"grey",rgb:"#8799a3"},{grade:2,title:"R",color:"green",rgb:"#39b54a"},{grade:3,title:"SR",color:"blue",rgb:"#0081ff"},{grade:4,title:"SSR",color:"purple",rgb:"#6739b6"},{grade:5,title:"SSSR",color:"orange",rgb:"#f37b1d"}],Ze=[{code:100,title:"N",color:"grey",rgb:"#8799a3"},{code:200,title:"R",color:"green",rgb:"#39b54a"},{code:300,title:"SR",color:"blue",rgb:"#0081ff"},{code:400,title:"SSR",color:"purple",rgb:"#6739b6"},{code:500,title:"SSR",color:"purple",rgb:"#6739b6"},{code:600,title:"SSSR",color:"orange",rgb:"#f37b1d"},{code:700,title:"SSSR",color:"orange",rgb:"#f37b1d"}],Xa="https://api.tinyworlds.io/resources/data/json/hero.json",st=[{grade:1,initmine:1,initmine2:1,levelcap:8,energy:60},{grade:2,initmine:4,initmine2:4,levelcap:8,energy:90},{grade:3,initmine:15,initmine2:15,levelcap:8,energy:120},{grade:4,initmine:90,initmine2:140,levelcap:20,energy:180},{grade:5,initmine:400,initmine2:800,levelcap:20,energy:210}],Me=et("hero",{state:()=>({heros:null}),getters:{},actions:{async initHeros(){const n=await we(Xa),r=[];n.forEach(function(i){i.crystal=We.find(d=>d.grade==i.grade).crystal,i.exptime=We.find(d=>d.grade==i.grade).exptime,i.grade>1&&(i.drop=We.find(d=>d.grade==i.grade).drop),i.image="https://images.tinyworlds.io/hero/"+i.code+".png",i.initmine=st.find(d=>d.grade==i.grade).initmine,i.initmine2=st.find(d=>d.grade==i.grade).initmine2,r.push(i)}),this.heros=r}}}),Za={class:"margin-left-xs"},Qa={key:0,class:"margin-left-xs padding-lr-xs bg-grey"},en={key:0,class:"margin-left-xs padding-lr-xs bg-grey"},tn={key:0,class:"margin-left-xs padding-lr-xs bg-grey"},an={key:0,class:"margin-left-xs padding-lr-xs bg-grey"},nn={setup(n){const r=Me(),i=J(0),d=J(0),_=J("attack_1"),y=[{text:R.global.t("hero.type_all"),value:0},{text:R.global.t("hero.type_1"),value:1},{text:R.global.t("hero.type_2"),value:2},{text:R.global.t("hero.type_3"),value:3}],$=[{text:R.global.t("hero.grade_all"),value:0},{text:"N",value:1},{text:"R",value:2},{text:"SR",value:3},{text:"SSR",value:4},{text:"SSSR",value:5}],k=[{text:R.global.t("hero.attack_1"),value:"attack_1"},{text:R.global.t("hero.attack_0"),value:"attack_0"},{text:R.global.t("hero.defense_1"),value:"defense_1"},{text:R.global.t("hero.defense_0"),value:"defense_0"},{text:R.global.t("hero.hp_1"),value:"hp_1"},{text:R.global.t("hero.hp_0"),value:"hp_0"},{text:R.global.t("hero.luck_1"),value:"luck_1"},{text:R.global.t("hero.luck_0"),value:"luck_0"}];let m=[0,0,"attack_1"];const g=J([]);let h=[];const L=J(!1),E=J(!1);let F=10;const T=10;ve(async()=>{r.heros||await r.initHeros(),Z(m)});const W=async()=>{r.heros||await r.initHeros(),h.length==0&&Z(m),F+=T,L.value=!1,F<h.length?g.value=h.slice(0,F):(g.value=h,E.value=!0)},X=l=>{F=10,E.value=!1,m[0]=l,Z(m)},Q=l=>{F=10,E.value=!1,m[1]=l,Z(m)},ne=l=>{F=10,E.value=!1,m[2]=l,Z(m)},Z=l=>{h=[],h.push(...JSON.parse(JSON.stringify(r.heros))),l[0]>0&&(h=h.filter(z=>z.grade==l[0])),l[1]>0&&(h=h.filter(z=>z.type==l[1]));let U=l[2].split("_");h=h.sort(Oe(U[0])),U[1]>0&&(h=h.reverse()),g.value=h.slice(0,10)},j={cardPadding:"10px",cardBackgroundColor:"#FFFFFF"};return(l,U)=>{const z=v("van-dropdown-item"),ye=v("van-dropdown-menu"),ae=v("van-tag"),w=v("van-col"),M=v("van-row"),re=v("van-card"),q=v("van-config-provider"),me=v("van-list");return o(),x(te,null,[t(ye,null,{default:a(()=>[t(z,{teleport:"body",modelValue:d.value,"onUpdate:modelValue":U[0]||(U[0]=I=>d.value=I),options:$,onChange:X},null,8,["modelValue"]),t(z,{teleport:"body",modelValue:i.value,"onUpdate:modelValue":U[1]||(U[1]=I=>i.value=I),options:y,onChange:Q},null,8,["modelValue"]),t(z,{teleport:"body",modelValue:_.value,"onUpdate:modelValue":U[2]||(U[2]=I=>_.value=I),options:k,onChange:ne},null,8,["modelValue"])]),_:1}),t(me,{loading:L.value,"onUpdate:loading":U[3]||(U[3]=I=>L.value=I),finished:E.value,"finished-text":l.$t("common.no_more"),onLoad:W},{default:a(()=>[t(q,{"theme-vars":j},{default:a(()=>[(o(!0),x(te,null,ie(g.value,I=>(o(),Y(re,{key:I,class:"margin radius shadow",thumb:I.image},{tag:a(()=>[t(ae,{mark:"",color:f(ue).find(O=>O.grade==I.grade).rgb},{default:a(()=>[c(e(f(ue).find(O=>O.grade==I.grade).title),1)]),_:2},1032,["color"])]),title:a(()=>[t(M,null,{default:a(()=>[t(w,{span:"12",class:"text-left"},{default:a(()=>[t(ae,null,{default:a(()=>[c(e(l.$t("hero.type_"+I.type)),1)]),_:2},1024),s("span",Za,e(f(R).global.locale=="zh_TW"?I.name_cn:I.name_en),1)]),_:2},1024),t(w,{span:"12",class:"text-left"},{default:a(()=>[s("span",null,e(l.$t("hero.init_power"))+":"+e(I.initmine)+e(I.initmine2>I.initmine?"-"+I.initmine2:""),1)]),_:2},1024)]),_:2},1024)]),desc:a(()=>[t(M,{class:"margin-top-sm"},{default:a(()=>[t(w,{span:"12",class:"text-left"},{default:a(()=>[c(e(l.$t("hero.attack"))+"\uFF1A"+e(I.attack),1),I.gattack>0?(o(),x("span",Qa,"+"+e(I.gattack),1)):H("",!0)]),_:2},1024),t(w,{span:"12",class:"text-left"},{default:a(()=>[c(e(l.$t("hero.defense"))+"\uFF1A"+e(I.defense),1),I.gdefense>0?(o(),x("span",en,"+"+e(I.gdefense),1)):H("",!0)]),_:2},1024)]),_:2},1024),t(M,{class:"margin-top-xs"},{default:a(()=>[t(w,{span:"12",class:"text-left"},{default:a(()=>[c(e(l.$t("hero.hp"))+"\uFF1A"+e(I.hp),1),I.ghp>0?(o(),x("span",tn,"+"+e(I.ghp),1)):H("",!0)]),_:2},1024),t(w,{span:"12",class:"text-left"},{default:a(()=>[c(e(l.$t("hero.luck"))+"\uFF1A"+e(I.luck),1),I.gluck>0?(o(),x("span",an,"+"+e(I.gluck),1)):H("",!0)]),_:2},1024)]),_:2},1024),t(M,{class:"margin-top-sm"},{default:a(()=>[t(w,{span:"12",class:"text-left"},{default:a(()=>[c(e(l.$t("hero.expedition"))+"\uFF1A"+e(I.exptime)+e(l.$t("hero.hour")),1)]),_:2},1024),t(w,{span:"12",class:"text-left"},{default:a(()=>[c(e(l.$t("hero.crystal"))+"\uFF1A"+e(I.crystal[0]),1)]),_:2},1024)]),_:2},1024),I.drop?(o(),Y(M,{key:0,class:"margin-top-xs"},{default:a(()=>[I.grade==5?(o(),Y(w,{key:0,span:"24",class:"text-left"},{default:a(()=>[c(e(l.$t("hero.material"))+e(l.$t("hero.flop_odds"))+"\uFF1A",1),s("span",{class:ge("text-"+f(ue).find(O=>O.grade==4).color)},e(f(ue).find(O=>O.grade==4).title),3),c(" "+e(I.drop[0]/10)+"% - ",1),s("span",{class:ge("text-"+f(ue).find(O=>O.grade==I.grade).color)},e(f(ue).find(O=>O.grade==I.grade).title),3),c(e(I.drop[I.drop.length-1]/10)+"% ",1)]),_:2},1024)):(o(),Y(w,{key:1,span:"24",class:"text-left"},{default:a(()=>[c(e(l.$t("hero.material"))+e(l.$t("hero.flop_odds"))+"\uFF1A",1),s("span",{class:ge("text-"+f(ue).find(O=>O.grade==I.grade).color)},e(f(ue).find(O=>O.grade==I.grade).title),3),c(" "+e(I.drop[0]/10)+"% - "+e(I.drop[I.drop.length-1]/10)+"% ",1)]),_:2},1024))]),_:2},1024)):H("",!0)]),_:2},1032,["thumb"]))),128))]),_:1})]),_:1},8,["loading","finished","finished-text"])],64)}}},sn="https://tkapi.tinyworlds.io/api/metadata/equipment",ln="https://scf-deploy-ap-hongkong-1258577806.cos.ap-hongkong.myqcloud.com/tinyworlds/",Ae=et("kingdom",{state:()=>({equipment:null,ranking_city:null}),getters:{},actions:{async initEquipment(){let n=100,r=1,i=100,d=[];for(;n>0;){const _=await ka(sn,{pageIndex:r,pageSize:i});r++,d.push(..._.data),n=_.totalRows-d.length}return this.equipment=d,this.equipment},async initRankingCity(){const n=ln+"kingdom/season/city/simple/last.json?="+pe().format("YYYYMMDDHH");let r=await we(n);return this.ranking_city=r,console.log("ranking city",this.ranking_city),this.ranking_city}}}),on={class:"margin-left-xs"},rn=s("span",{class:"margin-left-xs padding-lr-xs bg-grey"},"100%",-1),un={class:"margin-left-xs padding-lr-xs bg-grey"},dn={class:"margin-left-xs padding-lr-xs bg-grey"},ut={props:{equip:Object},setup(n){const r=["all","attack","defense","hp","luck"],i={cardPadding:"10px",cardBackgroundColor:"#FFFFFF"};return(d,_)=>{const y=v("van-tag"),$=v("van-row"),k=v("van-col"),m=v("van-card"),g=v("van-config-provider");return o(),Y(g,{"theme-vars":i},{default:a(()=>[t(m,{class:"radius shadow"},{tag:a(()=>[t(y,{mark:"",color:f(ue).find(h=>h.grade==n.equip.grade).rgb},{default:a(()=>[c(e(f(ue).find(h=>h.grade==n.equip.grade).title),1)]),_:1},8,["color"])]),thumb:a(()=>[s("p",{class:ge(["sprite-lg margin-right sprite","equip_"+n.equip.id])},null,2)]),title:a(()=>[t($,null,{default:a(()=>[t(y,null,{default:a(()=>[c(e(d.$t("equip.subtype_"+n.equip.subType)),1)]),_:1}),s("span",on,e(f(R).global.locale=="zh_TW"?n.equip.nameCn:n.equip.nameEn),1)]),_:1})]),desc:a(()=>[t($,{class:"margin-top-sm text-gray"},{default:a(()=>[t(k,{span:"10",class:"text-left"},{default:a(()=>[c(e(d.$t("equip.required_level"))+"\uFF1A"+e(n.equip.minLevel),1)]),_:1}),n.equip.minPriceAtMarket?(o(),Y(k,{key:0,span:"14",class:"text-left"},{default:a(()=>[c(e(d.$t("equip.floor_price"))+"\uFF1A"+e(parseFloat(n.equip.minPriceAtMarket).toFixed(2))+"BUSD",1)]),_:1})):(o(),Y(k,{key:1,span:"14",class:"text-left"},{default:a(()=>[c(e(d.$t("equip.floor_price"))+"\uFF1A"+e(d.$t("equip.no_stock")),1)]),_:1}))]),_:1}),t($,{class:"margin-top-sm"},{default:a(()=>[t(k,{span:"24",class:"text-left"},{default:a(()=>[c(e(d.$t("hero."+r[n.equip.stat1Type]))+"\uFF1A"+e(n.equip.stat1Value-n.equip.stat1RandRange)+"-"+e(n.equip.stat1Value+n.equip.stat1RandRange),1),rn]),_:1})]),_:1}),t($,{class:"margin-top-xs"},{default:a(()=>[n.equip.stat2Type>0?(o(),Y(k,{key:0,span:n.equip.stat3Type>0?12:24,class:"text-left"},{default:a(()=>[c(e(d.$t("hero."+r[n.equip.stat2Type]))+"\uFF1A"+e(n.equip.stat2Value-n.equip.stat2RandRange)+"-"+e(n.equip.stat2Value+n.equip.stat2RandRange),1),s("span",un,e(n.equip.stat2RevealRate)+"%",1)]),_:1},8,["span"])):H("",!0),n.equip.stat3Type>0?(o(),Y(k,{key:1,span:"12",class:"text-left"},{default:a(()=>[c(e(d.$t("hero."+r[n.equip.stat3Type]))+"\uFF1A"+e(n.equip.stat3Value-n.equip.stat3RandRange)+"-"+e(n.equip.stat3Value+n.equip.stat3RandRange),1),s("span",dn,e(n.equip.stat3RevealRate)+"%",1)]),_:1})):H("",!0)]),_:1})]),_:1})]),_:1})}}},cn={setup(n){const r=Ae(),i=J(0),d=J(0),_=J("1_1"),y=[{text:R.global.t("equip.type_all"),value:0},{text:R.global.t("equip.type_1"),value:1},{text:R.global.t("equip.type_2"),value:2},{text:R.global.t("equip.type_3"),value:3}],$=[{text:R.global.t("equip.grade_all"),value:0},{text:"N",value:1},{text:"R",value:2},{text:"SR",value:3},{text:"SSR",value:4},{text:"SSSR",value:5}],k=[{text:R.global.t("hero.attack_1"),value:"1_1"},{text:R.global.t("hero.attack_0"),value:"1_0"},{text:R.global.t("hero.defense_1"),value:"2_1"},{text:R.global.t("hero.defense_0"),value:"2_0"},{text:R.global.t("hero.hp_1"),value:"3_1"},{text:R.global.t("hero.hp_0"),value:"3_0"}];let m=[0,0,"1_1"];const g=J([]);let h=[];const L=J(!1),E=J(!1);let F=10;const T=10;ve(async()=>{r.equipment||await r.initEquipment(),Z(m)});const W=async()=>{console.log("onload"),r.equipment||await r.initEquipment(),h.length==0&&Z(m),F+=T,L.value=!1,F<h.length?g.value=h.slice(0,F):(g.value=h,E.value=!0)},X=j=>{F=10,E.value=!1,m[0]=j,Z(m)},Q=j=>{F=10,E.value=!1,m[1]=j,Z(m)},ne=j=>{F=10,E.value=!1,m[2]=j,Z(m)},Z=j=>{h=[],h.push(...JSON.parse(JSON.stringify(r.equipment))),j[0]>0&&(h=h.filter(U=>U.grade==j[0])),j[1]>0&&(h=h.filter(U=>U.type==j[1]));let l=j[2].split("_");h=h.filter(U=>U.stat1Type==parseInt(l[0])),h=h.sort(Oe("stat1Value")),l[1]>0&&(h=h.reverse()),g.value=h.slice(0,F)};return(j,l)=>{const U=v("van-dropdown-item"),z=v("van-dropdown-menu"),ye=v("van-list");return o(),x(te,null,[t(z,null,{default:a(()=>[t(U,{teleport:"body",modelValue:d.value,"onUpdate:modelValue":l[0]||(l[0]=ae=>d.value=ae),options:$,onChange:X},null,8,["modelValue"]),t(U,{teleport:"body",modelValue:i.value,"onUpdate:modelValue":l[1]||(l[1]=ae=>i.value=ae),options:y,onChange:Q},null,8,["modelValue"]),t(U,{teleport:"body",modelValue:_.value,"onUpdate:modelValue":l[2]||(l[2]=ae=>_.value=ae),options:k,onChange:ne},null,8,["modelValue"])]),_:1}),t(ye,{loading:L.value,"onUpdate:loading":l[3]||(l[3]=ae=>L.value=ae),finished:E.value,"finished-text":j.$t("common.no_more"),onLoad:W},{default:a(()=>[(o(!0),x(te,null,ie(g.value,ae=>(o(),x("div",{key:ae,class:"margin"},[t(ut,{equip:ae},null,8,["equip"])]))),128))]),_:1},8,["loading","finished","finished-text"])],64)}}},pn={};function mn(n,r){const i=v("van-empty");return o(),Y(i,{class:"margin-top",description:n.$t("common.dev_soon")},null,8,["description"])}var _n=$e(pn,[["render",mn]]);const yn={setup(n){const r=J(0);return(i,d)=>{const _=v("van-tab"),y=v("van-tabs");return o(),Y(y,{active:r.value,"onUpdate:active":d[0]||(d[0]=$=>r.value=$),swipeable:"",sticky:""},{default:a(()=>[t(_,{title:i.$t("baike.book_hero")},{default:a(()=>[t(nn)]),_:1},8,["title"]),t(_,{title:i.$t("baike.book_equip")},{default:a(()=>[t(cn)]),_:1},8,["title"]),t(_,{title:i.$t("baike.book_material")},{default:a(()=>[t(_n)]),_:1},8,["title"])]),_:1},8,["active"])}}},fn=["attack","defense","hp","luck"];function gn(n,r){return parseInt(n*r/60/200)}function hn(n,r){let i=25,d=Number(n);return i-=parseFloat(25)*d/(d+Number("1000")),parseInt(60*r/i)}function Se(n){let r=[0,0,0],i=[0,0,0],d=[0,0,0],_=0,y=0;for(let m=1;m<=3;m++)r[m-1]=hn(n[m].defense.all,n[m].hp.all),i[m-1]=gn(n[m].attack.all,r[m-1]),d[m-1]=parseInt(i[m-1]/10)+1,y+=i[m-1],r[m-1]>_&&(_=r[m-1]);let $=parseInt(y/10);return[{max_sec:_,max_floor:$,kill_count:y},{max_sec:r[0],max_floor:d[0],kill_count:i[0]},{max_sec:r[1],max_floor:d[1],kill_count:i[1]},{max_sec:r[2],max_floor:d[2],kill_count:i[2]}]}function vn(n,r){let i=0,d=[],_=JSON.parse(JSON.stringify(n)),y=[],$=0,k=Se(_)[0].max_floor;for(let h=1;h<=3;h++)for(let L=0;L<=2;L++){let E=h+1;E>3&&(E=1),!(L==0&&(r[h-1][L]>1&&r[h-1][L]<5||r[E-1][L]>1&&r[E-1][L]<5))&&(d=bn(JSON.parse(JSON.stringify(_)),h,L),$=Se(d)[0].max_floor,$>k&&(i=1,k=$,_=JSON.parse(JSON.stringify(d)),y.push({equip0:[h-1,L],equip1:[E-1,L]})))}let m=Se(_)[0].max_sec,g=Se(_)[0].kill_count;return{isopt:i,max_floor:k,max_sec:m,kill_count:g,syncList:y,optList:_}}function bn(n,r,i){let d={attact:0,defense:0,hp:0,luck:0},_=r+1;return _>3&&(_=1),fn.forEach(y=>{d[y]=n[r][y].equip[i],n[r][y].equip[i]=n[_][y].equip[i],n[r][y].all=n[r][y].hero+n[r][y].equip[0]+n[r][y].equip[1]+n[r][y].equip[2],n[_][y].equip[i]=d[y],n[_][y].all=n[_][y].hero+n[_][y].equip[0]+n[_][y].equip[1]+n[_][y].equip[2]}),n}const xn={class:"text-gray text-sm"},kn={class:"margin-right-xs text-black text-sm"},Tn={class:"text-gray text-sm"},wn={class:"margin-right-xs text-black text-sm"},$n={class:"text-gray text-sm"},qn={class:"margin-right-xs text-black text-sm"},Sn={class:"text-gray text-sm"},Cn={class:"margin-right-xs text-black text-sm"},In={class:"margin-tb-sm"},Nn={class:"margin-left-xs text-df text-black"},Rn={class:"margin-left-xs text-df text-black"},On={class:"margin-left-xs text-df text-black"},Vn={class:"margin-left-xs text-df text-black"},lt={props:{panelList:Object,total:Object},setup(n){const r=["attack","defense","hp","luck"],i=J(["1"]),d={cellGroupBackgroundColor:"#fff"},_={collapseItemContentPadding:"0px"};return(y,$)=>{const k=v("van-col"),m=v("van-row"),g=v("van-cell-group"),h=v("van-config-provider"),L=v("van-collapse-item"),E=v("van-collapse");return o(),x(te,null,[t(h,{"theme-vars":_},{default:a(()=>[t(E,{modelValue:i.value,"onUpdate:modelValue":$[0]||($[0]=F=>i.value=F),border:!1},{default:a(()=>[t(L,{name:"0"},{title:a(()=>[s("span",xn,e(y.$t("hero.attack"))+":",1),s("span",kn,e(n.panelList.attack.all),1),s("span",Tn,e(y.$t("hero.defense"))+":",1),s("span",wn,e(n.panelList.defense.all),1),s("span",$n,e(y.$t("hero.hp"))+":",1),s("span",qn,e(n.panelList.hp.all),1),s("span",Sn,e(y.$t("hero.luck"))+":",1),s("span",Cn,e(n.panelList.luck.all),1)]),default:a(()=>[s("div",In,[t(h,{"theme-vars":d},{default:a(()=>[t(g,{inset:""},{default:a(()=>[t(m,{justify:"center",class:"text-center text-gray padding-tb-sm solid-bottom"},{default:a(()=>[t(k,{span:"4"},{default:a(()=>[c(e(y.$t("predict.attribute")),1)]),_:1}),t(k,{span:"5"},{default:a(()=>[c(e(y.$t("predict.value")),1)]),_:1}),t(k,{span:"8"},{default:a(()=>[c(e(y.$t("predict.equip_add")),1)]),_:1}),t(k,{span:"7"},{default:a(()=>[c(e(y.$t("predict.total")),1)]),_:1})]),_:1}),(o(),x(te,null,ie(r,(F,T)=>t(m,{key:F,justify:"center",class:ge(["text-center padding-tb-sm solid-bottom",T%2?"text-gray":"text-grey bg-gray"])},{default:a(()=>[t(k,{span:"4"},{default:a(()=>[c(e(y.$t("hero."+F)),1)]),_:2},1024),t(k,{span:"5"},{default:a(()=>[c(e(n.panelList[F].hero),1)]),_:2},1024),t(k,{span:"8"},{default:a(()=>[c(e(n.panelList[F].equip[0])+","+e(n.panelList[F].equip[1])+","+e(n.panelList[F].equip[2]),1)]),_:2},1024),t(k,{span:"7"},{default:a(()=>[c(e(n.panelList[F].all),1)]),_:2},1024)]),_:2},1032,["class"])),64))]),_:1})]),_:1})])]),_:1})]),_:1},8,["modelValue"])]),_:1}),t(m,{class:"margin text-gray text-sm"},{default:a(()=>[t(k,{span:"8"},{default:a(()=>[c(e(y.$t("predict.castle_floor"))+":",1),s("span",Nn,e(n.total.max_floor),1)]),_:1}),t(k,{span:"8"},{default:a(()=>[c(e(y.$t("predict.kill_enemy"))+":",1),s("span",Rn,e(n.total.kill_count),1)]),_:1}),n.total.max_sec>3600?(o(),Y(k,{key:0,span:"8"},{default:a(()=>[c(e(y.$t("predict.survival_time"))+":",1),s("span",On,e(parseInt(n.total.max_sec/3600))+e(y.$t("common.hour"))+e(parseInt(n.total.max_sec/60%60))+e(y.$t("common.minute")),1)]),_:1})):(o(),Y(k,{key:1,span:"8"},{default:a(()=>[c(e(y.$t("predict.survival_time"))+":",1),s("span",Vn,e(parseInt(n.total.max_sec/60%60))+e(y.$t("common.minute")),1)]),_:1}))]),_:1})],64)}}};const Ee=n=>(Fe("data-v-2b792205"),n=n(),Je(),n),Fn=Ee(()=>s("div",{class:"margin"},null,-1)),Jn={key:0},Ln=["onClick"],Mn={key:1},An=["onClick"],En=Ee(()=>s("div",{class:"margin"},null,-1)),Pn={class:"text-lg text-blue margin-left-xs"},Bn={class:"text-lg text-orange margin-lr-xs"},zn=c("TINC"),Hn={class:"text-lg text-blue margin-lr-xs"},Gn=c("BUSD"),Dn={class:"text-lg text-orange margin-lr-xs"},jn=c("BUSD"),Yn=Ee(()=>s("div",{class:"margin"},null,-1)),Wn={class:"cu-tag line-grey radius margin-left margin-top-sm"},Un={class:"margin-left-xs text-lg text-orange"},Kn={class:"margin-left-xs text-df text-black"},Xn={class:"margin-left-xs text-lg text-orange"},Zn={class:"margin-left-xs text-df text-black"},Qn={class:"cu-tag line-grey radius margin-left"},es={class:"cu-tag round line-gray sm"},ts=Ee(()=>s("div",{class:"margin"},null,-1)),as={class:"text-sm text-gray",style:{"line-height":"18px"}},ns=["onClick"],ss={key:0},ls={class:"text-sm"},os={key:1},is={class:"text-sm"},rs={key:0},us={class:"margin-tb-xs equiptext text-sm"},ds={key:1},cs={class:"margin-tb-xs equiptext text-sm"},ps={class:"cu-tag line-grey radius sm"},ms={key:0},_s={key:0,class:"margin-tb solid-top"},ys={class:"solid-top padding text-sm"},fs={setup(n){const{proxy:r}=Le(),i=J(!1),d=J([0,0]),_=it(),y=xt(),$=Me(),k=Ae(),m=tt(),g=J(1),h=J(!1),L=J([]),E=[100,120,140,160,200,220,240,260,300,340],F=["attack","defense","hp","luck"];let T=[0,0];const W=J(!1),X=J(!1),Q=J(!1),ne=J(3),Z=J(3),j=[{type:1,typeName:"weapon",change:0,equip:{}},{type:2,typeName:"armor",change:0,equip:{}},{type:3,typeName:"ornaments",change:0,equip:{}}],l=Te([{type:1,typeName:"warrior",change:0,hero:{},equips:JSON.parse(JSON.stringify(j))},{type:2,typeName:"ranger",change:0,hero:{},equips:JSON.parse(JSON.stringify(j))},{type:3,typeName:"wizard",change:0,hero:{},equips:JSON.parse(JSON.stringify(j))}]),U={attack:{hero:0,equip:[0,0,0],all:0},defense:{hero:0,equip:[0,0,0],all:0},hp:{hero:0,equip:[0,0,0],all:0},luck:{hero:0,equip:[0,0,0],all:0}},z=Te([JSON.parse(JSON.stringify(U)),JSON.parse(JSON.stringify(U)),JSON.parse(JSON.stringify(U)),JSON.parse(JSON.stringify(U))]),ye={max_sec:0,max_floor:0,kill_count:0},ae=J([JSON.parse(JSON.stringify(ye)),JSON.parse(JSON.stringify(ye)),JSON.parse(JSON.stringify(ye)),JSON.parse(JSON.stringify(ye))]),w={isopt:0,max_sec:0,max_floor:0,kill_count:0,syncList:[],optList:[]},M=J({isopt:0,max_sec:0,max_floor:0,kill_count:0,syncList:[],optList:[]}),re=J({rankIndex:0,prizeAmount:0}),q=J({}),me=J([]),I=()=>{_.push({name:"Playerlist"})},O=p=>{if(W.value=!1,l.forEach(u=>{u.change=0,u.equips.forEach(V=>{V.change=0}),u.type==p&&(u.change=1)}),JSON.stringify(l.find(u=>u.change==1).hero)!="{}"){let u=l.find(b=>b.change==1).hero.grade,V=l.find(b=>b.change==1).hero.code,S=l.find(b=>b.change==1).hero.level;Be(u,V,S)}else Be();W.value=!0};let D=[0,0,0,0];const A=(p,u)=>{if(JSON.stringify(l[p-1].hero)=="{}"){r.$toast.fail(R.global.t("predict.choose_hero_first"));return}if(X.value=!1,l.forEach(V=>{V.change=0,V.equips.forEach(S=>{S.change=0,S.type==u&&V.type==p&&(S.change=1)})}),T=[p-1,u-1],JSON.stringify(l[p-1].equips[u-1].equip)!="{}"){let V=l[p-1].equips[u-1].equip.grade,S=l[p-1].equips[u-1].equip.id,b=l[p-1].equips[u-1].equip.level;D[0]=S,D[1]=l[p-1].equips[u-1].equip.stat1ValueFinal,D[2]=l[p-1].equips[u-1].equip.stat2ValueFinal,D[3]=l[p-1].equips[u-1].equip.stat3ValueFinal,ze(V,S,b)}else D=[0,0,0,0],ze();X.value=!0},ee=()=>{l.forEach(p=>p.change=0)},fe=()=>{W.value=!1,X.value=!1},be=J(0),de=Te([{text:"N",grade:1,defaultIndex:2,children:[]},{text:"R",grade:2,defaultIndex:2,children:[]},{text:"SR",grade:3,defaultIndex:2,children:[]},{text:"SSR",grade:4,defaultIndex:2,children:[]},{text:"SSSR",grade:5,defaultIndex:2,children:[]}]),he=[{text:"N",grade:1,defaultIndex:1,children:[]},{text:"R",grade:2,defaultIndex:1,children:[]},{text:"SR",grade:3,defaultIndex:1,children:[]},{text:"SSR",grade:4,defaultIndex:1,children:[]},{text:"SSSR",grade:5,defaultIndex:1,children:[]}],ce=J(JSON.parse(JSON.stringify(he))),Ie=p=>{l.find(u=>u.change==1).hero=JSON.parse(JSON.stringify($.heros.find(u=>u.code==p[1].code))),l.find(u=>u.change==1).hero.level=p[2].level,xe(),W.value=!1},N=()=>{l.find(p=>p.change==1).hero={},xe(),W.value=!1},_e=p=>{l[T[0]].equips[T[1]].equip=JSON.parse(JSON.stringify(k.equipment.find(V=>V.id==p[1].id))),l[T[0]].equips[T[1]].equip.level=p[2].level;let u=.6;l[T[0]].equips[T[1]].equip.id==D[0]&&D[1]>0?(l[T[0]].equips[T[1]].equip.stat1ValueFinal=D[1],l[T[0]].equips[T[1]].equip.stat2ValueFinal=D[2],l[T[0]].equips[T[1]].equip.stat3ValueFinal=D[3]):(l[T[0]].equips[T[1]].equip.stat1ValueFinal=l[T[0]].equips[T[1]].equip.stat1Value+parseInt(l[T[0]].equips[T[1]].equip.stat1RandRange*u),l[T[0]].equips[T[1]].equip.stat2ValueFinal=l[T[0]].equips[T[1]].equip.stat2Value+parseInt(l[T[0]].equips[T[1]].equip.stat2RandRange*u),l[T[0]].equips[T[1]].equip.stat3ValueFinal=l[T[0]].equips[T[1]].equip.stat3Value+parseInt(l[T[0]].equips[T[1]].equip.stat3RandRange*u)),xe(),X.value=!1},dt=()=>{l[T[0]].equips[T[1]].equip={},xe(),X.value=!1},ct=(p,u)=>{Q.value=!1,l.forEach(V=>{V.change=0,V.equips.forEach(S=>{S.change=0,S.type==u&&V.type==p&&(S.change=1)})}),T=[p-1,u-1],d.value=[0,0],q.value=l[p-1].equips[u-1].equip,q.value.stat2Type>0&&q.value.stat2ValueFinal>0&&(d.value[0]=1),q.value.stat3Type>0&&q.value.stat3ValueFinal>0&&(d.value[1]=1),Q.value=!0},pt=()=>{l[T[0]].equips[T[1]].equip=q.value,xe(),Q.value=!1},mt=p=>{let u=R.global.locale=="zh_TW"?p.title_cn:p.title_en;r.$dialog.confirm({title:R.global.t("predict.delete_file"),message:R.global.t("predict.delete_file_message")+": "+u+" ?"}).then(()=>{if(localStorage.getItem("myteamdata")){let V=JSON.parse(localStorage.getItem("myteamdata")),S=V.findIndex(b=>b.timestamp==p.timestamp);S>=0&&(V.splice(S,1),localStorage.setItem("myteamdata",JSON.stringify(V)),He(),r.$toast.success(R.global.t("common.delete_succeed")))}})},_t=p=>{if(!l.find(u=>JSON.stringify(u.hero)!="{}")){r.$toast.fail(R.global.t("predict.setting_no_save"));return}yt(),r.$toast.success(R.global.t("predict.setting_save_ok"))},Ne=(p=[])=>{for(let u=0;u<=2;u++)l[u].hero={},l[u].equips=JSON.parse(JSON.stringify(j));if(p.length!=0){for(let u=0;u<=2;u++)if($.heros.find(V=>V.code==p[u].hero.code)){l[u].hero=JSON.parse(JSON.stringify($.heros.find(V=>V.code==p[u].hero.code))),l[u].hero.level=p[u].hero.level;for(let V=0;V<=2;V++)k.equipment.find(S=>S.id==p[u].equips[V].id)&&(l[u].equips[V].equip=JSON.parse(JSON.stringify(k.equipment.find(S=>S.id==p[u].equips[V].id))),l[u].equips[V].equip.level=p[u].equips[V].level,l[u].equips[V].equip.stat1ValueFinal=p[u].equips[V].stat1ValueFinal,l[u].equips[V].equip.stat2ValueFinal=p[u].equips[V].stat2ValueFinal,l[u].equips[V].equip.stat3ValueFinal=p[u].equips[V].stat3ValueFinal)}}xe()},yt=()=>{let p=[];for(let B=0;B<=2;B++){let oe=JSON.stringify(l[B].hero)!="{}"?l[B].hero.code:0,K=JSON.stringify(l[B].hero)!="{}"?l[B].hero.level:0,se={hero:{code:oe,level:K},equips:[]};for(let P=0;P<=2;P++){let le=JSON.stringify(l[B].equips[P].equip)!="{}"?l[B].equips[P].equip.id:0,qe=JSON.stringify(l[B].equips[P].equip)!="{}"?l[B].equips[P].equip.level:0,Ge=JSON.stringify(l[B].equips[P].equip)!="{}"?l[B].equips[P].equip.stat1ValueFinal:0,De=JSON.stringify(l[B].equips[P].equip)!="{}"?l[B].equips[P].equip.stat2ValueFinal:0,je=JSON.stringify(l[B].equips[P].equip)!="{}"?l[B].equips[P].equip.stat3ValueFinal:0;se.equips.push({id:le,level:qe,stat1ValueFinal:Ge,stat2ValueFinal:De,stat3ValueFinal:je})}p.push(se)}let u=[],V=1;localStorage.getItem("myteamdata")&&(u=JSON.parse(localStorage.getItem("myteamdata")),V=u.length+1);let S={title_cn:"\u6211\u7684\u6230\u968A_"+V,title_en:"myteam_"+V,author_cn:"\u6211",author_en:"my",type:1,timestamp:pe().valueOf(),data:p};console.log("saveTeamData",S),u.push(S);let b=JSON.stringify(u);localStorage.setItem("myteamdata",b),He()};ve(async()=>{if($.heros||await $.initHeros(),k.equipment||await k.initEquipment(),k.ranking_city||await k.initRankingCity(),m.pools||await m.initPools(),g.value=parseFloat(m.pools.price.TINC).toFixed(2),me.value=k.ranking_city.all,Be(),ze(),xe(),He(),y.params&&y.params.playerId){console.log(y.params.playerId);let p=k.ranking_city.all.find(u=>u.playerId==y.params.playerId);Ne(p.data)}i.value=!0});const Be=(p=3,u=309,V=1)=>{if(!l.find(b=>b.change==1))return;ne.value=p-1,de.forEach(b=>b.children=[]);const S=l.find(b=>b.change==1).type;$.heros.forEach(b=>{b.type==S&&(de.find(B=>B.grade==b.grade).children.push({text:R.global.locale=="zh_TW"?b.name_cn:b.name_en,code:b.code}),b.code==u&&(de.find(B=>B.grade==b.grade).defaultIndex=de.find(B=>B.grade==b.grade).children.findIndex(B=>B.code==u)))}),de.forEach(b=>{let B=8;b.grade>1&&(B=10),b.grade>3&&(B=20),b.children.forEach(oe=>{oe.children=[];for(let K=1;K<=B;K++)oe.children.push({text:R.global.locale=="zh_TW"?K+"\u7D1A":"Level"+K,level:K});oe.defaultIndex=V-1})}),be.value+=1},ze=(p=3,u=141,V=1)=>{l.forEach(K=>{K.equips.forEach(se=>{se.change==1&&(T=[K.type-1,se.type-1])})}),Z.value=p-1,ce.value=JSON.parse(JSON.stringify(he));const S=l[T[0]].type-1,b=[2,3,4];let B=20;JSON.stringify(l[T[0]].hero)!="{}"&&(B=l[T[0]].hero.level);const oe=l[T[0]].equips[T[1]].type;k.equipment.forEach(K=>{K.type==oe&&K.minLevel<=B&&(K.subType>4||K.subType==1||K.subType==b[S])&&(ce.value.find(se=>se.grade==K.grade).children.push({text:R.global.locale=="zh_TW"?K.nameCn:K.nameEn,id:K.id}),K.id==u&&(ce.value.find(se=>se.grade==K.grade).defaultIndex=ce.value.find(se=>se.grade==K.grade).children.findIndex(se=>se.id==u)))});for(let K=4;K>=0;K--)ce.value[K].children.length==0&&ce.value.splice(K,1);Z.value>ce.value.length-1&&(Z.value=ce.value.length-1),ce.value.forEach(K=>{let se=10;K.children.forEach(P=>{P.children=[];for(let le=1;le<=se;le++)P.children.push({text:R.global.locale=="zh_TW"?le+"\u7D1A":"Level"+le,level:le});P.defaultIndex=V-1})}),be.value+=1},xe=()=>{let p=[[0,0,0],[0,0,0],[0,0,0]];M.value=JSON.parse(JSON.stringify(w)),z[0]=JSON.parse(JSON.stringify(U)),l.forEach(S=>{z[S.type]=JSON.parse(JSON.stringify(U)),JSON.stringify(S.hero)!="{}"&&(F.forEach(b=>{z[S.type][b].hero=S.hero[b]+S.hero["g"+b]*(S.hero.level-1),z[0][b].hero+=z[S.type][b].hero}),S.equips.forEach(b=>{if(JSON.stringify(b.equip)!="{}"){p[S.type-1][b.type-1]=b.equip.subType;let B=F[b.equip.stat1Type-1];if(z[S.type][B].equip[b.type-1]=parseInt(b.equip.stat1ValueFinal*E[b.equip.level-1]/100),z[0][B].equip[b.type-1]+=z[S.type][B].equip[b.type-1],b.equip.stat2Type>0){let oe=F[b.equip.stat2Type-1];z[S.type][oe].equip[b.type-1]=parseInt(b.equip.stat2ValueFinal*E[b.equip.level-1]/100),z[0][oe].equip[b.type-1]+=z[S.type][oe].equip[b.type-1]}if(b.equip.stat3Type>0){let oe=F[b.equip.stat3Type-1];z[S.type][oe].equip[b.type-1]=parseInt(b.equip.stat3ValueFinal*E[b.equip.level-1]/100),z[0][oe].equip[b.type-1]+=z[S.type][oe].equip[b.type-1]}}}),F.forEach(b=>{z[S.type][b].all=z[S.type][b].hero+z[S.type][b].equip[0]+z[S.type][b].equip[1]+z[S.type][b].equip[2],z[0][b].all+=z[S.type][b].all}))}),ae.value=Se(JSON.parse(JSON.stringify(z)));let u=ae.value[0].max_floor,V=k.ranking_city.all;for(let S=0;S<V.length;S++)if(u>parseInt(V[S].scoreValue)){re.value.prizeAmount=V[S].prizeAmount,re.value.rankIndex=V[S].rankIndex;break}M.value=vn(JSON.parse(JSON.stringify(z)),p),console.log(M.value)},He=()=>{L.value=[];let p=[k.ranking_city.top.sssr,k.ranking_city.top.ssr,k.ranking_city.top.sr,k.ranking_city.top.r,k.ranking_city.top.n];L.value.push(...p),localStorage.getItem("myteamdata")&&L.value.push(...JSON.parse(localStorage.getItem("myteamdata")))};return(p,u)=>{const V=v("van-button"),S=v("van-cell"),b=v("van-icon"),B=v("van-badge"),oe=v("van-grid-item"),K=v("van-grid"),se=v("van-cell-group"),P=v("van-col"),le=v("van-row"),qe=v("van-checkbox"),Ge=v("van-image"),De=v("van-loading"),je=v("van-overlay"),at=v("van-picker"),nt=v("van-popup"),Ye=v("van-stepper"),ft=v("van-dialog");return o(),x(te,null,[Fn,t(se,{inset:""},{default:a(()=>[t(S,{title:p.$t("predict.team_file"),icon:"notes-o"},{value:a(()=>[s("div",{class:"text-gray margin-right-sm",onClick:I},[t(V,{size:"mini",color:"#aaaaaa",plain:"",class:"margin-right-sm"},{default:a(()=>[c(e(p.$t("predict.read_randlist")),1)]),_:1})])]),_:1},8,["title"]),t(K,{"column-num":3,border:!1},{default:a(()=>[(o(!0),x(te,null,ie(L.value,C=>(o(),Y(oe,{key:C,icon:"photo-o",text:C.rankIndex?C.rankIndex+"_"+C.title_cn:C.title_cn},{icon:a(()=>[C.type>0?(o(),x("div",Jn,[t(B,null,{content:a(()=>[t(b,{name:"cross",class:"badge-icon",onClick:G=>mt(C)},null,8,["onClick"])]),default:a(()=>[s("div",{class:"cu-avatar-group margin-bottom-sm",onClick:G=>Ne(C.data)},[(o(!0),x(te,null,ie(C.data.filter(G=>G.hero.code>0),G=>(o(),x("div",{class:"cu-avatar round",key:G,style:Xe([{backgroundImage:"url(https://images.tinyworlds.io/hero/"+G.hero.code+".png)",backgroundColor:f(Ze).find(ke=>ke.code==100*parseInt(G.hero.code/100)).rgb}])},null,4))),128))],8,Ln)]),_:2},1024)])):(o(),x("div",Mn,[s("div",{class:"cu-avatar-group margin-bottom-sm",onClick:G=>Ne(C.data)},[(o(!0),x(te,null,ie(C.data.filter(G=>G.hero.code>0),G=>(o(),x("div",{class:"cu-avatar round",key:G,style:Xe([{backgroundImage:"url(https://images.tinyworlds.io/hero/"+G.hero.code+".png)",backgroundColor:f(Ze).find(ke=>ke.code==100*parseInt(G.hero.code/100)).rgb}])},null,4))),128))],8,An)]))]),_:2},1032,["text"]))),128)),t(oe,{icon:"plus",text:p.$t("predict.new_document"),onClick:u[0]||(u[0]=C=>Ne())},null,8,["text"])]),_:1})]),_:1}),En,t(se,{inset:""},{default:a(()=>[t(S,{title:p.$t("predict.total_cell"),icon:"orders-o"},null,8,["title"]),re.value.rankIndex>0?(o(),Y(le,{key:0,class:"bg-gray text-black text-sm padding margin-top-sm margin-lr-xs"},{default:a(()=>[t(P,{span:"12"},{default:a(()=>[c(e(p.$t("predict.castle_ranking"))+":",1),s("span",Pn,e(re.value.rankIndex),1)]),_:1}),t(P,{span:"12"},{default:a(()=>[c(e(p.$t("predict.weekly_reward"))+":",1),s("span",Bn,e(re.value.prizeAmount),1),zn]),_:1}),t(P,{span:"12",class:"margin-top-sm"},{default:a(()=>[c("TINC"+e(p.$t("common.price"))+":",1),s("span",Hn,e(g.value),1),Gn]),_:1}),t(P,{span:"12",class:"margin-top-sm"},{default:a(()=>[c(e(p.$t("predict.daily_income"))+":",1),s("span",Dn,e(parseInt(re.value.prizeAmount*g.value/7)),1),jn]),_:1})]),_:1})):H("",!0),s("div",{onClick:ee},[t(lt,{panelList:f(z)[0],total:ae.value[0]},null,8,["panelList","total"])])]),_:1}),Yn,M.value.isopt>0?(o(),Y(se,{key:0,inset:""},{default:a(()=>[t(S,{title:p.$t("predict.optimize_cell"),icon:"info-o"},null,8,["title"]),s("div",Wn,e(p.$t("predict.promotion")),1),t(le,{class:"text-black text-sm padding margin-bottom-sm margin-lr-xs"},{default:a(()=>[t(P,{span:"12"},{default:a(()=>[c(e(p.$t("predict.castle_floor"))+":",1),s("span",Un,"+"+e(M.value.max_floor-ae.value[0].max_floor),1),s("span",Kn,"("+e(M.value.max_floor)+")",1)]),_:1}),t(P,{span:"12"},{default:a(()=>[c(e(p.$t("predict.kill_enemy"))+":",1),s("span",Xn,"+"+e(M.value.kill_count-ae.value[0].kill_count),1),s("span",Zn,"("+e(M.value.kill_count)+")",1)]),_:1})]),_:1}),s("div",Qn,e(p.$t("predict.procedure")),1),(o(!0),x(te,null,ie(M.value.syncList,(C,G)=>(o(),Y(le,{class:"text-black text-sm padding-sm margin-lr-xs",key:G},{default:a(()=>[t(P,{span:"2"},{default:a(()=>[s("div",es,e(G+1),1)]),_:2},1024),t(P,{span:"10"},{default:a(()=>[c(e(f(R).global.locale=="zh_TW"?f(l)[C.equip0[0]].hero.name_cn:f(l)[C.equip0[0]].hero.name_en)+" ",1),t(b,{name:"arrow"}),c(" "+e(f(R).global.locale=="zh_TW"?f(l)[C.equip0[0]].equips[C.equip0[1]].equip.nameCn:f(l)[C.equip0[0]].equips[C.equip0[1]].equip.nameEn),1)]),_:2},1024),t(P,{span:"2",class:"text-black"},{default:a(()=>[t(b,{name:"exchange"})]),_:1}),t(P,{span:"10"},{default:a(()=>[c(e(f(R).global.locale=="zh_TW"?f(l)[C.equip1[0]].hero.name_cn:f(l)[C.equip1[0]].hero.name_en)+" ",1),t(b,{name:"arrow"}),c(" "+e(f(R).global.locale=="zh_TW"?f(l)[C.equip1[0]].equips[C.equip1[1]].equip.nameCn:f(l)[C.equip1[0]].equips[C.equip1[1]].equip.nameEn),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})):(o(),Y(se,{key:1,inset:""},{default:a(()=>[t(S,{title:p.$t("predict.optimize_cell"),icon:"info-o",value:p.$t("predict.no_suggestions")},null,8,["title","value"])]),_:1})),ts,t(se,{inset:""},{default:a(()=>[t(S,{title:p.$t("predict.select_team"),icon:"friends-o"},{value:a(()=>[s("div",{class:"text-gray margin-right-sm",onClick:_t},[t(V,{size:"mini",color:"#aaaaaa",plain:"",class:"margin-right-sm"},{default:a(()=>[c(e(p.$t("predict.save_document")),1)]),_:1})])]),"right-icon":a(()=>[t(qe,{modelValue:h.value,"onUpdate:modelValue":u[1]||(u[1]=C=>h.value=C)},{default:a(()=>[s("span",as,e(p.$t("predict.measure_one")),1)]),_:1},8,["modelValue"])]),_:1},8,["title"]),(o(!0),x(te,null,ie(f(l),C=>(o(),x("div",{key:C,class:"padding solid-bottom"},[t(le,null,{default:a(()=>[t(P,{span:"8"},{default:a(()=>[s("div",{class:ge([C.change?"bg-gray radius shadow":"","text-gray text-center padding-xs"]),onClick:G=>O(C.type)},[JSON.stringify(C.hero)!="{}"?(o(),x("div",ss,[t(B,{offset:["-80px",5],color:f(ue).find(G=>G.grade==C.hero.grade).rgb,content:f(ue).find(G=>G.grade==C.hero.grade).title},{default:a(()=>[t(B,{offset:["-10px",5],color:f(ue).find(G=>G.grade==C.hero.grade).rgb,content:"Lv."+C.hero.level},{default:a(()=>[t(Ge,{src:C.hero.image,height:"80"},null,8,["src"])]),_:2},1032,["color","content"])]),_:2},1032,["color","content"]),s("div",null,[s("span",ls,e(f(R).global.locale=="zh_TW"?C.hero.name_cn:C.hero.name_en),1)])])):(o(),x("div",os,[t(b,{class:"iconfont","class-prefix":"ali-icon",name:C.typeName,size:"80"},null,8,["name"]),s("div",null,[s("span",is,e(p.$t("predict.select_one"))+e(p.$t("hero.type_"+C.type)),1)])]))],10,ns)]),_:2},1024),t(P,{span:"16"},{default:a(()=>[t(le,{justify:"space-around",class:"margin-left"},{default:a(()=>[(o(!0),x(te,null,ie(C.equips,G=>(o(),Y(P,{span:"8",key:"equip"+G.type},{default:a(()=>[t(le,{class:"text-gray text-center",onClick:ke=>A(C.type,G.type)},{default:a(()=>[JSON.stringify(G.equip)!="{}"?(o(),x("div",rs,[t(B,{offset:["-20px",5],color:f(ue).find(ke=>ke.grade==G.equip.grade).rgb,content:"Lv."+G.equip.level},{default:a(()=>[s("div",{class:ge(["solid equipbox text-center",G.change?"bg-gray radius shadow":""])},[s("p",{class:ge(["sprite-sm sprite","equip_"+G.equip.id])},null,2)],2)]),_:2},1032,["color","content"]),s("div",us,e(f(R).global.locale=="zh_TW"?G.equip.nameCn:G.equip.nameEn),1)])):(o(),x("div",ds,[s("div",{class:ge(["solid equipbox text-center",G.change?"bg-gray radius shadow":""])},[t(b,{name:"plus",size:"30"})],2),s("div",cs,e(p.$t("equip.type_"+G.type)),1)]))]),_:2},1032,["onClick"]),JSON.stringify(G.equip)!="{}"?(o(),Y(le,{key:0,class:"text-center text-sm text-gray margin-top-xs",onClick:ke=>ct(C.type,G.type)},{default:a(()=>[s("span",ps,e(p.$t("predict.attribute_adjustment")),1)]),_:2},1032,["onClick"])):H("",!0)]),_:2},1024))),128))]),_:2},1024)]),_:2},1024)]),_:2},1024),h.value?(o(),x("div",ms,[t(lt,{panelList:f(z)[C.type],total:ae.value[C.type]},null,8,["panelList","total"])])):H("",!0)]))),128))]),_:1}),t(je,{show:!i.value},{default:a(()=>[t(De,{class:"margin-top-xl padding-top-xl text-center"},{default:a(()=>[c(e(p.$t("common.loading")),1)]),_:1})]),_:1},8,["show"]),t(nt,{show:W.value,position:"bottom",onClose:fe,onClickOverlay:fe},{default:a(()=>[(o(),Y(at,{key:be.value,columns:f(de),"default-index":ne.value,"confirm-button-text":p.$t("common.confirm"),"cancel-button-text":p.$t("predict.no_select_hero"),onConfirm:Ie,onCancel:N},null,8,["columns","default-index","confirm-button-text","cancel-button-text"]))]),_:1},8,["show"]),t(nt,{show:X.value,position:"bottom",onClose:fe,onClickOverlay:fe},{default:a(()=>[(o(),Y(at,{key:be.value,columns:ce.value,"default-index":Z.value,"confirm-button-text":p.$t("common.confirm"),"cancel-button-text":p.$t("predict.no_select_equip"),onConfirm:_e,onCancel:dt},null,8,["columns","default-index","confirm-button-text","cancel-button-text"]))]),_:1},8,["show"]),t(ft,{show:Q.value,"onUpdate:show":u[9]||(u[9]=C=>Q.value=C),title:p.$t("predict.attribute_adjustment"),"show-cancel-button":"",confirmButtonText:p.$t("common.confirm"),cancelButtonText:p.$t("common.cancel"),onConfirm:pt},{default:a(()=>[JSON.stringify(q.value)!="{}"?(o(),x("div",_s,[t(ut,{equip:q.value},null,8,["equip"]),s("div",ys,[t(le,{class:"text-gray margin-bottom"},{default:a(()=>[t(P,{span:"12"},{default:a(()=>[c(e(p.$t("predict.current_level"))+"\uFF1A"+e(q.value.level),1)]),_:1}),t(P,{span:"12"},{default:a(()=>[c(e(p.$t("predict.attribute_bonus"))+"\uFF1A"+e(E[q.value.level-1])+"%",1)]),_:1})]),_:1}),t(le,{class:"solid-top padding-tb text-gray align-center"},{default:a(()=>[t(P,{span:"4"},{default:a(()=>[c(e(p.$t("hero."+F[q.value.stat1Type-1]))+"\uFF1A",1)]),_:1}),t(P,{span:"8"},{default:a(()=>[t(Ye,{modelValue:q.value.stat1ValueFinal,"onUpdate:modelValue":u[2]||(u[2]=C=>q.value.stat1ValueFinal=C),step:"1",min:q.value.stat1Value-q.value.stat1RandRange,max:q.value.stat1Value+q.value.stat1RandRange},null,8,["modelValue","min","max"])]),_:1}),t(P,{span:"12",class:"text-right"},{default:a(()=>[c(e(q.value.stat1ValueFinal)+"X"+e(E[q.value.level-1])+"%="+e(parseInt(q.value.stat1ValueFinal*E[q.value.level-1]/100)),1)]),_:1})]),_:1}),q.value.stat2Type>0?(o(),Y(le,{key:0,class:"solid-top padding-tb text-gray align-center"},{default:a(()=>[t(P,{span:"2"},{default:a(()=>[t(qe,{modelValue:d.value[0],"onUpdate:modelValue":u[3]||(u[3]=C=>d.value[0]=C),onChange:u[4]||(u[4]=C=>q.value.stat2ValueFinal=0)},null,8,["modelValue"])]),_:1}),t(P,{span:"4"},{default:a(()=>[c(e(p.$t("hero."+F[q.value.stat2Type-1]))+"\uFF1A",1)]),_:1}),t(P,{span:"8"},{default:a(()=>[d.value[0]?(o(),Y(Ye,{key:0,modelValue:q.value.stat2ValueFinal,"onUpdate:modelValue":u[5]||(u[5]=C=>q.value.stat2ValueFinal=C),step:"1",min:q.value.stat2Value-q.value.stat2RandRange,max:q.value.stat2Value+q.value.stat2RandRange},null,8,["modelValue","min","max"])):H("",!0)]),_:1}),t(P,{span:"10",class:"text-right"},{default:a(()=>[c(e(q.value.stat2ValueFinal)+"X"+e(E[q.value.level-1])+"%="+e(parseInt(q.value.stat2ValueFinal*E[q.value.level-1]/100)),1)]),_:1})]),_:1})):H("",!0),q.value.stat3Type>0?(o(),Y(le,{key:1,class:"solid-top padding-tb text-gray align-center"},{default:a(()=>[t(P,{span:"2"},{default:a(()=>[t(qe,{modelValue:d.value[1],"onUpdate:modelValue":u[6]||(u[6]=C=>d.value[1]=C),onChange:u[7]||(u[7]=C=>q.value.stat3ValueFinal=0)},null,8,["modelValue"])]),_:1}),t(P,{span:"4"},{default:a(()=>[c(e(p.$t("hero."+F[q.value.stat3Type-1]))+"\uFF1A",1)]),_:1}),t(P,{span:"8"},{default:a(()=>[d.value[1]?(o(),Y(Ye,{key:0,modelValue:q.value.stat3ValueFinal,"onUpdate:modelValue":u[8]||(u[8]=C=>q.value.stat3ValueFinal=C),step:"1",min:q.value.stat3Value-q.value.stat3RandRange,max:q.value.stat3Value+q.value.stat3RandRange},null,8,["modelValue","min","max"])):H("",!0)]),_:1}),t(P,{span:"10",class:"text-right"},{default:a(()=>[c(e(q.value.stat3ValueFinal)+"X"+e(E[q.value.level-1])+"%="+e(parseInt(q.value.stat3ValueFinal*E[q.value.level-1]/100)),1)]),_:1})]),_:1})):H("",!0)])])):H("",!0)]),_:1},8,["show","title","confirmButtonText","cancelButtonText"])],64)}}};var gs=$e(fs,[["__scopeId","data-v-2b792205"]]);const Qe=new kt("https://bsc-dataseed.binance.org"),hs="0xD80EdcF7C73B43852dA39497a6B5E9cbA1Edf39e",vs=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"uint8",name:"oldLevel",type:"uint8"},{indexed:!1,internalType:"uint8",name:"newLevel",type:"uint8"},{indexed:!1,internalType:"uint32",name:"oldPower",type:"uint32"},{indexed:!1,internalType:"uint32",name:"newPower",type:"uint32"}],name:"LevelChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"uint16",name:"itemCode",type:"uint16"},{indexed:!1,internalType:"uint8",name:"itemGrade",type:"uint8"},{indexed:!1,internalType:"uint8",name:"itemType",type:"uint8"},{indexed:!1,internalType:"uint8",name:"itemLevel",type:"uint8"},{indexed:!1,internalType:"uint256",name:"gene",type:"uint256"},{indexed:!1,internalType:"uint32",name:"power",type:"uint32"},{indexed:!1,internalType:"uint32",name:"initPower",type:"uint32"}],name:"Mint",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Paused",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"previousAdminRole",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"newAdminRole",type:"bytes32"}],name:"RoleAdminChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleGranted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleRevoked",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256[]",name:"ids",type:"uint256[]"},{indexed:!1,internalType:"uint256[]",name:"values",type:"uint256[]"}],name:"TransferBatch",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"id",type:"uint256"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"TransferSingle",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"string",name:"value",type:"string"},{indexed:!0,internalType:"uint256",name:"id",type:"uint256"}],name:"URI",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Unpaused",type:"event"},{inputs:[],name:"DEFAULT_ADMIN_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function",constant:!0},{inputs:[],name:"GRADE4_CODE_MINT_LIMIT",outputs:[{internalType:"uint32",name:"",type:"uint32"}],stateMutability:"view",type:"function",constant:!0},{inputs:[],name:"GRADE5_CODE_MINT_LIMIT",outputs:[{internalType:"uint32",name:"",type:"uint32"}],stateMutability:"view",type:"function",constant:!0},{inputs:[],name:"MINTER_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function",constant:!0},{inputs:[],name:"PAUSER_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function",constant:!0},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"id",type:"uint256"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function",constant:!0},{inputs:[{internalType:"address[]",name:"accounts",type:"address[]"},{internalType:"uint256[]",name:"ids",type:"uint256[]"}],name:"balanceOfBatch",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function",constant:!0},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleAdmin",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function",constant:!0},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"uint256",name:"index",type:"uint256"}],name:"getRoleMember",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function",constant:!0},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleMemberCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function",constant:!0},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"grantRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"hasRole",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function",constant:!0},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function",constant:!0},{inputs:[{internalType:"uint16",name:"",type:"uint16"}],name:"itemCodeNumMap",outputs:[{internalType:"uint64",name:"",type:"uint64"}],stateMutability:"view",type:"function",constant:!0},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"itemInfoMap",outputs:[{internalType:"uint16",name:"itemCode",type:"uint16"},{internalType:"uint8",name:"itemGrade",type:"uint8"},{internalType:"uint8",name:"itemType",type:"uint8"},{internalType:"uint8",name:"itemLevel",type:"uint8"},{internalType:"uint256",name:"gene",type:"uint256"},{internalType:"uint32",name:"power",type:"uint32"},{internalType:"uint32",name:"initPower",type:"uint32"}],stateMutability:"view",type:"function",constant:!0},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"itemOwner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function",constant:!0},{inputs:[],name:"nextTokenId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function",constant:!0},{inputs:[],name:"paused",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function",constant:!0},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"renounceRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"revokeRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256[]",name:"ids",type:"uint256[]"},{internalType:"uint256[]",name:"amounts",type:"uint256[]"},{internalType:"bytes",name:"data",type:"bytes"}],name:"safeBatchTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"id",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function",constant:!0},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"uri",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function",constant:!0},{inputs:[{internalType:"string",name:"uri",type:"string"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint16",name:"itemCode",type:"uint16"},{internalType:"uint8",name:"itemGrade",type:"uint8"},{internalType:"uint8",name:"itemType",type:"uint8"},{internalType:"uint8",name:"itemLevel",type:"uint8"},{internalType:"uint256",name:"gene",type:"uint256"},{internalType:"uint32",name:"power",type:"uint32"},{internalType:"uint32",name:"initPower",type:"uint32"}],name:"mint",outputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{components:[{internalType:"uint16",name:"itemCode",type:"uint16"},{internalType:"uint8",name:"itemGrade",type:"uint8"},{internalType:"uint8",name:"itemType",type:"uint8"},{internalType:"uint8",name:"itemLevel",type:"uint8"},{internalType:"uint256",name:"gene",type:"uint256"},{internalType:"uint32",name:"power",type:"uint32"},{internalType:"uint32",name:"initPower",type:"uint32"}],internalType:"struct ITinyNFT.ItemInfo[]",name:"items",type:"tuple[]"}],name:"mintBatch",outputs:[{internalType:"uint256[]",name:"ids",type:"uint256[]"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"burn",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256[]",name:"ids",type:"uint256[]"},{internalType:"uint256[]",name:"amounts",type:"uint256[]"}],name:"burnBatch",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_account",type:"address"},{internalType:"uint256",name:"_id",type:"uint256"}],name:"isOwnerOf",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function",constant:!0},{inputs:[{internalType:"address",name:"_owner",type:"address"},{internalType:"uint256",name:"_id",type:"uint256"},{internalType:"uint32",name:"_newLevel",type:"uint32"},{internalType:"uint32",name:"_newPower",type:"uint32"}],name:"updateItemLevel",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"pause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"unpause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"_newuri",type:"string"}],name:"setURI",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_id",type:"uint256"}],name:"getItem",outputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint16",name:"itemCode",type:"uint16"},{internalType:"uint8",name:"itemGrade",type:"uint8"},{internalType:"uint8",name:"itemType",type:"uint8"},{internalType:"uint8",name:"itemLevel",type:"uint8"},{internalType:"uint256",name:"gene",type:"uint256"},{internalType:"uint32",name:"power",type:"uint32"},{internalType:"uint32",name:"initPower",type:"uint32"}],stateMutability:"view",type:"function",constant:!0}];let Ue=new Tt(hs,vs,Qe);async function ot(n){let r=[],i=[];n.forEach(function(g){i.findIndex(h=>h.blockNumber==g.blockNumber)==-1?i.push({blockNumber:g.blockNumber,blockTotal:1}):i.find(h=>h.blockNumber==g.blockNumber).blockTotal+=1});let d=i[0].blockNumber,_=(await Qe.getBlock(d)).timestamp,y=i[i.length-1].blockNumber,$=(await Qe.getBlock(y)).timestamp,k=0;y>d&&(k=($-_)/(y-d)),i.forEach(function(g){g.timestamp=_+(g.blockNumber-d)*k});const m=Me();return m.heros||await m.initHeros(),n.forEach(function(g){r.push({tokenId:g.args.tokenId.toString(),owner:g.args.to,itemCode:g.args.itemCode,itemGrade:g.args.itemGrade,itemLevel:g.args.itemLevel,itemType:g.args.itemType,power:g.args.power,initPower:g.args.initPower,gene:g.args.gene.toString(),timestamp:i.find(h=>h.blockNumber==g.blockNumber).timestamp,blockNumber:g.blockNumber,transactionHash:g.transactionHash,name_cn:m.heros.find(h=>h.code==g.args.itemCode).name_cn,name_en:m.heros.find(h=>h.code==g.args.itemCode).name_en})}),r}let Ve;function bs(n){let r=parseInt(n/100),i="";switch(r){case 1:i="N";break;case 2:i="R";break;case 3:i="SR";break;case 4:i="SSR";break;case 6:i="SSSR";break}return i}function xs(n){const{proxy:r}=Le();Ve=r.$echarts.init(document.getElementById(n)),Ve.showLoading()}async function Ke(n){let r=[],i=[],d=[],_=[],y=[];n.forEach(g=>{let h=parseInt(g.itemCode/100)*100+g.itemCode%100*8,L=[g.timestamp,h,g.initPower,g.tokenId,g.owner,g.itemCode,g.name_en,g.name_cn];switch(g.itemGrade){case 1:r.push(L);break;case 2:i.push(L);break;case 3:d.push(L);break;case 4:_.push(L);break;case 5:y.push(L);break}});const $=[{name:"timestamp",index:0,text:"Time"},{name:"itemCode",index:1,text:"Type"},{name:"initPower",index:2,text:"Power"},{name:"tokenId",index:3,text:"ID"},{name:"owner",index:4,text:"Owner"}],k={opacity:.8,shadowBlur:10,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"rgba(0,0,0,0.3)"};let m={color:["#6e6e6e","#48c64c","#2d8eec","#9554fd","#ff7105"],tooltip:{},legend:{top:10,data:["N","R","SR","SSR","SSSR"],textStyle:{fontSize:16}},tooltip:{backgroundColor:"rgba(255,255,255,0.7)",formatter:function(g){var h=g.value;return'<image style="width:80px;height:80px;" src=https://images.tinyworlds.io/hero/'+h[5]+".png><br>"+h[6]+"("+h[7]+")<br>"+$[0].text+"\uFF1A"+pe.unix(h[0]).format("HH:mm")+"<br>"+$[2].text+"\uFF1A"+h[2]+"<br>"+$[4].text+"\uFF1A"+rt(h[4])+"<br>"}},xAxis:{type:"time",splitNumber:4,axisLabel:{formatter:function(g,h){return pe.unix(g).format("HH:mm")}},boundaryGap:["0","0"],splitLine:{show:!0}},yAxis:{type:"value",axisLabel:{formatter:function(g,h){return bs(g)}},splitLine:{show:!0}},series:[{name:"N",type:"scatter",itemStyle:k,data:r},{name:"R",type:"scatter",itemStyle:k,data:i},{name:"SR",type:"scatter",itemStyle:k,data:d},{name:"SSR",type:"scatter",itemStyle:k,data:_},{name:"SSSR",type:"scatter",itemStyle:k,data:y}],dataZoom:{orient:"horizontal",start:75}};Ve.hideLoading(),Ve.setOption(m)}const Re={props:{address:String},setup(n){const r=n,i=J(!1),d=J(r.address),_=[{text:"Bscscan.com",code:d.value,icon:"share-o"}],y=$=>{let k="https://bscscan.com/address/"+$.code;window.open(k,"_blank")};return($,k)=>{const m=v("van-popover");return o(),Y(m,{show:i.value,"onUpdate:show":k[0]||(k[0]=g=>i.value=g),actions:_,onSelect:y,placement:"top-start"},{reference:a(()=>[s("span",null,e(f(rt)(d.value)),1)]),_:1},8,["show"])}}};const ks=n=>(Fe("data-v-d33d782c"),n=n(),Je(),n),Ts={class:"margin-right-xs"},ws={key:0},$s={key:1},qs={style:{width:"90%"},class:"text-gray text-df text-left"},Ss={style:{width:"90%"},class:"margin-top-xs"},Cs={key:0,class:"text-orange text-sl"},Is={key:1,class:"text-purple text-sl"},Ns={key:2,class:"text-blue text-sl"},Rs={key:3,class:"text-green text-sl"},Os={key:4,class:"text-grey text-sl"},Vs={style:{width:"90%"},class:"text-left margin-top-xs"},Fs={class:"text-gray text-sm"},Js={key:0,class:"text-black text-sm margin-left-xs"},Ls={style:{width:"90%"},class:"text-left margin-top-xs"},Ms={class:"text-gray text-sm"},As={class:"text-black text-sm margin-left-xs"},Es={style:{width:"90%"},class:"text-left margin-top-xs"},Ps={class:"text-gray text-sm"},Bs={class:"text-black text-sm margin-left-xs"},zs={class:"text-gray text-sm margin-left-xs"},Hs={class:"text-black text-sm margin-left-xs"},Gs={style:{width:"90%"},class:"text-grey text-df text-right"},Ds={class:"margin-left-xs text-gray"},js={class:"text-df text-gray"},Ys={class:"text-df text-gray"},Ws={class:"text-df text-gray"},Us=c("SSSR"),Ks={class:"text-df text-block"},Xs={class:"text-df text-grey"},Zs=c("SSR"),Qs={class:"text-df text-block"},el={class:"text-df text-grey"},tl=c("SR"),al={class:"text-df text-block"},nl={class:"text-df text-grey"},sl={key:0,class:"text-orange margin-left-xs"},ll={key:1,class:"text-purple margin-left-xs"},ol={key:2,class:"text-blue margin-left-xs"},il={key:3,class:"text-green margin-left-xs"},rl={key:4,class:"text-grey margin-left-xs"},ul={class:"margin text-center"},dl=ks(()=>s("div",{id:"nftPointChart"},null,-1)),cl={key:0,class:"text-orange margin-left-xs"},pl={key:1,class:"text-purple margin-left-xs"},ml={key:2,class:"text-blue margin-left-xs"},_l={key:3,class:"text-green margin-left-xs"},yl={key:4,class:"text-grey margin-left-xs"},fl={class:"margin text-center"},gl={key:0,class:"text-orange margin-left-xs"},hl={key:1,class:"text-purple margin-left-xs"},vl={key:2,class:"text-blue margin-left-xs"},bl={key:3,class:"text-green margin-left-xs"},xl={key:4,class:"text-grey margin-left-xs"},kl={class:"margin text-center"},Tl={setup(n){const r="https://scf-deploy-ap-hongkong-1258577806.cos.ap-hongkong.myqcloud.com/tinyworlds/callhero/",i=tt(),d=J(!1),{proxy:_}=Le(),y=[{text:_.$dayjs.utc().format("YYYY/MM/DD"),index:0},{text:_.$dayjs.utc().subtract(1,"day").format("YYYY/MM/DD"),index:1},{text:_.$dayjs.utc().subtract(2,"day").format("YYYY/MM/DD"),index:2},{text:_.$dayjs.utc().subtract(3,"day").format("YYYY/MM/DD"),index:3},{text:_.$dayjs.utc().subtract(4,"day").format("YYYY/MM/DD"),index:4}],$=J(!1),k=J(0),m=async w=>{k.value=w.index;let M=_.$dayjs.utc();w.index>0&&(M=_.$dayjs.utc().subtract(w.index,"day")),await ye(M)};let g,h=[41,92,386,1600,8488];const L=J(""),E=J(""),F=J(0),T=J(0);let W=J(0),X=J([]),Q=Te({sssr:[],ssr:[],sr:[]}),ne=Te({last:[],luck:[],bad:[]}),Z=Te({last:5,luck:5,bad:5}),j=Ue.filters.Mint(),l=1;const U=(w,M)=>{Z[w]+=M},z=w=>{Z[w]=5};ve(async()=>{xs("nftPointChart"),i.pools||await i.initPools(),l=parseFloat(i.pools.price.TINC).toFixed(2),await ye(_.$dayjs.utc())});const ye=async w=>{d.value=!1;let M=[];X.value=[],g&&clearInterval(g);let re=r+w.format("YYYYMM")+"/"+w.format("YYYYMMDD")+".json?="+w.format("YYYYMMDDHH");const q=await we(re);if(q.data.length>0&&(M.push(...q.data),E.value=pe.unix(q.starttimestamp).format("HH:mm")),d.value=!0,w.get("date")==_.$dayjs.utc().get("date")){let me=parseInt(q.endblock)+1;console.log(me);let I=await Ue.queryFilter(j,me,"latest");console.log(I);let O=[];I.length>0&&(O=await ot(I),M.push(...O),E.value==""&&(E.value=pe.unix(M[0].timestamp).format("HH:mm"))),X.value.push(...M),ae(M),await Ke(M),g=setInterval(()=>{L.value=pe().format("HH:mm:ss")}),Ue.on("Mint",async(D,A,ee,fe,be,de,he,ce,Ie,N)=>{let _e=await ot([N]);M.push(..._e),X.value.push(..._e),ae(M),await Ke(M)})}else L.value=pe.unix(q.endtimestamp).format("HH:mm"),X.value.push(...M),ae(M),await Ke(M)},ae=w=>{Q.sssr=X.value.filter(O=>O.itemGrade==5),Q.ssr=X.value.filter(O=>O.itemGrade==4),Q.sr=X.value.filter(O=>O.itemGrade==3);let M=.5+(.005-parseFloat(Q.sssr.length/w.length).toFixed(4))*40+(.025-parseFloat(Q.ssr.length/w.length).toFixed(4))*8+(.08-parseFloat(Q.sr.length/w.length).toFixed(4))*2;W.value=parseFloat(M*100).toFixed(2);let re=-1,q=-1;w.forEach((O,D)=>{O.itemGrade==5&&(re=D),O.itemGrade==4&&(q=D)}),F.value=w.length-re-1,T.value=w.length-q-1;let me=w.reduce((O,D)=>{let A=-1;if(O.length&&(A=O.findIndex(function(ee){return ee.owner==D.owner&&ee.blockNumber==D.blockNumber})),A>=0)O[A].totalnum[0]++,O[A].totalnum[D.itemGrade]++,O[A].score+=h[D.itemGrade-1]-100*l,O[A].nfts.push(D);else{let ee={owner:D.owner,score:0,totalnum:[1,0,0,0,0,0],timestamp:D.timestamp,blockNumber:D.blockNumber,nfts:[D]};ee.totalnum[D.itemGrade]++,ee.score+=h[D.itemGrade-1]-100*l,O.push(ee)}return O},[]);me=me.sort(Oe("blockNumber")),ne.last=me.reverse();let I=w.reduce((O,D)=>{let A=-1;if(O.length&&(A=O.findIndex(ee=>ee.owner==D.owner)),A>=0)O[A].totalnum[0]++,O[A].totalnum[D.itemGrade]++,O[A].score+=h[D.itemGrade-1]-100*l,O[A].nfts.push(D);else{let ee={owner:D.owner,score:0,totalnum:[1,0,0,0,0,0],nfts:[D]};ee.totalnum[D.itemGrade]++,ee.score+=h[D.itemGrade-1]-100*l,O.push(ee)}return O},[]);I=I.sort(Oe("score")),ne.bad=I.filter(O=>O.score<0),ne.luck=I.reverse().filter(O=>O.score>0)};return(w,M)=>{const re=v("van-swipe-item"),q=v("van-swipe"),me=v("van-notice-bar"),I=v("van-grid-item"),O=v("van-icon"),D=v("van-popover"),A=v("van-col"),ee=v("van-row"),fe=v("van-tag"),be=v("van-grid"),de=v("van-cell-group"),he=v("van-cell"),ce=v("van-loading"),Ie=v("van-overlay");return o(),x(te,null,[f(Q).sssr.length?(o(),Y(me,{key:0,"left-icon":"volume-o",scrollable:!1},{default:a(()=>[t(q,{vertical:"",class:"notice-swipe",autoplay:3e3,"show-indicators":!1},{default:a(()=>[(o(!0),x(te,null,ie(f(Q).sssr,(N,_e)=>(o(),Y(re,{key:_e},{default:a(()=>[s("span",Ts,e(f(pe).unix(N.timestamp).format("HH:mm")),1),t(Re,{address:N.owner},null,8,["address"]),c(e(w.$t("callhero.notie_1"))+" ",1),f(R).global.locale=="zh_TW"?(o(),x("span",ws,e(N.name_cn),1)):(o(),x("span",$s,e(N.name_en),1)),c(" ,"+e(w.$t("callhero.notie_2"))+":"+e(N.initPower),1)]),_:2},1024))),128))]),_:1})]),_:1})):H("",!0),t(de,{inset:"",style:{"margin-top":"10px"}},{default:a(()=>[t(be,{"column-num":"2"},{default:a(()=>[t(I,{"use-slot":""},{default:a(()=>[s("div",qs,e(w.$t("callhero.heartIndex")),1),s("div",Ss,[f(W)>85?(o(),x("span",Cs,e(f(W))+"%",1)):f(W)>70?(o(),x("span",Is,e(f(W))+"%",1)):f(W)>50?(o(),x("span",Ns,e(f(W))+"%",1)):f(W)>30?(o(),x("span",Rs,e(f(W))+"%",1)):(o(),x("span",Os,e(f(W))+"%",1))]),s("div",Vs,[s("span",Fs,e(w.$t("callhero.total_time"))+":",1),f(X).length?(o(),x("span",Js,e(E.value)+"-"+e(L.value),1)):H("",!0)]),s("div",Ls,[s("span",Ms,e(w.$t("callhero.total_open"))+":",1),s("span",As,e(f(X).length),1)]),s("div",Es,[s("span",Ps,e(w.$t("callhero.no_orange"))+":",1),s("span",Bs,e(F.value)+"/200",1),s("span",zs,e(w.$t("callhero.no_purple"))+":",1),s("span",Hs,e(T.value)+"/40",1)])]),_:1}),t(I,{"use-slot":""},{default:a(()=>[s("div",Gs,[t(D,{placement:"bottom-end",theme:"dark",show:$.value,"onUpdate:show":M[0]||(M[0]=N=>$.value=N),actions:y,onSelect:m},{reference:a(()=>[t(O,{name:"calendar-o"}),s("span",Ds,e(y.find(N=>N.index==k.value).text),1)]),_:1},8,["show"])]),t(ee,{style:{width:"90%"},justify:"space-between",class:"margin-top-sm"},{default:a(()=>[t(A,{span:"8",class:"text-left"},{default:a(()=>[s("span",js,e(w.$t("callhero.title_nft")),1)]),_:1}),t(A,{span:"8",class:"text-center"},{default:a(()=>[s("span",Ys,e(w.$t("callhero.title_open")),1)]),_:1}),t(A,{span:"8",class:"text-center"},{default:a(()=>[s("span",Ws,e(w.$t("callhero.title_theory")),1)]),_:1})]),_:1}),t(ee,{style:{width:"90%"},justify:"space-between",class:"margin-top-sm"},{default:a(()=>[t(A,{span:"8"},{default:a(()=>[t(fe,{color:"#ff7105"},{default:a(()=>[Us]),_:1})]),_:1}),t(A,{span:"8",class:"text-center"},{default:a(()=>[s("span",Ks,e(f(Q).sssr.length),1)]),_:1}),t(A,{span:"8",class:"text-center"},{default:a(()=>[s("span",Xs,e(parseInt(f(X).length*.005)),1)]),_:1})]),_:1}),t(ee,{style:{width:"90%"},justify:"space-between",class:"margin-top-sm"},{default:a(()=>[t(A,{span:"8"},{default:a(()=>[t(fe,{color:"#9554fd"},{default:a(()=>[Zs]),_:1})]),_:1}),t(A,{span:"8",class:"text-center"},{default:a(()=>[s("span",Qs,e(f(Q).ssr.length),1)]),_:1}),t(A,{span:"8",class:"text-center"},{default:a(()=>[s("span",el,e(parseInt(f(X).length*.025)),1)]),_:1})]),_:1}),t(ee,{style:{width:"90%"},justify:"space-between",class:"margin-top-sm"},{default:a(()=>[t(A,{span:"8"},{default:a(()=>[t(fe,{color:"#2d8eec"},{default:a(()=>[tl]),_:1})]),_:1}),t(A,{span:"8",class:"text-center"},{default:a(()=>[s("span",al,e(f(Q).sr.length),1)]),_:1}),t(A,{span:"8",class:"text-center"},{default:a(()=>[s("span",nl,e(parseInt(f(X).length*.08)),1)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),t(de,{inset:"",style:{"margin-top":"10px"}},{default:a(()=>[t(he,{title:w.$t("callhero.list_last"),icon:"label-o"},{value:a(()=>[f(Z).last>5?(o(),x("span",{key:0,onClick:M[1]||(M[1]=N=>z("last"))},e(w.$t("common.show_only_5")),1)):H("",!0)]),_:1},8,["title"]),t(ee,{justify:"center",class:"margin-top-sm text-center"},{default:a(()=>[t(A,{span:"4",class:"text-df text-gray"},{default:a(()=>[c(e(w.$t("callhero.list_time")),1)]),_:1}),t(A,{span:"6",class:"text-df text-gray"},{default:a(()=>[c(e(w.$t("callhero.list_address")),1)]),_:1}),t(A,{span:"12",class:"text-df text-gray"},{default:a(()=>[c(e(w.$t("callhero.list_grades")),1)]),_:1}),t(A,{span:"2",class:"text-df text-gray"},{default:a(()=>[c(e(w.$t("callhero.list_total")),1)]),_:1})]),_:1}),(o(!0),x(te,null,ie(f(ne).last.slice(0,f(Z).last),(N,_e)=>(o(),Y(ee,{justify:"center",class:"margin-top-sm text-center solid-top",key:_e},{default:a(()=>[t(A,{span:"4",class:"margin-top"},{default:a(()=>[c(e(f(pe).unix(N.timestamp).format("HH:mm")),1)]),_:2},1024),t(A,{span:"6",class:"margin-top"},{default:a(()=>[t(Re,{address:N.owner},null,8,["address"])]),_:2},1024),t(A,{span:"12",class:"margin-top"},{default:a(()=>[N.totalnum[5]?(o(),x("span",sl,e(N.totalnum[5])+"sssr",1)):H("",!0),N.totalnum[4]?(o(),x("span",ll,e(N.totalnum[4])+"ssr",1)):H("",!0),N.totalnum[3]?(o(),x("span",ol,e(N.totalnum[3])+"sr",1)):H("",!0),N.totalnum[2]?(o(),x("span",il,e(N.totalnum[2])+"r",1)):H("",!0),N.totalnum[1]?(o(),x("span",rl,e(N.totalnum[1])+"n",1)):H("",!0)]),_:2},1024),t(A,{span:"2",class:"margin-top"},{default:a(()=>[c(e(N.totalnum[0]),1)]),_:2},1024)]),_:2},1024))),128)),s("div",ul,[f(Z).last<f(ne).last.length?(o(),x("span",{key:0,class:"text-gray",onClick:M[2]||(M[2]=N=>U("last",5))},e(w.$t("common.add_more")),1)):H("",!0)])]),_:1}),t(de,{inset:"",style:{"margin-top":"10px"}},{default:a(()=>[t(he,{title:w.$t("callhero.open_trend"),icon:"bar-chart-o"},null,8,["title"]),dl]),_:1}),t(de,{inset:"",style:{"margin-top":"10px"}},{default:a(()=>[t(he,{title:w.$t("callhero.list_luck"),icon:"good-job-o"},{value:a(()=>[f(Z).luck>5?(o(),x("span",{key:0,onClick:M[3]||(M[3]=N=>z("luck"))},e(w.$t("common.show_only_5")),1)):H("",!0)]),_:1},8,["title"]),t(ee,{justify:"center",class:"margin-top-sm text-center"},{default:a(()=>[t(A,{span:"8",class:"text-df text-gray"},{default:a(()=>[c(e(w.$t("callhero.list_address")),1)]),_:1}),t(A,{span:"12",class:"text-df text-gray"},{default:a(()=>[c(e(w.$t("callhero.list_grades")),1)]),_:1}),t(A,{span:"4",class:"text-df text-gray"},{default:a(()=>[c(e(w.$t("callhero.list_total")),1)]),_:1})]),_:1}),(o(!0),x(te,null,ie(f(ne).luck.slice(0,f(Z).luck),(N,_e)=>(o(),Y(ee,{justify:"center",class:"margin-top-sm text-center solid-top",key:_e},{default:a(()=>[t(A,{span:"8",class:"margin-top"},{default:a(()=>[t(Re,{address:N.owner},null,8,["address"])]),_:2},1024),t(A,{span:"12",class:"margin-top"},{default:a(()=>[N.totalnum[5]?(o(),x("span",cl,e(N.totalnum[5])+"sssr",1)):H("",!0),N.totalnum[4]?(o(),x("span",pl,e(N.totalnum[4])+"ssr",1)):H("",!0),N.totalnum[3]?(o(),x("span",ml,e(N.totalnum[3])+"sr",1)):H("",!0),N.totalnum[2]?(o(),x("span",_l,e(N.totalnum[2])+"r",1)):H("",!0),N.totalnum[1]?(o(),x("span",yl,e(N.totalnum[1])+"n",1)):H("",!0)]),_:2},1024),t(A,{span:"4",class:"margin-top"},{default:a(()=>[c(e(N.totalnum[0]),1)]),_:2},1024)]),_:2},1024))),128)),s("div",fl,[f(Z).luck<f(ne).luck.length?(o(),x("span",{key:0,class:"text-gray",onClick:M[4]||(M[4]=N=>U("luck",5))},e(w.$t("common.add_more")),1)):H("",!0)])]),_:1}),t(de,{inset:"",style:{"margin-top":"10px"}},{default:a(()=>[t(he,{title:w.$t("callhero.list_bad"),icon:"medal-o"},{value:a(()=>[f(Z).bad>5?(o(),x("span",{key:0,onClick:M[5]||(M[5]=N=>z("bad"))},e(w.$t("common.show_only_5")),1)):H("",!0)]),_:1},8,["title"]),t(ee,{justify:"center",class:"margin-top-sm text-center"},{default:a(()=>[t(A,{span:"8",class:"text-df text-gray"},{default:a(()=>[c(e(w.$t("callhero.list_address")),1)]),_:1}),t(A,{span:"12",class:"text-df text-gray"},{default:a(()=>[c(e(w.$t("callhero.list_grades")),1)]),_:1}),t(A,{span:"4",class:"text-df text-gray"},{default:a(()=>[c(e(w.$t("callhero.list_total")),1)]),_:1})]),_:1}),(o(!0),x(te,null,ie(f(ne).bad.slice(0,f(Z).bad),(N,_e)=>(o(),Y(ee,{justify:"center",class:"margin-top-sm text-center solid-top",key:_e},{default:a(()=>[t(A,{span:"8",class:"margin-top"},{default:a(()=>[t(Re,{address:N.owner},null,8,["address"])]),_:2},1024),t(A,{span:"12",class:"margin-top"},{default:a(()=>[N.totalnum[5]?(o(),x("span",gl,e(N.totalnum[5])+"sssr",1)):H("",!0),N.totalnum[4]?(o(),x("span",hl,e(N.totalnum[4])+"ssr",1)):H("",!0),N.totalnum[3]?(o(),x("span",vl,e(N.totalnum[3])+"sr",1)):H("",!0),N.totalnum[2]?(o(),x("span",bl,e(N.totalnum[2])+"r",1)):H("",!0),N.totalnum[1]?(o(),x("span",xl,e(N.totalnum[1])+"n",1)):H("",!0)]),_:2},1024),t(A,{span:"4",class:"margin-top"},{default:a(()=>[c(e(N.totalnum[0]),1)]),_:2},1024)]),_:2},1024))),128)),s("div",kl,[f(Z).bad<f(ne).bad.length?(o(),x("span",{key:0,class:"text-gray",onClick:M[6]||(M[6]=N=>U("bad",5))},e(w.$t("common.add_more")),1)):H("",!0)])]),_:1}),t(Ie,{show:!d.value},{default:a(()=>[t(ce,{class:"margin-top-xl padding-top-xl text-center"},{default:a(()=>[c(e(w.$t("common.loading")),1)]),_:1})]),_:1},8,["show"])],64)}}};var wl=$e(Tl,[["__scopeId","data-v-d33d782c"]]);const $l=n=>(Fe("data-v-f9cfd068"),n=n(),Je(),n),ql={class:"margin-top"},Sl=["onClick"],Cl={class:"cu-tag radius text-xl text-grey fl margin-top-sm"},Il={class:"cu-avatar-group margin-bottom-sm fl"},Nl={class:"fl text-df text-gray margin-left-sm"},Rl={class:"playername"},Ol={class:"text-sm"},Vl={class:"text-black"},Fl={class:"margin-left-sm"},Jl={class:"text-black"},Ll={class:"text-orange text-lg"},Ml=$l(()=>s("span",{class:"text-sm text-gray margin-right"},"Tinc",-1)),Al={setup(n){const r=Ae(),i=it(),d=J([]),_=J([]),y=10;ve(async()=>{r.ranking_city||await r.initRankingCity(),_.value=r.ranking_city.all,$()});function $(){d.values=[];for(let m=1;m<_.value.length;m+=y)d.value.push(m)}const k=m=>{console.log(m),i.push({name:"Predict",params:{playerId:m}})};return(m,g)=>{const h=v("van-index-anchor"),L=v("van-cell"),E=v("van-index-bar");return o(),x("div",ql,[_.value.length>=400?(o(),Y(E,{key:0,"index-list":d.value,"sticky-offset-top":40},{default:a(()=>[(o(!0),x(te,null,ie(d.value,F=>(o(),x(te,{key:F},[t(h,{index:F},{default:a(()=>[c(e(F)+"-"+e(parseInt(F)+y),1)]),_:2},1032,["index"]),(o(!0),x(te,null,ie(_.value.slice(parseInt(F)-1,parseInt(F)+y-1),T=>(o(),Y(L,{key:T,class:"solid-bottom"},{title:a(()=>[s("div",{onClick:W=>k(T.playerId)},[s("span",Cl,e(T.rankIndex),1),s("div",Il,[(o(!0),x(te,null,ie(T.data.filter(W=>W.hero.code>0),W=>(o(),x("div",{class:"cu-avatar round",key:W,style:Xe([{backgroundImage:"url(https://images.tinyworlds.io/hero/"+W.hero.code+".png)",backgroundColor:f(Ze).find(X=>X.code==100*parseInt(W.hero.code/100)).rgb}])},null,4))),128))]),s("div",Nl,[s("div",Rl,e(T.title_cn),1),s("div",Ol,[c(e(m.$t("predict.castle_floor"))+":",1),s("span",Vl,e(parseInt(T.scoreValue)),1),s("span",Fl,e(m.$t("predict.real_time"))+":",1),s("span",Jl,e(parseInt(T.cityCapability)),1)])])],8,Sl)]),"right-icon":a(()=>[s("div",null,[s("span",Ll,e(T.prizeAmount),1),Ml])]),_:2},1024))),128))],64))),128))]),_:1},8,["index-list"])):H("",!0)])}}};var El=$e(Al,[["__scopeId","data-v-f9cfd068"]]);const Pl=[{path:"/",name:"Home",component:Ka,alias:"/home"},{path:"/baike",name:"Baike",component:yn},{path:"/predict",name:"Predict",component:gs},{path:"/callhero",name:"Callhero",component:wl},{path:"/playerlist",name:"Playerlist",component:El}],Ce=wt({history:$t(),routes:Pl});const Bl={class:"margin-left"},zl={class:"margin text-lg text-black text-left"},Hl={class:"margin text-df text-gray text-left desc"},Gl=["innerHTML"],Dl={class:"margin text-df text-gray text-center"},jl={class:"margin text-lg"},Yl={class:"text-gray"},Wl={setup(n){const r=J(!1),i="0xb4B33a7018aEB0cd4aA8C6fb4609c030c91F5E89",{proxy:d}=Le(),{toClipboard:_}=qt(),y=pe().format("MM-DD");ve(async()=>{y!=localStorage.getItem("tinytoolsday")&&(r.value=!0)});const $=()=>{r.value=!0},k=async()=>{localStorage.setItem("tinytoolsday",y);try{await _(i),d.$toast.success(R.global.t("common.paytip_suress"))}catch(m){d.$toast.fail(m)}};return(m,g)=>{const h=v("van-button"),L=v("van-divider"),E=v("van-dialog");return o(),x(te,null,[s("span",null,e(m.$t("update.time")),1),s("div",Bl,[t(h,{size:"mini",hairline:"",plain:"",round:"",type:"primary",onClick:$,class:"margin"},{default:a(()=>[c(e(m.$t("common.paytip_title")),1)]),_:1})]),t(E,{show:r.value,"onUpdate:show":g[0]||(g[0]=F=>r.value=F),title:m.$t("common.paytip_title"),showCancelButton:"",confirmButtonText:m.$t("common.paytip_btnok"),cancelButtonText:m.$t("common.paytip_cancel"),onConfirm:k},{default:a(()=>[s("div",zl,[s("span",null,e(m.$t("update.title"))+":",1)]),s("div",Hl,[s("div",{innerHTML:m.$t("update.desc")},null,8,Gl)]),t(L),s("div",Dl,[s("span",null,e(m.$t("common.paytip_desc")),1)]),s("div",jl,[s("span",Yl,"BSC"+e(m.$t("common.address"))+"\uFF1A",1),s("span",{class:"text-wrapper text-black"},e(i))])]),_:1},8,["show","title","confirmButtonText","cancelButtonText"])],64)}}};var Ul=$e(Wl,[["__scopeId","data-v-7a82cd88"]]);const Kl={class:"margin-left-xs text-gray"},Xl=s("div",{class:"van-safe-area-bottom",style:{height:"60px"}},null,-1),Zl={setup(n){R.global.locale=localStorage.getItem("langCode")||"en";const r=J(!1),i=[{text:"English",locale:"en"},{text:"\u7E41\u4F53\u4E2D\u6587",locale:"zh_TW"}],d=$=>{R.global.locale=$.locale,localStorage.setItem("langCode",$.locale),console.log(Ce.currentRoute.value)},_=Ae(),y=Me();return ve(async()=>{await y.initHeros(),await _.initEquipment()}),($,k)=>{const m=v("van-icon"),g=v("van-popover"),h=v("van-nav-bar"),L=v("van-sticky"),E=v("router-view"),F=v("van-divider"),T=v("van-tabbar-item"),W=v("van-tabbar");return o(),x(te,null,[t(L,null,{default:a(()=>[t(h,{title:!f(Ce).currentRoute.value.name||f(Ce).currentRoute.value.name=="Home"?$.$t("home.title"):$.$t("tabbar."+String(f(Ce).currentRoute.value.name).toLowerCase())},{right:a(()=>[t(g,{placement:"bottom-end",theme:"dark",show:r.value,"onUpdate:show":k[0]||(k[0]=X=>r.value=X),actions:i,onSelect:d},{reference:a(()=>[t(m,{class:"iconfont","class-prefix":"ali-icon",name:"lvzhou_yuyanqiehuan"}),s("span",Kl,e(i.find(X=>X.locale==f(R).global.locale).text),1)]),_:1},8,["show"])]),_:1},8,["title"])]),_:1}),t(E),t(F,null,{default:a(()=>[c(e($.$t("common.copyright")),1),t(Ul)]),_:1}),Xl,t(W,{route:""},{default:a(()=>[t(T,{replace:"",to:"/",icon:"home-o"},{default:a(()=>[c(e($.$t("tabbar.home")),1)]),_:1}),t(T,{replace:"",to:"/baike"},{icon:a(()=>[t(m,{class:"iconfont","class-prefix":"ali-icon",name:"baike"})]),default:a(()=>[c(e($.$t("tabbar.baike"))+" ",1)]),_:1}),t(T,{replace:"",to:"/predict"},{icon:a(()=>[t(m,{class:"iconfont","class-prefix":"ali-icon",name:"jisuanqi"})]),default:a(()=>[c(e($.$t("tabbar.predict"))+" ",1)]),_:1}),t(T,{replace:"",to:"/callhero"},{icon:a(()=>[t(m,{class:"iconfont","class-prefix":"ali-icon",name:"choujiang"})]),default:a(()=>[c(e($.$t("tabbar.callhero"))+" ",1)]),_:1})]),_:1})],64)}}},Ql=St();pe.extend(Ct);const Pe=It(Zl);Pe.config.globalProperties.$dayjs=pe;Pe.config.globalProperties.$echarts=Nt;Pe.use(Rt).use(Ot).use(Vt).use(Ft).use(Jt).use(Lt).use(Mt).use(At).use(Et).use(Pt).use(Bt).use(zt).use(Ht).use(Gt).use(Dt).use(jt).use(Yt).use(Wt).use(Ut).use(Kt).use(Xt).use(Zt).use(Qt).use(ea).use(ta).use(aa).use(na).use(sa).use(la).use(oa).use(ia).use(ra).use(ua).use(da).use(ca).use(pa).use(ma).use(_a).use(ya).use(fa).use(ga).use(ha).use(va);Pe.use(R).use(Ql).use(Ce).mount("#app");
